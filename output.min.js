(function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<r.length;o++)i(r[o]);return i})({1:[function(require,module,exports){(function(){function exportModule(numeric,numeral,jStatLib,moment,_,_s,md5Lib){var Formula={},jStat=jStatLib.jStat,md5=md5Lib.md5;var MEMOIZED_FACT=[];var SQRT2PI=2.5066282746310002;var WEEK_STARTS=[undefined,0,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,1,2,3,4,5,6,0];var WEEK_TYPES=[[],[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],[],[],[],[],[],[],[],[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]];var WEEKEND_TYPES=[[],[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],undefined,undefined,undefined,[0],[1],[2],[3],[4],[5],[6]];Formula.UNIQUE=function(){return _.unique(arguments)};Formula.FLATTEN=function(){return _.flatten(arguments)};Formula.FUNCTION=function(){var e=Array.prototype.slice.call(arguments);var t=e[e.length-1];var n=/(\w+)\(/g;var r=t.replace(n,function(){return"Formulae."+arguments[0]});e[e.length-1]="return "+r+";";if(r!==t){e.unshift("Formulae")}return Function.apply(null,e)};Formula.MOMENT=function(e,t){return moment(e).format(t)};Formula.MOMENTADD=function(e,t,n){return moment(e).add(t,n)};Formula.MOMENTDIFF=function(e,t,n){return moment(t).diff(moment.utc(e),n)};Formula.MOMENTSUB=function(e,t,n){return moment(e).subtract(t,n)};Formula.MOMENTUTC=function(e,t){return moment.utc(e).format(t)};Formula.MOMENTUTCADD=function(e,t,n){return moment.utc(e).add(t,n)};Formula.MOMENTUTCDIFF=function(e,t,n){return moment.utc(t).diff(moment.utc(e),n)};Formula.MOMENTUTCSUB=function(e,t,n){return moment.utc(e).subtract(t,n)};Formula.MOMENTUNIX=function(e){return moment.unix(e).toDate()};Formula.MOMENTFORMAT=function(e,t){return moment(e).format(t)};Formula.MOMENTISLEAPYEAR=function(e,t){return moment(e,t).isLeapYear()};Formula.MOMENTISDST=function(e,t){return moment(e,t).isDST()};Formula.MOMENTSTARTOF=function(e,t,n){return moment(e,n).startOf(t).toDate()};Formula.MOMENTENDOF=function(e,t,n){return moment(e,n).endOf(t).toDate()};Formula.MOMENTISAFTER=function(e,t,n){return moment(e,n).isAfter(moment(t,n))};Formula.MOMENTISBEFORE=function(e,t,n){return moment(e,n).isBefore(moment(t,n))};Formula.INTERVAL=function(e){var t=Math.floor(e/94608e4);e=e%94608e4;var n=Math.floor(e/2592e3);e=e%2592e3;var r=Math.floor(e/86400);e=e%86400;var i=Math.floor(e/3600);e=e%3600;var s=Math.floor(e/60);e=e%60;var o=e;t=t>0?t+"Y":"";n=n>0?n+"M":"";r=r>0?r+"D":"";i=i>0?i+"H":"";s=s>0?s+"M":"";o=o>0?o+"S":"";return"P"+t+n+r+"T"+i+s+o};Formula.ARGSCONCAT=function(e){var t=[];for(var n=0;n<e.length;n++){t=t.concat(e[n])}return t};Formula.ARGSTOARRAY=function(e){return Array.prototype.slice.call(e,0)};Formula.CLEANFLOAT=function(e){var t=Math.pow(10,14);return Math.round(e*t)/t};Formula.COUNTIN=function(e,t){var n=0;for(var r=0;r<e.length;r++){if(e[r]===t){n++}}return n};Formula.GETJSON=function(e){var t=new XMLHttpRequest;t.open("GET",e,false);t.send(null);if(t.status===200){return JSON.parse(t.responseText)}};Formula.DATE=function(e,t,n){return new Date(e,t-1,n)};Formula.DATEVALUE=function(e){return Math.ceil((moment(e)-moment("1900-1-1"))/864e5)+2};Formula.DAY=function(e){return moment(new Date(e)).date()};Formula.DAYS=function(e,t){return moment(new Date(e)).diff(moment(new Date(t)),"days")};Formula.DAYS360=function(e,t,n){var r=moment(new Date(e));var i=moment(new Date(t));var s=31;var o=31;var u=r.date();var a=i.date();if(n){u=u===31?30:u;a=a===31?30:a}else{if(r.month()===1){s=r.daysInMonth()}if(i.month()===1){o=i.daysInMonth()}u=u===s?30:u;if(u===30||u===s){a=a===o?30:a}}return 360*(i.year()-r.year())+30*(i.month()-r.month())+(a-u)};Formula.EDATE=function(e,t){return moment(new Date(e)).add("months",t).toDate()};Formula.EOMONTH=function(e,t){var n=moment(new Date(e)).add("months",t);return new Date(n.year(),n.month(),n.daysInMonth())};Formula.FROMNOW=function(e,t){return moment(new Date(e)).fromNow(t)};Formula.HOUR=function(e){return e<=1?Math.floor(24*e):moment(new Date(e)).hours()};Formula.MINUTE=function(e){return e<=1?Math.floor(24*60*e)-60*Math.floor(24*e):moment(new Date(e)).minutes()};Formula.ISOWEEKNUM=function(e){return moment(new Date(e)).format("w")};Formula.MONTH=function(e){return moment(new Date(e)).month()+1};Formula.NETWORKDAYS=function(e,t,n){return Formula.NETWORKDAYSINTL(e,t,1,n)};Formula.NETWORKDAYSINTL=function(e,t,n,r){var i=typeof n==="undefined"?1:n;var s=WEEKEND_TYPES[i];var o=moment(e);var u=moment(t);var a=u.diff(o,"days")+1;var f=a;var l="";var c=o;var h=[];if(typeof r!=="undefined"){for(var p=0;p<r.length;p++){h[p]=moment(new Date(r[p])).format("MM-DD-YYYY")}}var d=0;while(d<a){l=c.format("d");if(s.indexOf(parseInt(l,10))>=0){f--}else if(h.indexOf(c.format("MM-DD-YYYY"))>=0){f--}c=c.add("days",1);d++}return f};Formula.NOW=function(){return new Date};Formula.SECOND=function(e){return moment(new Date(e)).seconds()};Formula.TIME=function(e,t,n){return(3600*e+60*t+n)/86400};Formula.TIMEVALUE=function(e){var t=moment(new Date(e));return(3600*t.hours()+60*t.minutes()+t.seconds())/86400};Formula.TODAY=function(){return new Date};Formula.WEEKDAY=function(e,t){var n=moment(new Date(e)).format("d");var r=typeof t==="undefined"?1:t;return WEEK_TYPES[r][n]};Formula.WEEKNUM=function(e,t){var n=moment(new Date(e));var r=moment(new Date(n.year(),0,1));var i=typeof t==="undefined"?1:t;var s=WEEK_STARTS[i];var o=r.format("d");var u=o<s?s-o+1:o-s;if(i===21){return Formula.ISOWEEKNUM(e)}else{return Math.floor(n.diff(r.subtract("days",u),"days")/7)+1}};Formula.WORKDAY=function(e,t,n){return Formula.WORKDAYINTL(e,t,1,n)};Formula.WORKDAYINTL=function(e,t,n,r){var i=typeof n==="undefined"?1:n;var s=WEEKEND_TYPES[i];var o=moment(new Date(e));var u=o;var a="";var f=[];if(typeof r!=="undefined"){for(var l=0;l<r.length;l++){f[l]=moment(new Date(r[l])).format("MM-DD-YYYY")}}var c=0;while(c<t){u=u.add("days",1);a=u.format("d");if(s.indexOf(parseInt(a,10))<0&&f.indexOf(u.format("MM-DD-YYYY"))<0){c++}}return u.toDate()};Formula.YEAR=function(e){return moment(new Date(e)).year()};Formula.YEARFRAC=function(e,t,n){n=typeof n==="undefined"?0:n;var r=moment(new Date(e));var i=moment(new Date(t));if(!r.isValid()||!i.isValid()){return"#VALUE!"}if([0,1,2,3,4].indexOf(n)===-1){return"#NUM!"}if(r===i){return 0}if(r.diff(i)>0){i=moment(new Date(e));r=moment(new Date(t))}var s=r.year();var o=r.month();var u=r.date();var a=i.year();var f=i.month();var l=i.date();switch(n){case 0:if(u===31&&l===31){u=30;l=30}else if(u===31){u=30}else if(u===30&&l===31){l=30}else if(o===1&&f===1&&r.daysInMonth()===u&&i.daysInMonth()===l){u=30;l=30}else if(o===1&&r.daysInMonth()===u){u=30}return(l+f*30+a*360-(u+o*30+s*360))/360;case 1:var c=function(e,t){var n=moment(new Date(e.year(),2,1));if(moment([e.year()]).isLeapYear()&&e.diff(n)<0&&t.diff(n)>=0){return true}var r=moment(new Date(t.year(),2,1));if(moment([t.year()]).isLeapYear()&&t.diff(r)>=0&&e.diff(r)<0){return true}return false};var h=365;if(s===a||s+1===a&&(o>f||o===f&&u>=l)){if(s===a&&moment([s]).isLeapYear()){h=366}else if(c(r,i)||f===1&&l===29){h=366}return i.diff(r,"days")/h}else{var p=a-s+1;var d=moment(new Date(a+1,0,1)).diff(moment(new Date(s,0,1)),"days");var v=d/p;return i.diff(r,"days")/v}break;case 2:return i.diff(r,"days")/360;case 3:return i.diff(r,"days")/365;case 4:if(u===31){u=30}if(l===31){l=30}return(l+f*30+a*360-(u+o*30+s*360))/360}};Formula.BESSELI=function(){return};Formula.BESSELJ=function(){return};Formula.BESSELK=function(){return};Formula.BESSELY=function(){return};Formula.VALIDBIN=function(e){return/^[01]{1,10}$/.test(e)};Formula.BIN2DEC=function(e){if(!Formula.VALIDBIN(e)){return"#NUM!"}var t=parseInt(e,2);var n=e.toString();if(n.length===10&&n.substring(0,1)==="1"){return parseInt(n.substring(1),2)-512}else{return t}};Formula.BIN2HEX=function(e,t){if(!Formula.VALIDBIN(e)){return"#NUM!"}var n=e.toString();if(n.length===10&&n.substring(0,1)==="1"){return(0xfffffffe00+parseInt(n.substring(1),2)).toString(16)}var r=parseInt(e,2).toString(16);if(typeof t==="undefined"){return r}else{if(isNaN(t)){return"#VALUE!"}if(t<0){return"#NUM!"}t=Math.floor(t);return t>=r.length?_s.repeat("0",t-r.length)+r:"#NUM!"}};Formula.BIN2OCT=function(e,t){if(!Formula.VALIDBIN(e)){return"#NUM!"}var n=e.toString();if(n.length===10&&n.substring(0,1)==="1"){return(1073741312+parseInt(n.substring(1),2)).toString(8)}var r=parseInt(e,2).toString(8);if(typeof t==="undefined"){return r}else{if(isNaN(t)){return"#VALUE!"}if(t<0){return"#NUM!"}t=Math.floor(t);return t>=r.length?_s.repeat("0",t-r.length)+r:"#NUM!"}};Formula.BITAND=function(e,t){if(isNaN(e)||isNaN(t)){return"#VALUE!"}if(e<0||t<0){return"#NUM!"}if(Math.floor(e)!==e||Math.floor(t)!==t){return"#NUM!"}if(e>0xffffffffffff||t>0xffffffffffff){return"#NUM!"}return e&t};Formula.BITLSHIFT=function(e,t){if(isNaN(e)||isNaN(t)){return"#VALUE!"}if(e<0){return"#NUM!"}if(Math.floor(e)!==e){return"#NUM!"}if(e>0xffffffffffff){return"#NUM!"}if(Math.abs(t)>53){return"#NUM!"}return t>=0?e<<t:e>>-t};Formula.BITOR=function(e,t){if(isNaN(e)||isNaN(t)){return"#VALUE!"}if(e<0||t<0){return"#NUM!"}if(Math.floor(e)!==e||Math.floor(t)!==t){return"#NUM!"}if(e>0xffffffffffff||t>0xffffffffffff){return"#NUM!"}return e|t};Formula.BITRSHIFT=function(e,t){if(isNaN(e)||isNaN(t)){return"#VALUE!"}if(e<0){return"#NUM!"}if(Math.floor(e)!==e){return"#NUM!"}if(e>0xffffffffffff){return"#NUM!"}if(Math.abs(t)>53){return"#NUM!"}return t>=0?e>>t:e<<-t};Formula.BITXOR=function(e,t){if(isNaN(e)||isNaN(t)){return"#VALUE!"}if(e<0||t<0){return"#NUM!"}if(Math.floor(e)!==e||Math.floor(t)!==t){return"#NUM!"}if(e>0xffffffffffff||t>0xffffffffffff){return"#NUM!"}return e^t};Formula.COMPLEX=function(e,t,n){if(isNaN(e)||isNaN(t)){return"#VALUE!"}n=typeof n==="undefined"?"i":n;if(n!=="i"&&n!=="j"){return"#VALUE!"}if(e===0&&t===0){return 0}else if(e===0){return t===1?n:t.toString()+n}else if(t===0){return e.toString()}else{var r=t>0?"+":"";return e.toString()+r+(t===1?n:t.toString()+n)}};Formula.CONVERT=function(e,t,n){if(isNaN(e)){return"#VALUE!"}var r=[["a.u. of action","?",null,"action",false,false,1.05457168181818e-34],["a.u. of charge","e",null,"electric_charge",false,false,1.60217653141414e-19],["a.u. of energy","Eh",null,"energy",false,false,4.35974417757576e-18],["a.u. of length","a?",null,"length",false,false,5.29177210818182e-11],["a.u. of mass","m?",null,"mass",false,false,9.10938261616162e-31],["a.u. of time","?/Eh",null,"time",false,false,2.41888432650516e-17],["admiralty knot","admkn",null,"speed",false,true,.514773333],["ampere","A",null,"electric_current",true,false,1],["ampere per meter","A/m",null,"magnetic_field_intensity",true,false,1],["ångström","Å",["ang"],"length",false,true,1e-10],["are","ar",null,"area",false,true,100],["astronomical unit","ua",null,"length",false,false,1.49597870691667e-11],["bar","bar",null,"pressure",false,false,1e5],["barn","b",null,"area",false,false,1e-28],["becquerel","Bq",null,"radioactivity",true,false,1],["bit","bit",["b"],"information",false,true,1],["btu","BTU",["btu"],"energy",false,true,1055.05585262],["byte","byte",null,"information",false,true,8],["candela","cd",null,"luminous_intensity",true,false,1],["candela per square metre","cd/m?",null,"luminance",true,false,1],["coulomb","C",null,"electric_charge",true,false,1],["cubic ångström","ang3",["ang^3"],"volume",false,true,1e-30],["cubic foot","ft3",["ft^3"],"volume",false,true,.028316846592],["cubic inch","in3",["in^3"],"volume",false,true,16387064e-12],["cubic light-year","ly3",["ly^3"],"volume",false,true,8.46786664623715e-47],["cubic metre","m?",null,"volume",true,true,1],["cubic mile","mi3",["mi^3"],"volume",false,true,4168181825.44058],["cubic nautical mile","Nmi3",["Nmi^3"],"volume",false,true,6352182208],["cubic Pica","Pica3",["Picapt3","Pica^3","Picapt^3"],"volume",false,true,7.58660370370369e-8],["cubic yard","yd3",["yd^3"],"volume",false,true,.764554857984],["cup","cup",null,"volume",false,true,.0002365882365],["dalton","Da",["u"],"mass",false,false,1.66053886282828e-27],["day","d",["day"],"time",false,true,86400],["degree","°",null,"angle",false,false,.0174532925199433],["degrees Rankine","Rank",null,"temperature",false,true,.555555555555556],["dyne","dyn",["dy"],"force",false,true,1e-5],["electronvolt","eV",["ev"],"energy",false,true,1.60217656514141],["ell","ell",null,"length",false,true,1.143],["erg","erg",["e"],"energy",false,true,1e-7],["farad","F",null,"electric_capacitance",true,false,1],["fluid ounce","oz",null,"volume",false,true,295735295625e-16],["foot","ft",null,"length",false,true,.3048],["foot-pound","flb",null,"energy",false,true,1.3558179483314],["gal","Gal",null,"acceleration",false,false,.01],["gallon","gal",null,"volume",false,true,.003785411784],["gauss","G",["ga"],"magnetic_flux_density",false,true,1],["grain","grain",null,"mass",false,true,647989e-10],["gram","g",null,"mass",false,true,.001],["gray","Gy",null,"absorbed_dose",true,false,1],["gross registered ton","GRT",["regton"],"volume",false,true,2.8316846592],["hectare","ha",null,"area",false,true,1e4],["henry","H",null,"inductance",true,false,1],["hertz","Hz",null,"frequency",true,false,1],["horsepower","HP",["h"],"power",false,true,745.69987158227],["horsepower-hour","HPh",["hh","hph"],"energy",false,true,2684519.538],["hour","h",["hr"],"time",false,true,3600],["imperial gallon (U.K.)","uk_gal",null,"volume",false,true,.00454609],["imperial hundredweight","lcwt",["uk_cwt","hweight"],"mass",false,true,50.802345],["imperial quart (U.K)","uk_qt",null,"volume",false,true,.0011365225],["imperial ton","brton",["uk_ton","LTON"],"mass",false,true,1016.046909],["inch","in",null,"length",false,true,.0254],["international acre","uk_acre",null,"area",false,true,4046.8564224],["IT calorie","cal",null,"energy",false,true,4.1868],["joule","J",null,"energy",true,true,1],["katal","kat",null,"catalytic_activity",true,false,1],["kelvin","K",["kel"],"temperature",true,true,1],["kilogram","kg",null,"mass",true,true,1],["knot","kn",null,"speed",false,true,.514444444444444],["light-year","ly",null,"length",false,true,9460730472580800],["litre","L",["l","lt"],"volume",false,true,.001],["lumen","lm",null,"luminous_flux",true,false,1],["lux","lx",null,"illuminance",true,false,1],["maxwell","Mx",null,"magnetic_flux",false,false,1e-18],["measurement ton","MTON",null,"volume",false,true,1.13267386368],["meter per hour","m/h",["m/hr"],"speed",false,true,.00027777777777778],["meter per second","m/s",["m/sec"],"speed",true,true,1],["meter per second squared","m?s??",null,"acceleration",true,false,1],["parsec","pc",["parsec"],"length",false,true,0x6da012f958ee1c],["meter squared per second","m?/s",null,"kinematic_viscosity",true,false,1],["metre","m",null,"length",true,true,1],["miles per hour","mph",null,"speed",false,true,.44704],["millimetre of mercury","mmHg",null,"pressure",false,false,133.322],["minute","?",null,"angle",false,false,.000290888208665722],["minute","min",["mn"],"time",false,true,60],["modern teaspoon","tspm",null,"volume",false,true,5e-6],["mole","mol",null,"amount_of_substance",true,false,1],["morgen","Morgen",null,"area",false,true,2500],["n.u. of action","?",null,"action",false,false,1.05457168181818e-34],["n.u. of mass","m?",null,"mass",false,false,9.10938261616162e-31],["n.u. of speed","c?",null,"speed",false,false,299792458],["n.u. of time","?/(me?c??)",null,"time",false,false,1.28808866778687e-21],["nautical mile","M",["Nmi"],"length",false,true,1852],["newton","N",null,"force",true,true,1],["oersted","Oe ",null,"magnetic_field_intensity",false,false,79.5774715459477],["ohm","?",null,"electric_resistance",true,false,1],["ounce mass","ozm",null,"mass",false,true,.028349523125],["pascal","Pa",null,"pressure",true,false,1],["pascal second","Pa?s",null,"dynamic_viscosity",true,false,1],["pferdestärke","PS",null,"power",false,true,735.49875],["phot","ph",null,"illuminance",false,false,1e-4],["pica (1/6 inch)","pica",null,"length",false,true,.00035277777777778],["pica (1/72 inch)","Pica",["Picapt"],"length",false,true,.00423333333333333],["poise","P",null,"dynamic_viscosity",false,false,.1],["pond","pond",null,"force",false,true,.00980665],["pound force","lbf",null,"force",false,true,4.4482216152605],["pound mass","lbm",null,"mass",false,true,.45359237],["quart","qt",null,"volume",false,true,.000946352946],["radian","rad",null,"angle",true,false,1],["second","?",null,"angle",false,false,484813681109536e-20],["second","s",["sec"],"time",true,true,1],["short hundredweight","cwt",["shweight"],"mass",false,true,45.359237],["siemens","S",null,"electrical_conductance",true,false,1],["sievert","Sv",null,"equivalent_dose",true,false,1],["slug","sg",null,"mass",false,true,14.59390294],["square ångström","ang2",["ang^2"],"area",false,true,1e-20],["square foot","ft2",["ft^2"],"area",false,true,.09290304],["square inch","in2",["in^2"],"area",false,true,64516e-8],["square light-year","ly2",["ly^2"],"area",false,true,8.95054210748189e31],["square meter","m?",null,"area",true,true,1],["square mile","mi2",["mi^2"],"area",false,true,2589988.110336],["square nautical mile","Nmi2",["Nmi^2"],"area",false,true,3429904],["square Pica","Pica2",["Picapt2","Pica^2","Picapt^2"],"area",false,true,1792111111111e-17],["square yard","yd2",["yd^2"],"area",false,true,.83612736],["statute mile","mi",null,"length",false,true,1609.344],["steradian","sr",null,"solid_angle",true,false,1],["stilb","sb",null,"luminance",false,false,1e-4],["stokes","St",null,"kinematic_viscosity",false,false,1e-4],["stone","stone",null,"mass",false,true,6.35029318],["tablespoon","tbs",null,"volume",false,true,147868e-10],["teaspoon","tsp",null,"volume",false,true,492892e-11],["tesla","T",null,"magnetic_flux_density",true,true,1],["thermodynamic calorie","c",null,"energy",false,true,4.184],["ton","ton",null,"mass",false,true,907.18474],["tonne","t",null,"mass",false,false,1e3],["U.K. pint","uk_pt",null,"volume",false,true,.00056826125],["U.S. bushel","bushel",null,"volume",false,true,.03523907],["U.S. oil barrel","barrel",null,"volume",false,true,.158987295],["U.S. pint","pt",["us_pt"],"volume",false,true,.000473176473],["U.S. survey mile","survey_mi",null,"length",false,true,1609.347219],["U.S. survey/statute acre","us_acre",null,"area",false,true,4046.87261],["volt","V",null,"voltage",true,false,1],["watt","W",null,"power",true,true,1],["watt-hour","Wh",["wh"],"energy",false,true,3600],["weber","Wb",null,"magnetic_flux",true,false,1],["yard","yd",null,"length",false,true,.9144],["year","yr",null,"time",false,true,31557600]];var i={Yi:["yobi",80,1.2089258196146292e24,"Yi","yotta"],Zi:["zebi",70,0x400000000000000000,"Zi","zetta"],Ei:["exbi",60,0x1000000000000000,"Ei","exa"],Pi:["pebi",50,0x4000000000000,"Pi","peta"],Ti:["tebi",40,1099511627776,"Ti","tera"],Gi:["gibi",30,1073741824,"Gi","giga"],Mi:["mebi",20,1048576,"Mi","mega"],ki:["kibi",10,1024,"ki","kilo"]};var s={Y:["yotta",1e24,"Y"],Z:["zetta",1e21,"Z"],E:["exa",1e18,"E"],P:["peta",1e15,"P"],T:["tera",1e12,"T"],G:["giga",1e9,"G"],M:["mega",1e6,"M"],k:["kilo",1e3,"k"],h:["hecto",100,"h"],e:["dekao",10,"e"],d:["deci",.1,"d"],c:["centi",.01,"c"],m:["milli",.001,"m"],u:["micro",1e-6,"u"],n:["nano",1e-9,"n"],p:["pico",1e-12,"p"],f:["femto",1e-15,"f"],a:["atto",1e-18,"a"],z:["zepto",1e-21,"z"],y:["yocto",1e-24,"y"]};var o=null;var u=null;var a=t;var f=n;var l=1;var c=1;var h;for(var p=0;p<r.length;p++){h=r[p][2]===null?[]:r[p][2];if(r[p][1]===a||h.indexOf(a)>=0){o=r[p]}if(r[p][1]===f||h.indexOf(f)>=0){u=r[p]}}if(o===null){var d=i[t.substring(0,2)];var v=s[t.substring(0,1)];if(t.substring(0,2)==="da"){v=["dekao",10,"da"]}if(d){l=d[2];a=t.substring(2)}else if(v){l=v[1];a=t.substring(v[2].length)}for(var m=0;m<r.length;m++){h=r[m][2]===null?[]:r[m][2];if(r[m][1]===a||h.indexOf(a)>=0){o=r[m]}}}if(u===null){var g=i[n.substring(0,2)];var y=s[n.substring(0,1)];if(n.substring(0,2)==="da"){y=["dekao",10,"da"]}if(g){c=g[2];f=n.substring(2)}else if(y){c=y[1];f=n.substring(y[2].length)}for(var b=0;b<r.length;b++){h=r[b][2]===null?[]:r[b][2];if(r[b][1]===f||h.indexOf(f)>=0){u=r[b]}}}if(o===null||u===null){return"#N/A"}if(o[3]!==u[3]){return"#N/A"}return e*o[6]*l/(u[6]*c)};Formula.DEC2BIN=function(e,t){if(isNaN(e)){return"#VALUE!"}if(!/^-?[0-9]{1,3}$/.test(e)||e<-512||e>511){return"#NUM!"}if(e<0){return"1"+_s.repeat("0",9-(512+e).toString(2).length)+(512+e).toString(2)}var n=parseInt(e,10).toString(2);if(typeof t==="undefined"){return n}else{if(isNaN(t)){return"#VALUE!"}if(t<0){return"#NUM!"}t=Math.floor(t);return t>=n.length?_s.repeat("0",t-n.length)+n:"#NUM!"}};Formula.DEC2HEX=function(e,t){if(isNaN(e)){return"#VALUE!"}if(!/^-?[0-9]{1,12}$/.test(e)||e<-549755813888||e>549755813887){return"#NUM!"}if(e<0){return(1099511627776+e).toString(16)}var n=parseInt(e,10).toString(16);if(typeof t==="undefined"){return n}else{if(isNaN(t)){return"#VALUE!"}if(t<0){return"#NUM!"}t=Math.floor(t);return t>=n.length?_s.repeat("0",t-n.length)+n:"#NUM!"}};Formula.DEC2OCT=function(e,t){if(isNaN(e)){return"#VALUE!"}if(!/^-?[0-9]{1,9}$/.test(e)||e<-536870912||e>536870911){return"#NUM!"}if(e<0){return(1073741824+e).toString(8)}var n=parseInt(e,10).toString(8);if(typeof t==="undefined"){return n}else{if(isNaN(t)){return"#VALUE!"}if(t<0){return"#NUM!"}t=Math.floor(t);return t>=n.length?_s.repeat("0",t-n.length)+n:"#NUM!"}};Formula.DELTA=function(e,t){t=typeof t==="undefined"?0:t;if(isNaN(e)||isNaN(t)){return"#VALUE!"}return e===t?1:0};Formula.ERF=function(e,t){t=typeof t==="undefined"?0:t;if(isNaN(e)||isNaN(t)){return"#VALUE!"}return jStat.erf(e)};Formula.ERFC=function(e){if(isNaN(e)){return"#VALUE!"}return jStat.erfc(e)};Formula.ERFCPRECISE=function(){return};Formula.ERFPRECISE=function(){return};Formula.GESTEP=function(e,t){t=typeof t==="undefined"?0:t;if(isNaN(e)||isNaN(t)){return"#VALUE!"}return e>=t?1:0};Formula.HEX2BIN=function(e,t){if(!/^[0-9A-Fa-f]{1,10}$/.test(e)){return"#NUM!"}var n=e.length===10&&e.substring(0,1).toLowerCase()==="f"?true:false;var r=n?parseInt(e,16)-1099511627776:parseInt(e,16);if(r<-512||r>511){return"#NUM!"}if(n){return"1"+_s.repeat("0",9-(512+r).toString(2).length)+(512+r).toString(2)}var i=r.toString(2);if(typeof t==="undefined"){return i}else{if(isNaN(t)){return"#VALUE!"}if(t<0){return"#NUM!"}t=Math.floor(t);return t>=i.length?_s.repeat("0",t-i.length)+i:"#NUM!"}};Formula.HEX2DEC=function(e){if(!/^[0-9A-Fa-f]{1,10}$/.test(e)){return"#NUM!"}var t=parseInt(e,16);return t>=549755813888?t-1099511627776:t};Formula.HEX2OCT=function(e,t){if(!/^[0-9A-Fa-f]{1,10}$/.test(e)){return"#NUM!"}var n=parseInt(e,16);if(n>536870911&&n<0xffe0000000){return"#NUM!"}if(n>=0xffe0000000){return(n-0xffc0000000).toString(8)}var r=n.toString(8);if(typeof t==="undefined"){return r}else{if(isNaN(t)){return"#VALUE!"}if(t<0){return"#NUM!"}t=Math.floor(t);return t>=r.length?_s.repeat("0",t-r.length)+r:"#NUM!"}};Formula.IMABS=function(e){var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Math.sqrt(Math.pow(t,2)+Math.pow(n,2))};Formula.IMAGINARY=function(e){if(e===0||e==="0"){return 0}if(["i","j"].indexOf(e)>=0){return 1}e=e.replace("+i","+1i").replace("-i","-1i").replace("+j","+1j").replace("-j","-1j");var t=e.indexOf("+");var n=e.indexOf("-");if(t===0){t=e.indexOf("+",1)}if(n===0){n=e.indexOf("-",1)}var r=e.substring(e.length-1,e.length);var i=r==="i"||r==="j";if(t>=0||n>=0){if(!i){return"#NUM!"}if(t>=0){return isNaN(e.substring(0,t))||isNaN(e.substring(t+1,e.length-1))?"#NUM!":Number(e.substring(t+1,e.length-1))}else{return isNaN(e.substring(0,n))||isNaN(e.substring(n+1,e.length-1))?"#NUM!":-Number(e.substring(n+1,e.length-1))}}else{if(i){return isNaN(e.substring(0,e.length-1))?"#NUM!":e.substring(0,e.length-1)}else{return isNaN(e)?"#NUM!":0}}};Formula.IMARGUMENT=function(e){var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}if(t===0&&n===0){return"#DIV/0!"}if(t===0&&n>0){return Math.PI/2}if(t===0&&n<0){return-Math.PI/2}if(n===0&&t>0){return 0}if(n===0&&t<0){return-Math.PI}if(t>0){return Math.atan(n/t)}else if(t<0&&n>=0){return Math.atan(n/t)+Math.PI}else{return Math.atan(n/t)-Math.PI}};Formula.IMCONJUGATE=function(e){var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);var r=e.substring(e.length-1);r=r==="i"||r==="j"?r:"i";if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return n!==0?Formula.COMPLEX(t,-n,r):e};Formula.IMCOS=function(e){if(e===true||e===false){return"#VALUE!"}var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);var r=e.substring(e.length-1);r=r==="i"||r==="j"?r:"i";if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.COMPLEX(Math.cos(t)*(Math.exp(n)+Math.exp(-n))/2,-Math.sin(t)*(Math.exp(n)-Math.exp(-n))/2,r)};Formula.IMCOSH=function(e){if(e===true||e===false){return"#VALUE!"}var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);var r=e.substring(e.length-1);r=r==="i"||r==="j"?r:"i";if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.COMPLEX(Math.cos(n)*(Math.exp(t)+Math.exp(-t))/2,Math.sin(n)*(Math.exp(t)-Math.exp(-t))/2,r)};Formula.IMCOT=function(e){if(e===true||e===false){return"#VALUE!"}var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.IMDIV(Formula.IMCOS(e),Formula.IMSIN(e))};Formula.IMCSC=function(e){if(e===true||e===false){return"#VALUE!"}var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.IMDIV("1",Formula.IMSIN(e))};Formula.IMCSCH=function(e){if(e===true||e===false){return"#VALUE!"}var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.IMDIV("1",Formula.IMSINH(e))};Formula.IMDIV=function(e,t){var n=Formula.IMREAL(e);var r=Formula.IMAGINARY(e);var i=Formula.IMREAL(t);var s=Formula.IMAGINARY(t);var o=e.substring(e.length-1);var u=e.substring(e.length-1);var a="i";if(o==="j"){a="j"}else if(u==="j"){a="j"}if(n==="#NUM!"||r==="#NUM!"||i==="#NUM!"||s==="#NUM!"){return"#NUM!"}if(i===0&&s===0){return"#NUM!"}var f=i*i+s*s;return Formula.COMPLEX((n*i+r*s)/f,(r*i-n*s)/f,a)};Formula.IMEXP=function(e){var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);var r=e.substring(e.length-1);r=r==="i"||r==="j"?r:"i";if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}var i=Math.exp(t);return Formula.COMPLEX(i*Math.cos(n),i*Math.sin(n),r)};Formula.IMLN=function(e){var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);var r=e.substring(e.length-1);r=r==="i"||r==="j"?r:"i";if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.COMPLEX(Math.log(Math.sqrt(t*t+n*n)),Math.atan(n/t),r)};Formula.IMLOG10=function(e){var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);var r=e.substring(e.length-1);r=r==="i"||r==="j"?r:"i";if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.COMPLEX(Math.log(Math.sqrt(t*t+n*n))/Math.log(10),Math.atan(n/t)/Math.log(10),r)};Formula.IMLOG2=function(e){var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);var r=e.substring(e.length-1);r=r==="i"||r==="j"?r:"i";if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.COMPLEX(Math.log(Math.sqrt(t*t+n*n))/Math.log(2),Math.atan(n/t)/Math.log(2),r)};Formula.IMPOWER=function(e,t){if(isNaN(t)){return"#VALUE!"}var n=Formula.IMREAL(e);var r=Formula.IMAGINARY(e);var i=e.substring(e.length-1);i=i==="i"||i==="j"?i:"i";if(n==="#NUM!"||r==="#NUM!"){return"#NUM!"}var s=Math.pow(Formula.IMABS(e),t);var o=Formula.IMARGUMENT(e);return Formula.COMPLEX(s*Math.cos(t*o),s*Math.sin(t*o),i)};Formula.IMPRODUCT=function(){var e=arguments[0];for(var t=1;t<arguments.length;t++){var n=Formula.IMREAL(e);var r=Formula.IMAGINARY(e);var i=Formula.IMREAL(arguments[t]);var s=Formula.IMAGINARY(arguments[t]);if(n==="#NUM!"||r==="#NUM!"||i==="#NUM!"||s==="#NUM!"){return"#NUM!"}e=Formula.COMPLEX(n*i-r*s,n*s+r*i)}return e};Formula.IMREAL=function(e){if(e===0||e==="0"){return 0}if(["i","+i","1i","+1i","-i","-1i","j","+j","1j","+1j","-j","-1j"].indexOf(e)>=0){return 0}var t=e.indexOf("+");var n=e.indexOf("-");if(t===0){t=e.indexOf("+",1)}if(n===0){n=e.indexOf("-",1)}var r=e.substring(e.length-1,e.length);var i=r==="i"||r==="j";if(t>=0||n>=0){if(!i){return"#NUM!"}if(t>=0){return isNaN(e.substring(0,t))||isNaN(e.substring(t+1,e.length-1))?"#NUM!":Number(e.substring(0,t))}else{return isNaN(e.substring(0,n))||isNaN(e.substring(n+1,e.length-1))?"#NUM!":Number(e.substring(0,n))}}else{if(i){return isNaN(e.substring(0,e.length-1))?"#NUM!":0}else{return isNaN(e)?"#NUM!":e}}};Formula.IMSEC=function(e){if(e===true||e===false){return"#VALUE!"}var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.IMDIV("1",Formula.IMCOS(e))};Formula.IMSECH=function(e){if(e===true||e===false){return"#VALUE!"}var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.IMDIV("1",Formula.IMCOSH(e))};Formula.IMSIN=function(e){if(e===true||e===false){return"#VALUE!"}var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);var r=e.substring(e.length-1);r=r==="i"||r==="j"?r:"i";if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.COMPLEX(Math.sin(t)*(Math.exp(n)+Math.exp(-n))/2,Math.cos(t)*(Math.exp(n)-Math.exp(-n))/2,r)};Formula.IMSINH=function(e){if(e===true||e===false){return"#VALUE!"}var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);var r=e.substring(e.length-1);r=r==="i"||r==="j"?r:"i";if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.COMPLEX(Math.cos(n)*(Math.exp(t)-Math.exp(-t))/2,Math.sin(n)*(Math.exp(t)+Math.exp(-t))/2,r)};Formula.IMSQRT=function(e){var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);var r=e.substring(e.length-1);r=r==="i"||r==="j"?r:"i";if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}var i=Math.sqrt(Formula.IMABS(e));var s=Formula.IMARGUMENT(e);return Formula.COMPLEX(i*Math.cos(s/2),i*Math.sin(s/2),r)};Formula.IMSUB=function(e,t){var n=Formula.IMREAL(e);var r=Formula.IMAGINARY(e);var i=Formula.IMREAL(t);var s=Formula.IMAGINARY(t);var o=e.substring(e.length-1);var u=e.substring(e.length-1);var a="i";if(o==="j"){a="j"}else if(u==="j"){a="j"}if(n==="#NUM!"||r==="#NUM!"||i==="#NUM!"||s==="#NUM!"){return"#NUM!"}return Formula.COMPLEX(n-i,r-s,a)};Formula.IMSUM=function(){var e=arguments[0];for(var t=1;t<arguments.length;t++){var n=Formula.IMREAL(e);var r=Formula.IMAGINARY(e);var i=Formula.IMREAL(arguments[t]);var s=Formula.IMAGINARY(arguments[t]);if(n==="#NUM!"||r==="#NUM!"||i==="#NUM!"||s==="#NUM!"){return"#NUM!"}e=Formula.COMPLEX(n+i,r+s)}return e};Formula.IMTAN=function(e){if(e===true||e===false){return"#VALUE!"}var t=Formula.IMREAL(e);var n=Formula.IMAGINARY(e);if(t==="#NUM!"||n==="#NUM!"){return"#NUM!"}return Formula.IMDIV(Formula.IMSIN(e),Formula.IMCOS(e))};Formula.OCT2BIN=function(e,t){if(!/^[0-7]{1,10}$/.test(e)){return"#NUM!"}var n=e.length===10&&e.substring(0,1)==="7"?true:false;var r=n?parseInt(e,8)-1073741824:parseInt(e,8);if(r<-512||r>511){return"#NUM!"}if(n){return"1"+_s.repeat("0",9-(512+r).toString(2).length)+(512+r).toString(2)}var i=r.toString(2);if(typeof t==="undefined"){return i}else{if(isNaN(t)){return"#VALUE!"}if(t<0){return"#NUM!"}t=Math.floor(t);return t>=i.length?_s.repeat("0",t-i.length)+i:"#NUM!"}};Formula.OCT2DEC=function(e){if(!/^[0-7]{1,10}$/.test(e)){return"#NUM!"}var t=parseInt(e,8);return t>=536870912?t-1073741824:t};Formula.OCT2HEX=function(e,t){if(!/^[0-7]{1,10}$/.test(e)){return"#NUM!"}var n=parseInt(e,8);if(n>=536870912){return"ff"+(n+3221225472).toString(16)}var r=n.toString(16);if(typeof t==="undefined"){return r}else{if(isNaN(t)){return"#VALUE!"}if(t<0){return"#NUM!"}t=Math.floor(t);return t>=r.length?_s.repeat("0",t-r.length)+r:"#NUM!"}};Formula.ACCRINT=function(e,t,n,r,i,s,o,u){if(!moment(e).isValid()||!moment(t).isValid()||!moment(n).isValid()){return"#VALUE!"}if(r<=0||i<=0){return"#NUM!"}if([1,2,4].indexOf(s)===-1){return"#NUM!"}if([0,1,2,3,4].indexOf(o)===-1){return"#NUM!"}if(moment(e).diff(moment(n))>=0){return"#NUM!"}i=typeof i==="undefined"?0:i;o=typeof o==="undefined"?0:o;u=typeof u==="undefined"?true:u;var a=0;var f=moment(new Date(e));var l=moment(new Date(t));var c=moment(new Date(n));var h=moment([f.year()]).isLeapYear()?366:365;switch(o){case 0:a=Formula.YEARFRAC(e,n,o);break;case 1:a=Formula.YEARFRAC(e,n,o);break;case 2:a=Formula.YEARFRAC(e,n,o);break;case 3:a=Formula.YEARFRAC(e,n,o);break;case 4:a=Formula.YEARFRAC(e,n,o);break}return i*r*a};Formula.ACCRINTM=function(){return};Formula.AMORDEGRC=function(){return};Formula.AMORLINC=function(){return};Formula.COUPDAYBS=function(){return};Formula.COUPDAYS=function(){return};Formula.COUPDAYSNC=function(){return};Formula.COUPNCD=function(){return};Formula.COUPNUM=function(){return};Formula.COUPPCD=function(){return};Formula.CUMIPMT=function(rate,periods,value,start,end,type){rate=eval(rate);periods=eval(periods);if(rate<=0||periods<=0||value<=0){return"#NUM!"}if(start<1||end<1||start>end){return"#NUM!"}if(type!==0&&type!==1){return"#NUM!"}var payment=Formula.PMT(rate,periods,value,0,type);var interest=0;if(start===1){if(type===0){interest=-value;start++}}for(var i=start;i<=end;i++){if(type===1){interest+=Formula.FV(rate,i-2,payment,value,1)-payment}else{interest+=Formula.FV(rate,i-1,payment,value,0)}}interest*=rate;return interest};Formula.CUMPRINC=function(rate,periods,value,start,end,type){rate=eval(rate);periods=eval(periods);if(rate<=0||periods<=0||value<=0){return"#NUM!"}if(start<1||end<1||start>end){return"#NUM!"}if(type!==0&&type!==1){return"#NUM!"}var payment=Formula.PMT(rate,periods,value,0,type);var principal=0;if(start===1){if(type===0){principal=payment+value*rate}else{principal=payment}start++}for(var i=start;i<=end;i++){if(type>0){principal+=payment-(Formula.FV(rate,i-2,payment,value,1)-payment)*rate}else{principal+=payment-Formula.FV(rate,i-1,payment,value,0)*rate}}return principal};Formula.DB=function(e,t,n,r,i){i=typeof i==="undefined"?12:i;if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)){return"#VALUE!"}if(e<0||t<0||n<0||r<0){return"#NUM!"}if([1,2,3,4,5,6,7,8,9,10,11,12].indexOf(i)===-1){return"#NUM!"}if(r>n){return"#NUM!"}if(t>=e){return 0}var s=(1-Math.pow(t/e,1/n)).toFixed(3);var o=e*s*i/12;var u=o;var a=0;var f=r===n?n-1:r;for(var l=2;l<=f;l++){a=(e-u)*s;u+=a}if(r===1){return o}else if(r===n){return(e-u)*s}else{return a}};Formula.DDB=function(e,t,n,r,i){i=typeof i==="undefined"?2:i;if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)){return"#VALUE!"}if(e<0||t<0||n<0||r<0||i<=0){return"#NUM!"}if(r>n){return"#NUM!"}if(t>=e){return 0}var s=0;var o=0;for(var u=1;u<=r;u++){o=Math.min((e-s)*(i/n),e-t-s);s+=o}return o};Formula.DISC=function(){return};Formula.DOLLARDE=function(e,t){if(isNaN(e)||isNaN(t)){return"#VALUE!"}if(t<0){return"#NUM!"}if(t>=0&&t<1){return"#DIV/0!"}t=parseInt(t,10);var n=parseInt(e,10);n+=e%1*Math.pow(10,Math.ceil(Math.log(t)/Math.LN10))/t;var r=Math.pow(10,Math.ceil(Math.log(t)/Math.LN2)+1);n=Math.round(n*r)/r;return n};Formula.DOLLARFR=function(e,t){if(isNaN(e)||isNaN(t)){return"#VALUE!"}if(t<0){return"#NUM!"}if(t>=0&&t<1){return"#DIV/0!"}t=parseInt(t,10);var n=parseInt(e,10);n+=e%1*Math.pow(10,-Math.ceil(Math.log(t)/Math.LN10))*t;return n};Formula.DURATION=function(){return};Formula.EFFECT=function(e,t){if(isNaN(e)||isNaN(t)){return"#VALUE!"}if(e<=0||t<1){return"#NUM!"}t=parseInt(t,10);return Math.pow(1+e/t,t)-1};Formula.FV=function(rate,periods,payment,value,type){type=typeof type==="undefined"?0:type;rate=eval(rate);var result;if(rate===0){result=value+payment*periods}else{var term=Math.pow(1+rate,periods);if(type===1){result=value*term+payment*(1+rate)*(term-1)/rate}else{result=value*term+payment*(term-1)/rate}}return-result};Formula.FVSCHEDULE=function(e,t){var n=e;for(var r=0;r<t.length;r++){if(isNaN(t[r])){return"#VALUE!"}n*=1+t[r]}return n};Formula.INTRATE=function(){return};Formula.IPMT=function(rate,period,periods,present,future,type){type=typeof type==="undefined"?0:type;rate=eval(rate);periods=eval(periods);var payment=Formula.PMT(rate,periods,present,future,type);var interest;if(period===1){if(type===1){interest=0}else{interest=-present}}else{if(type===1){interest=Formula.FV(rate,period-2,payment,present,1)-payment}else{interest=Formula.FV(rate,period-1,payment,present,0)}}return interest*rate};Formula.IRR=function(e,t){var n=function(e,t,n){var r=n+1;var i=e[0];for(var s=1;s<e.length;s++){i+=e[s]/Math.pow(r,(t[s]-t[0])/365)}return i};var r=function(e,t,n){var r=n+1;var i=0;for(var s=1;s<e.length;s++){var o=(t[s]-t[0])/365;i-=o*e[s]/Math.pow(r,o+1)}return i};var i=[];var s=false;var o=false;for(var u=0;u<e.length;u++){i[u]=u===0?0:i[u-1]+365;if(e[u]>0){s=true}if(e[u]<0){o=true}}if(!s||!o){return"#NUM!"}t=typeof t==="undefined"?.1:t;var a=t;var f=1e-10;var l=50;var c,h,p;var d=0;var v=true;do{p=n(e,i,a);c=a-p/r(e,i,a);h=Math.abs(c-a);a=c;v=h>f&&Math.abs(p)>f}while(v&&++d<l);if(v){return"#NUM!"}return a};Formula.ISPMT=function(rate,period,periods,value){rate=eval(rate);periods=eval(periods);return value*rate*(period/periods-1)};Formula.MDURATION=function(){return};Formula.MIRR=function(e,t,n){var r=e.length;var i=[];var s=[];for(var o=0;o<r;o++){if(e[o]<0){i.push(e[o])}else{s.push(e[o])}}var u=-Formula.NPV(n,s)*Math.pow(1+n,r-1);var a=Formula.NPV(t,i)*(1+t);return Math.pow(u/a,1/(r-1))-1};Formula.NOMINAL=function(e,t){if(isNaN(e)||isNaN(t)){return"#VALUE!"}if(e<=0||t<1){return"#NUM!"}t=parseInt(t,10);return(Math.pow(e+1,1/t)-1)*t};Formula.NPER=function(rate,payment,present,future,type){type=typeof type==="undefined"?0:type;future=typeof future==="undefined"?0:future;rate=eval(rate);var num=payment*(1+rate*type)-future*rate;var den=present*rate+payment*(1+rate*type);return Math.log(num/den)/Math.log(1+rate)};Formula.NPV=function(){var e=[];for(var t=0;t<arguments.length;t++){e=e.concat(arguments[t])}var n=e[0];var r=0;for(var i=1;i<e.length;i++){r+=e[i]/Math.pow(1+n,i)}return r};Formula.ODDFPRICE=function(){return};Formula.ODDFYIELD=function(){return};Formula.ODDLPRICE=function(){return};Formula.ODDLYIELD=function(){return};Formula.PDURATION=function(e,t,n){if(isNaN(e)||isNaN(t)||isNaN(n)){return"#VALUE!"}if(e<=0){return"#NUM!"}return(Math.log(n)-Math.log(t))/Math.log(1+e)};Formula.PMT=function(rate,periods,present,future,type){type=typeof type==="undefined"?0:type;rate=eval(rate);periods=eval(periods);var result;if(rate===0){result=(present+future)/periods}else{var term=Math.pow(1+rate,periods);if(type===1){result=(future*rate/(term-1)+present*rate/(1-1/term))/(1+rate)}else{result=future*rate/(term-1)+present*rate/(1-1/term)}}return-result};Formula.PPMT=function(e,t,n,r,i,s){return Formula.PMT(e,n,r,i,s)-Formula.IPMT(e,t,n,r,i,s)};Formula.PRICE=function(){return};Formula.PRICEDISC=function(){return};Formula.PRICEMAT=function(){return};Formula.PV=function(rate,periods,payment,future,type){type=typeof type==="undefined"?0:type;rate=eval(rate);periods=eval(periods);if(rate===0){return-payment*periods-future}else{return((1-Math.pow(1+rate,periods))/rate*payment*(1+rate*type)-future)/Math.pow(1+rate,periods)}};Formula.RATE=function(periods,payment,present,future,type,guess){guess=typeof guess==="undefined"?.01:guess;future=typeof future==="undefined"?0:future;type=typeof type==="undefined"?0:type;periods=eval(periods);var epsMax=1e-10;var iterMax=50;var y,y0,y1,x0,x1=0,f=0,i=0;var rate=guess;if(Math.abs(rate)<epsMax){y=present*(1+periods*rate)+payment*(1+rate*type)*periods+future}else{f=Math.exp(periods*Math.log(1+rate));y=present*f+payment*(1/rate+type)*(f-1)+future}y0=present+payment*periods+future;y1=present*f+payment*(1/rate+type)*(f-1)+future;i=x0=0;x1=rate;while(Math.abs(y0-y1)>epsMax&&i<iterMax){rate=(y1*x0-y0*x1)/(y1-y0);x0=x1;x1=rate;if(Math.abs(rate)<epsMax){y=present*(1+periods*rate)+payment*(1+rate*type)*periods+future}else{f=Math.exp(periods*Math.log(1+rate));y=present*f+payment*(1/rate+type)*(f-1)+future}y0=y1;y1=y;++i}return rate};Formula.RECEIVED=function(){return};Formula.RRI=function(e,t,n){if(isNaN(e)||isNaN(t)||isNaN(n)){return"#VALUE!"}if(e===0||t===0){return"#NUM!"}return Math.pow(n/t,1/e)-1};Formula.SLN=function(e,t,n){if(isNaN(e)||isNaN(t)||isNaN(n)){return"#VALUE!"}if(n===0){return"#NUM!"}return(e-t)/n};Formula.SYD=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)){return"#VALUE!"}if(n===0){return"#NUM!"}if(r<1||r>n){return"#NUM!"}r=parseInt(r,10);return(e-t)*(n-r+1)*2/(n*(n+1))};Formula.TBILLEQ=function(e,t,n){if(!moment(e).isValid()||!moment(t).isValid()){return"#VALUE!"}if(n<=0){return"#NUM!"}if(moment(e).diff(moment(t))>0){return"#NUM!"}if(moment(t).diff(moment(e),"years")>1){return"#NUM!"}return 365*n/(360-n*Formula.DAYS360(e,t))};Formula.TBILLPRICE=function(e,t,n){if(!moment(e).isValid()||!moment(t).isValid()){return"#VALUE!"}if(n<=0){return"#NUM!"}if(moment(e).diff(moment(t))>0){return"#NUM!"}if(moment(t).diff(moment(e),"years")>1){return"#NUM!"}return 100*(1-n*Formula.DAYS360(e,t)/360)};Formula.TBILLYIELD=function(e,t,n){if(!moment(e).isValid()||!moment(t).isValid()){return"#VALUE!"}if(n<=0){return"#NUM!"}if(moment(e).diff(moment(t))>0){return"#NUM!"}if(moment(t).diff(moment(e),"years")>1){return"#NUM!"}return(100-n)*360/(n*Formula.DAYS360(e,t))};Formula.VDB=function(){return};Formula.XIRR=function(e,t,n){var r=function(e,t,n){var r=n+1;var i=e[0];for(var s=1;s<e.length;s++){i+=e[s]/Math.pow(r,moment(t[s]).diff(moment(t[0]),"days")/365)}return i};var i=function(e,t,n){var r=n+1;var i=0;for(var s=1;s<e.length;s++){var o=moment(t[s]).diff(moment(t[0]),"days")/365;i-=o*e[s]/Math.pow(r,o+1)}return i};var s=false;var o=false;for(var u=0;u<e.length;u++){if(e[u]>0){s=true}if(e[u]<0){o=true}}if(!s||!o){return"#NUM!"}n=n||.1;var a=n;var f=1e-10;var l=50;var c,h,p;var d=0;var v=true;do{p=r(e,t,a);c=a-p/i(e,t,a);h=Math.abs(c-a);a=c;v=h>f&&Math.abs(p)>f}while(v&&++d<l);if(v){return"#NUM!"}return a};Formula.XNPV=function(e,t,n){var r=0;for(var i=0;i<t.length;i++){r+=t[i]/Math.pow(1+e,moment(n[i]).diff(moment(n[0]),"days")/365)}return r};Formula.YIELD=function(){return};Formula.YIELDDISC=function(){return};Formula.YIELDMAT=function(){};Formula.ISNUMBER=function(e){return!isNaN(parseFloat(e))&&isFinite(e)?true:false};Formula.AND=function(){var e=true;for(var t=0;t<arguments.length;t++){if(!arguments[t]){e=false}}return e};Formula.FALSE=function(){return false};Formula.SWITCH=function(){var e;if(arguments.length>0){var t=arguments[0];var n=arguments.length-1;var r=Math.floor(n/2);var i=false;var s=n%2===0?null:arguments[arguments.length-1];if(r){for(var o=0;o<r;o++){if(t===arguments[o*2+1]){e=arguments[o*2+2];i=true;break}}}if(!i&&s){e=s}}return e};Formula.IF=function(e,t,n){if(e){return typeof t==="undefined"?true:t}else{return typeof n==="undefined"?true:n}};Formula.IFERROR=function(e,t){return["#DIV/0!","#N/A","#NAME?","#NUM!","#NULL!","#REF!","#VALUE!"].indexOf(e)>=0?t:e};Formula.IFNA=function(e,t){return e==="#N/A"?t:e};Formula.NOT=function(e){return!e};Formula.OR=function(){var e=false;for(var t=0;t<arguments.length;t++){if(arguments[t]){e=true}}return e};Formula.TRUE=function(){return true};Formula.XOR=function(){var e=0;for(var t=0;t<arguments.length;t++){if(arguments[t]){e++}}return Math.floor(Math.abs(e))&1?true:false};Formula.REFERENCE=function(e,t){try{var n=t.split("."),r=e;_(n).forEach(function(e){if(e[e.length-1]==="]"){var t=e.indexOf("[");var n=e.substring(t+1,e.length-1);r=r[e.substring(0,t)][n]}else{r=r[e]}});return r}catch(i){return}};Formula.ABS=function(e){return Math.abs(e)};Formula.ACOS=function(e){return Math.acos(e)};Formula.ACOSH=function(e){return Math.log(e+Math.sqrt(e*e-1))};Formula.ACOT=function(e){return Math.atan(1/e)};Formula.ACOTH=function(e){return.5*Math.log((e+1)/(e-1))};Formula.AGGREGATE=function(e,t){var n=[];for(var r=2;r<arguments.length;r++){switch(e){case 1:n[r-2]=Formula.AVERAGE(arguments[r]);break;case 2:n[r-2]=Formula.COUNT(arguments[r]);break;case 3:n[r-2]=Formula.COUNTA(arguments[r]);break;case 4:n[r-2]=Formula.MAX(arguments[r]);break;case 5:n[r-2]=Formula.MIN(arguments[r]);break;case 6:n[r-2]=Formula.PRODUCT(arguments[r]);break;case 7:n[r-2]=Formula.STDEVS(arguments[r]);break;case 8:n[r-2]=Formula.STDEVP(arguments[r]);break;case 9:n[r-2]=Formula.SUM(arguments[r]);break;case 10:n[r-2]=Formula.VARS(arguments[r]);break;case 11:n[r-2]=Formula.VARP(arguments[r]);break;case 12:n[r-2]=Formula.MEDIAN(arguments[r]);break;case 13:n[r-2]=Formula.MODESNGL(arguments[r]);break;case 14:n[r-2]=Formula.LARGE(arguments[r]);break;case 15:n[r-2]=Formula.SMALL(arguments[r]);break;case 16:n[r-2]=Formula.PERCENTILEINC(arguments[r]);break;case 17:n[r-2]=Formula.QUARTILEINC(arguments[r]);break;case 18:n[r-2]=Formula.PERCENTILEEXC(arguments[r]);break;case 19:n[r-2]=Formula.QUARTILEEXC(arguments[r]);break}}return n};Formula.ARABIC=function(e){if(!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(e)){throw new Error("Incorrect roman number")}var t=0;e.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,function(e){t+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[e]});return t};Formula.ASIN=function(e){return Math.asin(e)};Formula.ASINH=function(e){return Math.log(e+Math.sqrt(e*e+1))};Formula.ATAN=function(e){return Math.atan(e)};Formula.ATAN2=function(e,t){return Math.atan2(e,t)};Formula.ATANH=function(e){return Math.log((1+e)/(1-e))/2};Formula.BASE=function(e,t,n){n=typeof n==="undefined"?0:n;var r=e.toString(t);return(new Array(Math.max(n+1-r.length,0))).join("0")+r};Formula.CEILING=function(e,t,n){if(t===0){return 0}t=typeof t==="undefined"?1:Math.abs(t);n=typeof n==="undefined"?0:n;var r=-Math.floor(Math.log(t)/Math.log(10));if(e>=0){return Formula.ROUND(Math.ceil(e/t)*t,r)}else{if(n===0){return-Formula.ROUND(Math.floor(Math.abs(e)/t)*t,r)}else{return-Formula.ROUND(Math.ceil(Math.abs(e)/t)*t,r)}}};Formula.CEILINGMATH=Formula.CEILING;Formula.CEILINGPRECISE=Formula.CEILING;Formula.COMBIN=function(e,t){return Formula.FACT(e)/(Formula.FACT(t)*Formula.FACT(e-t))};Formula.COMBINA=function(e,t){return e===0&&t===0?1:Formula.COMBIN(e+t-1,e-1)};Formula.COS=function(e){return Math.cos(e)};Formula.COSH=function(e){return(Math.exp(e)+Math.exp(-e))/2};Formula.COT=function(e){return 1/Math.tan(e)};Formula.COTH=function(e){var t=Math.exp(2*e);return(t+1)/(t-1)};Formula.CSC=function(e){return 1/Math.sin(e)};Formula.CSCH=function(e){return 2/(Math.exp(e)-Math.exp(-e))};Formula.DECIMAL=function(e,t){return parseInt(e,t)};Formula.DEGREES=function(e){return e*180/Math.PI};Formula.EVEN=function(e){return Formula.CEILING(e,-2,-1)};Formula.EXP=function(e){return Math.exp(e)};Formula.FACT=function(e){var t=Math.floor(e);if(t===0||t===1){return 1}else if(MEMOIZED_FACT[t]>0){return MEMOIZED_FACT[t]}else{MEMOIZED_FACT[t]=Formula.FACT(t-1)*t;return MEMOIZED_FACT[t]}};Formula.FACTDOUBLE=function(e){var t=Math.floor(e);if(t<=0){return 1}else{return t*Formula.FACTDOUBLE(t-2)}};Formula.FLOOR=function(e,t,n){if(t===0){return 0}t=typeof t==="undefined"?1:Math.abs(t);n=typeof n==="undefined"?0:n;var r=-Math.floor(Math.log(t)/Math.log(10));if(e>=0){return Formula.ROUND(Math.floor(e/t)*t,r)}else{if(n===0){return-Formula.ROUND(Math.ceil(Math.abs(e)/t)*t,r)}else{return-Formula.ROUND(Math.floor(Math.abs(e)/t)*t,r)}}};Formula.FLOORMATH=Formula.FLOOR;Formula.FLOORPRECISE=Formula.FLOOR;Formula.GCD=function(){for(var e,t,n=arguments.length-1,r=arguments[n];n;){for(t=arguments[--n];e=t%r;t=r,r=e){}}return r};Formula.INT=function(e){return Math.floor(e)};Formula.ISEVEN=function(e){return Math.floor(Math.abs(e))&1?false:true};Formula.ISOCEILING=Formula.CEILING;Formula.ISODD=function(e){return Math.floor(Math.abs(e))&1?true:false};Formula.LCM=function(){var e=Formula.ARGSTOARRAY(arguments);for(var t,n,r,i,s=1;(r=e.pop())!==undefined;){while(r>1){if(r%2){for(t=3,n=Math.floor(Math.sqrt(r));t<=n&&r%t;t+=2){}i=t<=n?t:r}else{i=2}for(r/=i,s*=i,t=e.length;t;e[--t]%i===0&&(e[t]/=i)===1&&e.splice(t,1)){}}}return s};Formula.LN=function(e){return Math.log(e)};Formula.LOG=function(e,t){t=typeof t==="undefined"?10:t;return Math.log(e)/Math.log(t)};Formula.LOG10=function(e){return Math.log(e)/Math.log(10)};Formula.MDETERM=numeric.det;Formula.MINVERSE=numeric.inv;Formula.MMULT=numeric.dot;Formula.MOD=function(e,t){var n=Math.abs(e%t);return t>0?n:-n};Formula.MROUND=function(e,t){if(e*t<0){throw new Error("Number and multiple must have the same sign.")}return Math.round(e/t)*t};Formula.MULTINOMIAL=function(){var e=0;var t=1;for(var n=0;n<arguments.length;n++){e+=arguments[n];t*=Formula.FACT(arguments[n])}return Formula.FACT(e)/t};Formula.MUNIT=numeric.identity;Formula.ODD=function(e){var t=Math.ceil(Math.abs(e));t=t&1?t:t+1;return e>0?t:-t};Formula.PI=function(){return Math.PI};Formula.POWER=function(e,t){return Math.pow(e,t)};Formula.PRODUCT=function(){var e=1;for(var t=0;t<arguments.length;t++){e*=arguments[t]}return e};Formula.QUOTIENT=function(e,t){return(e/t).toFixed(0)};Formula.RADIANS=function(e){return e*Math.PI/180};Formula.RAND=function(){return Math.random()};Formula.RANDBETWEEN=function(e,t){return e+Math.ceil((t-e+1)*Math.random())-1};Formula.ROUND=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)};Formula.ROUNDDOWN=function(e,t){var n=e>0?1:-1;return n*Math.floor(Math.abs(e)*Math.pow(10,t))/Math.pow(10,t)};Formula.ROUNDUP=function(e,t){var n=e>0?1:-1;return n*Math.ceil(Math.abs(e)*Math.pow(10,t))/Math.pow(10,t)};Formula.SERIESSUM=function(e,t,n,r){var i=r[0]*Math.pow(e,t);for(var s=1;s<r.length;s++){i+=r[s]*Math.pow(e,t+s*n)}return i};Formula.SEC=function(e){return 1/Math.cos(e)};Formula.SECH=function(e){return 2/(Math.exp(e)+Math.exp(-e))};Formula.SIGN=function(e){if(e<0){return-1}else if(e===0){return 0}else{return 1}};Formula.SIN=function(e){return Math.sin(e)};Formula.SINH=function(e){return(Math.exp(e)-Math.exp(-e))/2};Formula.SQRT=function(e){return Math.sqrt(e)};Formula.SQRTPI=function(e){return Math.sqrt(e*Math.PI)};Formula.SUBTOTAL=function(e){var t=[];for(var n=1;n<arguments.length;n++){switch(e){case 1:t[n-1]=Formula.AVERAGE(arguments[n]);break;case 2:t[n-1]=Formula.COUNT(arguments[n]);break;case 3:t[n-1]=Formula.COUNTA(arguments[n]);break;case 4:t[n-1]=Formula.MAX(arguments[n]);break;case 5:t[n-1]=Formula.MIN(arguments[n]);break;case 6:t[n-1]=Formula.PRODUCT(arguments[n]);break;case 7:t[n-1]=Formula.STDEV(arguments[n]);break;case 8:t[n-1]=Formula.STDEVP(arguments[n]);break;case 9:t[n-1]=Formula.SUM(arguments[n]);break;case 10:t[n-1]=Formula.VAR(arguments[n]);break;case 11:t[n-1]=Formula.VARP(arguments[n]);break}}return t};Formula.SUM=function(){var e=Formula.ARGSTOARRAY(arguments);var t=0;for(var n=0;n<e.length;n++){if(e[n]instanceof Array){for(var r=0;r<e[n].length;r++){t+=Formula.ISNUMBER(e[n][r])?e[n][r]:0}}else{t+=Formula.ISNUMBER(e[n])?e[n]:0}}return t};Formula.SUMIF=function(range,criteria){var result=0;for(var i=0;i<range.length;i++){result+=eval(range[i]+criteria)?range[i]:0}return result};Formula.SUMIFS=function(){var criteria=(arguments.length-1)/2;var range=arguments[0];var result=0;for(var i=0;i<range.length;i++){var fit=true;for(var j=0;j<criteria;j++){if(!eval(arguments[2*j+1][i]+arguments[2*j+2])){fit=false}}result+=fit?range[i]:0}return result};Formula.SUMPRODUCT=function(){var e=arguments.length+1;var t=0;for(var n=0;n<arguments[0].length;n++){for(var r=0;r<arguments[0][n].length;r++){var i=1;for(var s=1;s<e;s++){i*=arguments[s-1][n][r]}t+=i}}return t};Formula.SUMSQ=function(){var e=Formula.ARGSTOARRAY(arguments);var t=0;for(var n=0;n<e.length;n++){t+=Formula.ISNUMBER(e[n])?e[n]*e[n]:0}return t};Formula.SUMX2MY2=function(e,t){var n=0;for(var r=0;r<e.length;r++){n+=e[r]*e[r]-t[r]*t[r]}return n};Formula.SUMX2PY2=function(e,t){var n=0;for(var r=0;r<e.length;r++){n+=e[r]*e[r]+t[r]*t[r]}return n};Formula.SUMXMY2=function(e,t){var n=0;for(var r=0;r<e.length;r++){n+=Math.pow(e[r]-t[r],2)}return n};Formula.TAN=function(e){return Math.tan(e)};Formula.TANH=function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};Formula.TRUNC=function(e,t){t=typeof t==="undefined"?0:t;var n=e>0?1:-1;return n*Math.floor(Math.abs(e)*Math.pow(10,t))/Math.pow(10,t)};Formula.AVEDEV=function(){var e=Formula.ARGSCONCAT(arguments);return jStat.sum(jStat(e).subtract(jStat.mean(e)).abs()[0])/e.length};Formula.AVERAGE=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=0;var r=0;for(var i=0;i<t;i++){if(e[i]!==true&&e[i]!==false){r+=e[i];n++}}return r/n};Formula.AVERAGEA=function(){return jStat.mean(Formula.ARGSCONCAT(arguments))};Formula.AVERAGEIF=function(range,criteria,average_range){average_range=typeof average_range==="undefined"?range:average_range;var average_count=0;var result=0;for(var i=0;i<range.length;i++){if(eval(range[i]+criteria)){result+=average_range[i];average_count++}}return result/average_count};Formula.AVERAGEIFS=function(){var criteria=(arguments.length-1)/2;var range=arguments[0];var count=0;var result=0;for(var i=0;i<range.length;i++){var fit=true;for(var j=0;j<criteria;j++){if(!eval(arguments[2*j+1][i]+arguments[2*j+2])){fit=false}}if(fit){result+=range[i];count++}}return result/count};Formula.BETADIST=function(e,t,n,r,i,s){i=typeof i==="undefined"?0:i;s=typeof s==="undefined"?1:s;e=(e-i)/(s-i);return r?jStat.beta.cdf(e,t,n):jStat.beta.pdf(e,t,n)};Formula.BETAINV=function(e,t,n,r,i){r=typeof r==="undefined"?0:r;i=typeof i==="undefined"?1:i;return jStat.beta.inv(e,t,n)*(i-r)+r};Formula.BINOMDIST=function(e,t,n,r){return r?jStat.binomial.cdf(e,t,n):jStat.binomial.pdf(e,t,n)};Formula.BINOMDISTRANGE=function(e,t,n,r){r=typeof r==="undefined"?n:r;var i=0;for(var s=n;s<=r;s++){i+=Formula.COMBIN(e,s)*Math.pow(t,s)*Math.pow(1-t,e-s)}return i};Formula.BINOMINV=function(e,t,n){var r=0;while(r<=e){if(jStat.binomial.cdf(r,e,t)>=n){return r}r++}};Formula.CHISQDIST=function(e,t,n){return n?jStat.chisquare.cdf(e,t):jStat.chisquare.pdf(e,t)};Formula.CHISQDISTRT=function(e,t){return};Formula.CHISQINV=function(e,t){return jStat.chisquare.inv(e,t)};Formula.CHISQINVRT=function(){return};Formula.CHISQTEST=function(){return};Formula.CONFIDENCENORM=function(e,t,n){return jStat.normalci(1,e,t,n)[1]-1};Formula.CONFIDENCET=function(e,t,n){return jStat.tci(1,e,t,n)[1]-1};Formula.CORREL=function(){return jStat.corrcoeff.apply(this,arguments)};Formula.COUNT=function(){return Formula.ARGSCONCAT(arguments).length};Formula.COUNTA=function(){var e=Formula.ARGSCONCAT(arguments);return e.length-Formula.COUNTBLANK(e)};Formula.COUNTBLANK=function(){var e=Formula.ARGSCONCAT(arguments);var t=0;for(var n=0;n<e.length;n++){if(e[n]===null||e[n]===""){t++}}return t};Formula.COUNTIF=function(e,t){var n=0;for(var r=0;r<e.length;r++){if(e[r].match(new RegExp(t))){n++}}return n};Formula.COUNTIFS=function(){var criteria=(arguments.length-1)/2;var range=arguments[0];var result=0;for(var i=0;i<range.length;i++){var fit=true;for(var j=0;j<criteria;j++){if(!eval(arguments[2*j+1][i]+arguments[2*j+2])){fit=false}}result+=fit?1:0}return result};Formula.COUNTUNIQUE=function(){return _.uniq(Formula.ARGSCONCAT(arguments)).length};Formula.COVARIANCEP=function(e,t){var n=jStat.mean(e);var r=jStat.mean(t);var i=0;var s=e.length;for(var o=0;o<s;o++){i+=(e[o]-n)*(t[o]-r)}return i/s};Formula.COVARIANCES=function(){return jStat.covariance.apply(this,arguments)};Formula.DEVSQ=function(){var e=Formula.ARGSCONCAT(arguments);var t=jStat.mean(e);var n=0;for(var r=0;r<e.length;r++){n+=Math.pow(e[r]-t,2)}return n};Formula.EXPONDIST=function(e,t,n){return n?jStat.exponential.cdf(e,t):jStat.exponential.pdf(e,t)};Formula.FDIST=function(e,t,n,r){return r?jStat.centralF.cdf(e,t,n):jStat.centralF.pdf(e,t,n)};Formula.FDISTRT=function(){return};Formula.FINV=function(e,t,n){return jStat.centralF.inv(e,t,n)};Formula.FINVRT=function(){return};Formula.FTEST=function(){return};Formula.FISHER=function(e){return Math.log((1+e)/(1-e))/2};Formula.FISHERINV=function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};Formula.FORECAST=function(e,t,n){var r=jStat.mean(n);var i=jStat.mean(t);var s=n.length;var o=0;var u=0;for(var a=0;a<s;a++){o+=(n[a]-r)*(t[a]-i);u+=Math.pow(n[a]-r,2)}var f=o/u;var l=i-f*r;return l+f*e};Formula.FREQUENCY=function(e,t){var n=e.length;var r=t.length;var i=[];for(var s=0;s<=r;s++){i[s]=0;for(var o=0;o<n;o++){if(s===0){if(e[o]<=t[0]){i[0]+=1}}else if(s<r){if(e[o]>t[s-1]&&e[o]<=t[s]){i[s]+=1}}else if(s===r){if(e[o]>t[r-1]){i[r]+=1}}}}return i};Formula.GAMMA=function(){return jStat.gammafn.apply(this,arguments)};Formula.GAMMADIST=function(e,t,n,r){return};Formula.GAMMAINV=function(e,t,n){return};Formula.GAMMALN=function(){return jStat.gammaln.apply(this,arguments)};Formula.GAMMALNPRECISE=function(){return};Formula.GAUSS=function(e){return jStat.normal.cdf(e,0,1)-.5};Formula.GEOMEAN=function(){return jStat.geomean(Formula.ARGSCONCAT(arguments))};Formula.GROWTH=function(e,t,n,r){var i;if(typeof t==="undefined"){t=[];for(i=1;i<=e.length;i++){t.push(i)}}if(typeof n==="undefined"){n=[];for(i=1;i<=e.length;i++){n.push(i)}}if(typeof r==="undefined"){r=true}var s=e.length;var o=0;var u=0;var a=0;var f=0;for(i=0;i<s;i++){var l=t[i];var c=Math.log(e[i]);o+=l;u+=c;a+=l*c;f+=l*l}o/=s;u/=s;a/=s;f/=s;var h;var p;if(r){h=(a-o*u)/(f-o*o);p=u-h*o}else{h=a/f;p=0}var d=[];for(i=0;i<n.length;i++){d.push(Math.exp(p+h*n[i]))}return d};Formula.HARMEAN=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=0;for(var r=0;r<t;r++){n+=1/e[r]}return t/n};Formula.HYPGEOMDIST=function(e,t,n,r,i){function s(e,t,n,r){return Formula.COMBIN(n,e)*Formula.COMBIN(r-n,t-e)/Formula.COMBIN(r,t)}function o(e,t,n,r){var i=0;for(var o=0;o<=e;o++){i+=s(o,t,n,r)}return i}return i?o(e,t,n,r):s(e,t,n,r)};Formula.INTERCEPT=function(e,t){return Formula.FORECAST(0,e,t)};Formula.KURT=function(){var e=Formula.ARGSCONCAT(arguments);var t=jStat.mean(e);var n=e.length;var r=0;for(var i=0;i<n;i++){r+=Math.pow(e[i]-t,4)}r=r/Math.pow(jStat.stdev(e,true),4);return n*(n+1)/((n-1)*(n-2)*(n-3))*r-3*(n-1)*(n-1)/((n-2)*(n-3))};Formula.LARGE=function(e,t){return e.sort(function(e,t){return t-e})[t-1]};Formula.LINEST=function(e,t){var n=jStat.mean(t);var r=jStat.mean(e);var i=t.length;var s=0;var o=0;for(var u=0;u<i;u++){s+=(t[u]-n)*(e[u]-r);o+=Math.pow(t[u]-n,2)}var a=s/o;var f=r-a*n;return[a,f]};Formula.LOGEST=function(){return};Formula.LOGNORMDIST=function(e,t,n,r){return r?jStat.lognormal.cdf(e,t,n):jStat.lognormal.pdf(e,t,n)};Formula.LOGNORMINV=function(e,t,n){return jStat.lognormal.inv(e,t,n)};Formula.MAX=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=t>0?e[0]:0;for(var r=0;r<t;r++){n=e[r]>n&&e[r]!==true&&e[r]!==false?e[r]:n}return n};Formula.MAXA=function(){var e=Formula.ARGSCONCAT(arguments);return e.length>0?Math.max.apply(Math,e):0};Formula.MEDIAN=function(){return jStat.median(Formula.ARGSCONCAT(arguments))};Formula.MIN=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=t>0?e[0]:0;for(var r=0;r<t;r++){n=e[r]<n&&e[r]!==true&&e[r]!==false?e[r]:n}return n};Formula.MINA=function(){var e=Formula.ARGSCONCAT(arguments);return e.length>0?Math.min.apply(Math,e):0};Formula.MODEMULT=function(){var e=Formula.ARGSCONCAT(arguments),t=e.length,n={},r=[],i=0,s;for(var o=0;o<t;o++){s=e[o];n[s]=n[s]?n[s]+1:1;if(n[s]>i){i=n[s];r=[]}if(n[s]===i){r[r.length]=s}}return r};Formula.MODESNGL=function(){return Formula.MODEMULT(Formula.ARGSCONCAT(arguments)).sort(function(e,t){return e-t})[0]};Formula.NEGBINOMDIST=function(e,t,n,r){return r?jStat.negbin.cdf(e,t,n):jStat.negbin.pdf(e,t,n)};Formula.NORMDIST=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)){return"#VALUE!"}if(n<=0){return"#NUM!"}return r?jStat.normal.cdf(e,t,n):jStat.normal.pdf(e,t,n)};Formula.NORMINV=function(e,t,n){return jStat.normal.inv(e,t,n)};Formula.NORMSDIST=function(e,t){return t?jStat.normal.cdf(e,0,1):jStat.normal.pdf(e,0,1)};Formula.NORMSINV=function(e){return jStat.normal.inv(e,0,1)};Formula.PEARSON=function(e,t){var n=jStat.mean(e);var r=jStat.mean(t);var i=e.length;var s=0;var o=0;var u=0;for(var a=0;a<i;a++){s+=(e[a]-n)*(t[a]-r);o+=Math.pow(e[a]-n,2);u+=Math.pow(t[a]-r,2)}return s/Math.sqrt(o*u)};Formula.PERCENTILEEXC=function(e,t){e=e.sort(function(e,t){{return e-t}});var n=e.length;if(t<1/(n+1)||t>1-1/(n+1)){return"#NUM!"}var r=t*(n+1)-1;var i=Math.floor(r);return Formula.CLEANFLOAT(r===i?e[r]:e[i]+(r-i)*(e[i+1]-e[i]))};Formula.PERCENTILEINC=function(e,t){e=e.sort(function(e,t){return e-t});var n=e.length;var r=t*(n-1);var i=Math.floor(r);return Formula.CLEANFLOAT(r===i?e[r]:e[i]+(r-i)*(e[i+1]-e[i]))};Formula.PERCENTRANKEXC=function(e,t,n){e=e.sort(function(e,t){return e-t});var r=_.uniq(e);var i=e.length;var s=r.length;n=typeof n==="undefined"?3:n;var o=Math.pow(10,n);var u=0;var a=false;var f=0;while(!a&&f<s){if(t===r[f]){u=(e.indexOf(r[f])+1)/(i+1);a=true}else if(t>=r[f]&&(t<r[f+1]||f===s-1)){u=(e.indexOf(r[f])+1+(t-r[f])/(r[f+1]-r[f]))/(i+1);a=true}f++}return Math.floor(u*o)/o};Formula.PERCENTRANKINC=function(e,t,n){e=e.sort(function(e,t){return e-t});var r=_.uniq(e);var i=e.length;var s=r.length;n=typeof n==="undefined"?3:n;var o=Math.pow(10,n);var u=0;var a=false;var f=0;while(!a&&f<s){if(t===r[f]){u=e.indexOf(r[f])/(i-1);a=true}else if(t>=r[f]&&(t<r[f+1]||f===s-1)){u=(e.indexOf(r[f])+(t-r[f])/(r[f+1]-r[f]))/(i-1);a=true}f++}return Math.floor(u*o)/o};Formula.PERMUT=function(e,t){return Formula.FACT(e)/Formula.FACT(e-t)};Formula.PERMUTATIONA=function(e,t){return Math.pow(e,t)};Formula.PHI=function(e){return Math.exp(-.5*e*e)/SQRT2PI};Formula.POISSONDIST=function(e,t,n){return n?jStat.poisson.cdf(e,t):jStat.poisson.pdf(e,t)};Formula.PROB=function(e,t,n,r){if(typeof n==="undefined"){return 0}r=typeof r==="undefined"?n:r;if(n===r){return e.indexOf(n)>=0?t[e.indexOf(n)]:0}var i=e.sort(function(e,t){return e-t});var s=i.length;var o=0;for(var u=0;u<s;u++){if(i[u]>=n&&i[u]<=r){o+=t[e.indexOf(i[u])]}}return o};Formula.QUARTILEEXC=function(e,t){switch(t){case 1:return Formula.PERCENTILEEXC(e,.25);case 2:return Formula.PERCENTILEEXC(e,.5);case 3:return Formula.PERCENTILEEXC(e,.75);default:return"#NUM!"}};Formula.QUARTILEINC=function(e,t){switch(t){case 1:return Formula.PERCENTILEINC(e,.25);case 2:return Formula.PERCENTILEINC(e,.5);case 3:return Formula.PERCENTILEINC(e,.75);default:return"#NUM!"}};Formula.RANKAVG=function(e,t,n){n=typeof n==="undefined"?false:n;var r=n?function(e,t){return e-t}:function(e,t){return t-e};t=t.sort(r);var i=Formula.COUNTIN(t,e);return i>1?(2*t.indexOf(e)+i+1)/2:t.indexOf(e)+1};Formula.RANKEQ=function(e,t,n){n=typeof n==="undefined"?false:n;var r=n?function(e,t){return e-t}:function(e,t){return t-e};t=t.sort(r);return t.indexOf(e)+1};Formula.RSQ=function(e,t){return Math.pow(Formula.PEARSON(e,t),2)};Formula.SKEW=function(){var e=Formula.ARGSCONCAT(arguments);var t=jStat.mean(e);var n=e.length;var r=0;for(var i=0;i<n;i++){r+=Math.pow(e[i]-t,3)}return n*r/((n-1)*(n-2)*Math.pow(jStat.stdev(e,true),3))};Formula.SKEWP=function(){var e=Formula.ARGSCONCAT(arguments);var t=jStat.mean(e);var n=e.length;var r=0;var i=0;for(var s=0;s<n;s++){i+=Math.pow(e[s]-t,3);r+=Math.pow(e[s]-t,2)}i=i/n;r=r/n;return i/Math.pow(r,3/2)};Formula.SLOPE=function(e,t){var n=jStat.mean(t);var r=jStat.mean(e);var i=t.length;var s=0;var o=0;for(var u=0;u<i;u++){s+=(t[u]-n)*(e[u]-r);o+=Math.pow(t[u]-n,2)}return s/o};Formula.SMALL=function(e,t){return e.sort(function(e,t){return e-t})[t-1]};Formula.STANDARDIZE=function(e,t,n){return(e-t)/n};Formula.STDEVA=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=0;var r=jStat.mean(e);for(var i=0;i<t;i++){n+=Math.pow(e[i]-r,2)}return Math.sqrt(n/(t-1))};Formula.STDEVP=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=0;var r=0;var i=Formula.AVERAGE(e);for(var s=0;s<t;s++){if(e[s]!==true&&e[s]!==false){n+=Math.pow(e[s]-i,2);r++}}return Math.sqrt(n/r)};Formula.STDEVPA=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=0;var r=jStat.mean(e);for(var i=0;i<t;i++){n+=Math.pow(e[i]-r,2)}return Math.sqrt(n/t)};Formula.STDEVS=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=0;var r=0;var i=Formula.AVERAGE(e);for(var s=0;s<t;s++){if(e[s]!==true&&e[s]!==false){n+=Math.pow(e[s]-i,2);r++}}return Math.sqrt(n/(r-1))};Formula.STEYX=function(e,t){var n=jStat.mean(t);var r=jStat.mean(e);var i=t.length;var s=0;var o=0;var u=0;for(var a=0;a<i;a++){s+=Math.pow(e[a]-r,2);o+=(t[a]-n)*(e[a]-r);u+=Math.pow(t[a]-n,2)}return Math.sqrt((s-o*o/u)/(i-2))};Formula.TDIST=function(e,t,n){return n?jStat.studentt.cdf(e,t):jStat.studentt.pdf(e,t)};Formula.TDIST2T=function(){return};Formula.TDISTRT=function(){return};Formula.TINV=function(e,t){return jStat.studentt.inv(e,t)};Formula.TINV2T=function(){return};Formula.TTEST=function(){return};Formula.TREND=function(){return};Formula.TRIMMEAN=function(e,t){var n=e.length;var r=Formula.FLOOR(e.length*t,2)/2;return jStat.mean(_.initial(_.rest(e.sort(function(e,t){return e-t}),r),r))};Formula.VARA=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=0;var r=jStat.mean(e);for(var i=0;i<t;i++){n+=Math.pow(e[i]-r,2)}return n/(t-1)};Formula.VARP=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=0;var r=0;var i=Formula.AVERAGE(e);for(var s=0;s<t;s++){if(e[s]!==true&&e[s]!==false){n+=Math.pow(e[s]-i,2);r++}}return n/r};Formula.VARPA=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=0;var r=jStat.mean(e);for(var i=0;i<t;i++){n+=Math.pow(e[i]-r,2)}return n/t};Formula.VARS=function(){var e=Formula.ARGSCONCAT(arguments);var t=e.length;var n=0;var r=0;var i=Formula.AVERAGE(e);for(var s=0;s<t;s++){if(e[s]!==true&&e[s]!==false){n+=Math.pow(e[s]-i,2);r++}}return n/(r-1)};Formula.WEIBULLDIST=function(e,t,n,r){return r?1-Math.exp(-Math.pow(e/n,t)):Math.pow(e,t-1)*Math.exp(-Math.pow(e/n,t))*t/Math.pow(n,t)};Formula.ZTEST=function(e,t,n){var r=e.length;var i=typeof n==="undefined"?Formula.STDEVS(e):n;return 1-Formula.NORMSDIST((Formula.AVERAGE(e)-t)/(i/Math.sqrt(r)),Formula.TRUE)};Formula.CHAR=function(e){return String.fromCharCode(e)};Formula.CLEAN=function(e){var t=/[\0-\x1F]/g;return e.replace(t,"")};Formula.CODE=function(e){return e.charCodeAt(0)};Formula.CONCATENATE=function(){var e="";for(var t=0;t<arguments.length;t++){if(arguments[t]!==null&&arguments[t]!==undefined){e+=arguments[t]}}return e};Formula.DOLLAR=function(e,t){t=typeof t==="undefined"?2:t;var n="";if(t<=0){e=Math.round(e*Math.pow(10,t))/Math.pow(10,t);n="($0,0)"}else if(t>0){n="($0,0."+(new Array(t+1)).join("0")+")"}return numeral(e).format(n)};Formula.EXACT=function(e,t){return e===t};Formula.FIND=function(e,t,n){n=typeof n==="undefined"?0:n;return t?t.indexOf(e,n-1)+1:null};Formula.FIXED=function(e,t,n){t=typeof t==="undefined"?2:t;n=typeof n==="undefined"?false:n;var r=n?"0":"0,0";if(t<=0){e=Math.round(e*Math.pow(10,t))/Math.pow(10,t)}else if(t>0){r+="."+(new Array(t+1)).join("0")}return numeral(e).format(r)};Formula.HTML2TEXT=function(e){var t="";if(e){if(e instanceof Array){e.forEach(function(e){if(t!==""){t+="\n"}t+=e.replace(/<(?:.|\n)*?>/gm,"")})}else{t=e.replace(/<(?:.|\n)*?>/gm,"")}}return t};Formula.HUMANIZE=function(e){if(e instanceof Date){var t=moment(e);if(t.hours()||t.minutes()||t.seconds()){return t.format("dddd, MMMM Do YYYY, h:mm:ss")}else{return t.format("dddd, MMMM Do YYYY")}}return e};Formula.JOIN=function(e,t){return e.join(t)};Formula.LEFT=function(e,t){t=typeof t==="undefined"?1:t;return e?e.substring(0,t):null};Formula.LEN=function(e){return e?e.length:0};Formula.LOWER=function(e){return e?e.toLowerCase():e};Formula.MID=function(e,t,n){return e.substring(t-1,n)};Formula.NUMBERVALUE=function(e,t,n){t=typeof t==="undefined"?".":t;n=typeof n==="undefined"?",":n;return Number(e.replace(t,".").replace(n,""))};Formula.PROPER=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})};Formula.REGEXEXTRACT=function(e,t){var n=e.match(new RegExp(t));return n?n[0]:null};Formula.REGEXMATCH=function(e,t,n){var r=e.match(new RegExp(t));return n?r:e.match(new RegExp(t))?true:false};Formula.REGEXREPLACE=function(e,t,n){return e.replace(new RegExp(t),n)};Formula.REPLACE=function(e,t,n,r){return e.substr(0,t-1)+r+e.substr(t-1+n)};Formula.REPT=function(e,t){return(new Array(t+1)).join(e)};Formula.RIGHT=function(e,t){t=typeof t==="undefined"?1:t;return e?e.substring(e.length-t):null};Formula.ROMAN=function(e){var t=String(e).split("");var n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];var r="";var i=3;while(i--){r=(n[+t.pop()+i*10]||"")+r}return(new Array(+t.join("")+1)).join("M")+r};Formula.SEARCH=function(e,t,n){n=typeof n==="undefined"?0:n;return t.toLowerCase().indexOf(e.toLowerCase(),n-1)+1};Formula.SPLIT=function(e,t){return _s.words(e,t)};Formula.SUBSTITUTE=function(e,t,n,r){if(!e||!t||!n){return e}else if(typeof r==="undefined"){return e.replace(new RegExp(t,"g"),n)}else{var i=0;var s=0;while(e.indexOf(t,i)>0){i=e.indexOf(t,i+1);s++;if(s===r){return e.substring(0,i)+n+e.substring(i+t.length)}}}};Formula.T=function(e){return typeof e==="string"?e:null};Formula.TEXT=function(e,t){var n="";if(e){if(e instanceof Object){try{n=JSON.stringify(e)}catch(r){}}else if(typeof e==="string"){if(t){n=t.indexOf("0")>=0?numeral(e).format(t):moment(new Date(e)).format(t)}else{n=e}}else if(e.toString&&typeof e.toString==="function"){n=e.toString()}}return n};Formula.TRIM=function(e){return _s.clean(e)};Formula.UNICHAR=Formula.CHAR;Formula.UNICODE=Formula.CODE;Formula.UPPER=function(e){return e.toUpperCase()};Formula.VALUE=function(e){return numeral().unformat(e)};Formula.MD5=function(e,t,n){return md5(e,t,n)};Formula.NUMERAL=function(e,t){return numeral(e).format(t)};return Formula}if(typeof exports!=="undefined"){module.exports=exportModule(require("numeric"),require("numeral"),require("jStat"),require("moment"),require("lodash"),require("underscore.string"),require("blueimp-md5"))}else if(typeof define==="function"&&define.amd){define("formula",["numeric","numeral","jStat","moment","lodash","underscore.string","md5"],exportModule)}}).call(this)},{"blueimp-md5":2,jStat:3,lodash:4,moment:5,numeral:6,numeric:7,"underscore.string":8}],2:[function(e,t,n){(function(e){"use strict";function t(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function n(e,t){return e<<t|e>>>32-t}function r(e,r,i,s,o,u){return t(n(t(t(r,e),t(s,u)),o),i)}function i(e,t,n,i,s,o,u){return r(t&n|~t&i,e,t,s,o,u)}function s(e,t,n,i,s,o,u){return r(t&i|n&~i,e,t,s,o,u)}function o(e,t,n,i,s,o,u){return r(t^n^i,e,t,s,o,u)}function u(e,t,n,i,s,o,u){return r(n^(t|~i),e,t,s,o,u)}function a(e,n){e[n>>5]|=128<<n%32;e[(n+64>>>9<<4)+14]=n;var r,a,f,l,c,h=1732584193,p=-271733879,d=-1732584194,v=271733878;for(r=0;r<e.length;r+=16){a=h;f=p;l=d;c=v;h=i(h,p,d,v,e[r],7,-680876936);v=i(v,h,p,d,e[r+1],12,-389564586);d=i(d,v,h,p,e[r+2],17,606105819);p=i(p,d,v,h,e[r+3],22,-1044525330);h=i(h,p,d,v,e[r+4],7,-176418897);v=i(v,h,p,d,e[r+5],12,1200080426);d=i(d,v,h,p,e[r+6],17,-1473231341);p=i(p,d,v,h,e[r+7],22,-45705983);h=i(h,p,d,v,e[r+8],7,1770035416);v=i(v,h,p,d,e[r+9],12,-1958414417);d=i(d,v,h,p,e[r+10],17,-42063);p=i(p,d,v,h,e[r+11],22,-1990404162);h=i(h,p,d,v,e[r+12],7,1804603682);v=i(v,h,p,d,e[r+13],12,-40341101);d=i(d,v,h,p,e[r+14],17,-1502002290);p=i(p,d,v,h,e[r+15],22,1236535329);h=s(h,p,d,v,e[r+1],5,-165796510);v=s(v,h,p,d,e[r+6],9,-1069501632);d=s(d,v,h,p,e[r+11],14,643717713);p=s(p,d,v,h,e[r],20,-373897302);h=s(h,p,d,v,e[r+5],5,-701558691);v=s(v,h,p,d,e[r+10],9,38016083);d=s(d,v,h,p,e[r+15],14,-660478335);p=s(p,d,v,h,e[r+4],20,-405537848);h=s(h,p,d,v,e[r+9],5,568446438);v=s(v,h,p,d,e[r+14],9,-1019803690);d=s(d,v,h,p,e[r+3],14,-187363961);p=s(p,d,v,h,e[r+8],20,1163531501);h=s(h,p,d,v,e[r+13],5,-1444681467);v=s(v,h,p,d,e[r+2],9,-51403784);d=s(d,v,h,p,e[r+7],14,1735328473);p=s(p,d,v,h,e[r+12],20,-1926607734);h=o(h,p,d,v,e[r+5],4,-378558);v=o(v,h,p,d,e[r+8],11,-2022574463);d=o(d,v,h,p,e[r+11],16,1839030562);p=o(p,d,v,h,e[r+14],23,-35309556);h=o(h,p,d,v,e[r+1],4,-1530992060);v=o(v,h,p,d,e[r+4],11,1272893353);d=o(d,v,h,p,e[r+7],16,-155497632);p=o(p,d,v,h,e[r+10],23,-1094730640);h=o(h,p,d,v,e[r+13],4,681279174);v=o(v,h,p,d,e[r],11,-358537222);d=o(d,v,h,p,e[r+3],16,-722521979);p=o(p,d,v,h,e[r+6],23,76029189);h=o(h,p,d,v,e[r+9],4,-640364487);v=o(v,h,p,d,e[r+12],11,-421815835);d=o(d,v,h,p,e[r+15],16,530742520);p=o(p,d,v,h,e[r+2],23,-995338651);h=u(h,p,d,v,e[r],6,-198630844);v=u(v,h,p,d,e[r+7],10,1126891415);d=u(d,v,h,p,e[r+14],15,-1416354905);p=u(p,d,v,h,e[r+5],21,-57434055);h=u(h,p,d,v,e[r+12],6,1700485571);v=u(v,h,p,d,e[r+3],10,-1894986606);d=u(d,v,h,p,e[r+10],15,-1051523);p=u(p,d,v,h,e[r+1],21,-2054922799);h=u(h,p,d,v,e[r+8],6,1873313359);v=u(v,h,p,d,e[r+15],10,-30611744);d=u(d,v,h,p,e[r+6],15,-1560198380);p=u(p,d,v,h,e[r+13],21,1309151649);h=u(h,p,d,v,e[r+4],6,-145523070);v=u(v,h,p,d,e[r+11],10,-1120210379);d=u(d,v,h,p,e[r+2],15,718787259);p=u(p,d,v,h,e[r+9],21,-343485551);h=t(h,a);p=t(p,f);d=t(d,l);v=t(v,c)}return[h,p,d,v]}function f(e){var t,n="";for(t=0;t<e.length*32;t+=8){n+=String.fromCharCode(e[t>>5]>>>t%32&255)}return n}function l(e){var t,n=[];n[(e.length>>2)-1]=undefined;for(t=0;t<n.length;t+=1){n[t]=0}for(t=0;t<e.length*8;t+=8){n[t>>5]|=(e.charCodeAt(t/8)&255)<<t%32}return n}function c(e){return f(a(l(e),e.length*8))}function h(e,t){var n,r=l(e),i=[],s=[],o;i[15]=s[15]=undefined;if(r.length>16){r=a(r,e.length*8)}for(n=0;n<16;n+=1){i[n]=r[n]^909522486;s[n]=r[n]^1549556828}o=a(i.concat(l(t)),512+t.length*8);return f(a(s.concat(o),512+128))}function p(e){var t="0123456789abcdef",n="",r,i;for(i=0;i<e.length;i+=1){r=e.charCodeAt(i);n+=t.charAt(r>>>4&15)+t.charAt(r&15)}return n}function d(e){return unescape(encodeURIComponent(e))}function v(e){return c(d(e))}function m(e){return p(v(e))}function g(e,t){return h(d(e),d(t))}function y(e,t){return p(g(e,t))}function b(e,t,n){if(!t){if(!n){return m(e)}return v(e)}if(!n){return y(t,e)}return g(t,e)}if(typeof define==="function"&&define.amd){define(function(){return b})}else{e.md5=b}})(this)},{}],3:[function(e,t,n){this.j$=this.jStat=function(e,t){function a(){return new a.fn.init(arguments)}var n=Array.prototype.slice,r=Object.prototype.toString,i=function(t,n){var r=t>n?t:n;return e.pow(10,17-~~(e.log(r>0?r:-r)*e.LOG10E))},s=Array.isArray||function(e){return r.call(e)==="[object Array]"},o=function(e){return r.call(e)==="[object Function]"},u=function(e){return r.call(e)==="[object Number]"&&!isNaN(e)};a.fn=a.prototype={constructor:a,init:function(e){var t=0;if(s(e[0])){if(s(e[0][0])){if(o(e[1])){e[0]=a.map(e[0],e[1])}for(;t<e[0].length;t++){this[t]=e[0][t]}this.length=e[0].length}else{this[0]=o(e[1])?a.map(e[0],e[1]):e[0];this.length=1}}else if(u(e[0])){this[0]=a.seq.apply(null,e);this.length=1}else if(e[0]instanceof a){return a(e[0].toArray())}else{this[0]=[];this.length=1}return this},length:0,toArray:function(){return this.length>1?n.call(this):n.call(this)[0]},push:[].push,sort:[].sort,splice:[].splice};a.fn.init.prototype=a.fn;a.utils={calcRdx:i,isArray:s,isFunction:o,isNumber:u};a.extend=function(e){var t=n.call(arguments),r=1,i;if(t.length===1){for(i in e){a[i]=e[i]}return this}for(;r<t.length;r++){for(i in t[r])e[i]=t[r][i]}return e};a.extend({rows:function(e){return e.length||1},cols:function(e){return e[0].length||1},dimensions:function(e){return{rows:a.rows(e),cols:a.cols(e)}},row:function(e,t){return e[t]},col:function(e,t){var n=new Array(e.length),r=0;for(;r<e.length;r++){n[r]=[e[r][t]]}return n},diag:function(e){var t=0,n=a.rows(e),r=new Array(n);for(;t<n;t++){r[t]=[e[t][t]]}return r},antidiag:function(e){var t=a.rows(e)-1,n=new Array(t),r=0;for(;t>=0;t--,r++){n[r]=[e[r][t]]}return n},transpose:function(e){var t=[],n=0,r,i,o;if(!s(e[0]))e=[e];r=e.length;i=e[0].length;for(;n<i;n++){t.push(new Array(r));for(o=0;o<r;o++){t[n][o]=e[o][n]}}return t.length===1?t[0]:t},map:function(e,t,n){var r=0,i,o,u,a;if(!s(e[0]))e=[e];i=e.length;o=e[0].length;u=n?e:new Array(i);for(;r<i;r++){if(!u[r])u[r]=new Array(o);for(a=0;a<o;a++)u[r][a]=t(e[r][a],r,a)}return u.length===1?u[0]:u},alter:function(e,t){return a.map(e,t,true)},create:function(e,t,n){var r=new Array(e),i,s;if(o(t)){n=t;t=e}for(i=0;i<e;i++){r[i]=new Array(t);for(s=0;s<t;s++){r[i][s]=n(i,s)}}return r},zeros:function(e,t){if(!u(t))t=e;return a.create(e,t,function(){return 0})},ones:function(e,t){if(!u(t))t=e;return a.create(e,t,function(){return 1})},rand:function(t,n){if(!u(n))n=t;return a.create(t,n,function(){return e.random()})},identity:function(e,t){if(!u(t))t=e;return a.create(e,t,function(e,t){return e===t?1:0})},symmetric:function(e){var t=true,n=0,r=e.length,i;if(e.length!==e[0].length)return false;for(;n<r;n++){for(i=0;i<r;i++){if(e[i][n]!==e[n][i])return false}}return true},clear:function(e){return a.alter(e,function(){return 0})},seq:function(e,t,n,r){if(!o(r))r=false;var s=[],u=i(e,t),a=(t*u-e*u)/((n-1)*u),f=e,l=0;for(;f<=t;l++,f=(e*u+a*u*l)/u)s.push(r?r(f,l):f);return s}});(function(e){for(var t=0;t<e.length;t++)(function(e){a.fn[e]=function(t){var n=this,r;if(t){setTimeout(function(){t.call(n,a.fn[e].call(n))},15);return this}r=a[e](this);return s(r)?a(r):r}})(e[t])})("transpose clear symmetric rows cols dimensions diag antidiag".split(" "));(function(e){for(var t=0;t<e.length;t++)(function(e){a.fn[e]=function(t,n){var r=this;if(n){setTimeout(function(){n.call(r,a.fn[e].call(r,t))},15);return this}return a(a[e](this,t))}})(e[t])})("row col".split(" "));(function(e){for(var t=0;t<e.length;t++)(function(e){a.fn[e]=function(){return a(a[e].apply(null,arguments))}})(e[t])})("create zeros ones rand identity".split(" "));a.extend(a.fn,{map:function(e,t){return a(a.map(this,e,t))},alter:function(e){a.alter(this,e);return this}});return a}(Math);(function(e,t){var n=e.utils.isFunction,r=function(e,t){return e-t};e.extend({sum:function(e){var t=0,n=e.length,r;while(--n>=0){t+=e[n]}return t},sumsqrd:function(e){var t=0,n=e.length;while(--n>=0)t+=e[n]*e[n];return t},sumsqerr:function(t){var n=e.mean(t),r=0,i=t.length,s;while(--i>=0){s=t[i]-n;r+=s*s}return r},product:function(e){var t=1,n=e.length;while(--n>=0)t*=e[n];return t},min:function(e){var t=e[0],n=0;while(++n<e.length)if(e[n]<t)t=e[n];return t},max:function(e){var t=e[0],n=0;while(++n<e.length)if(e[n]>t)t=e[n];return t},mean:function(t){return e.sum(t)/t.length},meansqerr:function(t){return e.sumsqerr(t)/t.length},geomean:function(n){return t.pow(e.product(n),1/n.length)},median:function(e){var t=e.length,n=e.slice().sort(r);return!(t&1)?(n[t/2-1]+n[t/2])/2:n[t/2|0]},cumsum:function(e){var t=e.length,n=new Array(t),r=1;n[0]=e[0];for(;r<t;r++){n[r]=n[r-1]+e[r]}return n},diff:function(e){var t=[],n=e.length,r=1;for(r=1;r<n;r++){t.push(e[r]-e[r-1])}return t},mode:function(e){var t=e.length,n=e.slice().sort(r),i=1,s=0,o=0,u=0,a;for(;u<t;u++){if(n[u]===n[u+1]){i++}else{if(i>s){a=n[u];s=i;i=1;o=0}else{if(i===s){o++}else{i=1}}}}return o===0?a:false},range:function(t){return e.max(t)-e.min(t)},variance:function(t,n){return e.sumsqerr(t)/(t.length-(n?1:0))},stdev:function(n,r){return t.sqrt(e.variance(n,r))},meandev:function(n){var r=0,i=e.mean(n),s=n.length-1;for(;s>=0;s--){r+=t.abs(n[s]-i)}return r/n.length},meddev:function(n){var r=0,i=e.median(n),s=n.length-1;for(;s>=0;s--){r+=t.abs(n[s]-i)}return r/n.length},coeffvar:function(t){return e.stdev(t)/e.mean(t)},quartiles:function(e){var n=e.length,i=e.slice().sort(r);return[i[t.round(n/4)-1],i[t.round(n/2)-1],i[t.round(n*3/4)-1]]},covariance:function(t,n){var r=e.mean(t),i=e.mean(n),s=t.length,o=new Array(s),u=0;for(;u<s;u++){o[u]=(t[u]-r)*(n[u]-i)}return e.sum(o)/(s-1)},corrcoeff:function(t,n){return e.covariance(t,n)/e.stdev(t,1)/e.stdev(n,1)}});(function(t){for(var r=0;r<t.length;r++)(function(t){e.fn[t]=function(r,i){var s=[],o=0,u=this;if(n(r)){i=r;r=false}if(i){setTimeout(function(){i.call(u,e.fn[t].call(u,r))},15);return this}if(this.length>1){u=r===true?this:this.transpose();for(;o<u.length;o++)s[o]=e[t](u[o]);return r===true?e[t](s):s}return e[t](this[0],r)}})(t[r])})("sum sumsqrd sumsqerr product min max mean meansqerr geomean median cumsum diff mode range variance stdev meandev meddev coeffvar quartiles".split(" "))})(this.jStat,Math);(function(e,t){e.extend({gammaln:function(e){var n=0,r=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],i=1.000000000190015,s,o,u;u=(o=s=e)+5.5;u-=(s+.5)*t.log(u);for(;n<6;n++)i+=r[n]/++o;return t.log(2.5066282746310007*i/s)-u},gammafn:function(e){var n=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],r=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],i=false,s=0,o=0,u=0,a=e,f,l,c,h,p,d;if(a<=0){h=a%1+3.6e-16;if(h){i=(!(a&1)?1:-1)*t.PI/t.sin(t.PI*h);a=1-a}else{return Infinity}}c=a;if(a<1){l=a++}else{l=(a-=s=(a|0)-1)-1}for(f=0;f<8;++f){u=(u+n[f])*l;o=o*l+r[f]}h=u/o+1;if(c<a){h/=c}else if(c>a){for(f=0;f<s;++f){h*=a;a++}}if(i){h=i/h}return h},gammap:function(n,r){var i=e.gammaln(n),s=n,o=1/n,u=o,a=r+1-n,f=1/1e-30,l=1/a,c=l,h=1,p=-~(t.log(n>=1?n:1/n)*8.5+n*.4+17),d,v;if(r<0||n<=0){return NaN}else if(r<n+1){for(;h<=p;h++){o+=u*=r/++s}return o*t.exp(-r+n*t.log(r)-i)}for(;h<=p;h++){d=-h*(h-n);a+=2;l=d*l+a;f=a+d/f;l=1/l;c*=l*f}return 1-c*t.exp(-r+n*t.log(r)-i)},factorialln:function(t){return t<0?NaN:e.gammaln(t+1)},factorial:function(t){return t<0?NaN:e.gammafn(t+1)},combination:function(n,r){return n>170||r>170?t.exp(e.combinationln(n,r)):e.factorial(n)/e.factorial(r)/e.factorial(n-r)},combinationln:function(t,n){return e.factorialln(t)-e.factorialln(n)-e.factorialln(t-n)},permutation:function(t,n){return e.factorial(t)/e.factorial(t-n)},betafn:function(n,r){if(n<=0||r<=0)return undefined;return n+r>170?t.exp(e.betaln(n,r)):e.gammafn(n)*e.gammafn(r)/e.gammafn(n+r)},betaln:function(t,n){return e.gammaln(t)+e.gammaln(n)-e.gammaln(t+n)},betacf:function(e,n,r){var i=1e-30,s=1,o,u,a,f,l,c,h,p,d;h=n+r;d=n+1;p=n-1;a=1;f=1-h*e/d;if(t.abs(f)<i)f=i;f=1/f;c=f;for(;s<=100;s++){o=2*s;u=s*(r-s)*e/((p+o)*(n+o));f=1+u*f;if(t.abs(f)<i)f=i;a=1+u/a;if(t.abs(a)<i)a=i;f=1/f;c*=f*a;u=-(n+s)*(h+s)*e/((n+o)*(d+o));f=1+u*f;if(t.abs(f)<i)f=i;a=1+u/a;if(t.abs(a)<i)a=i;f=1/f;l=f*a;c*=l;if(t.abs(l-1)<3e-7)break}return c},gammapinv:function(n,r){var i=0,s=r-1,o=1e-8,u=e.gammaln(r),a,f,l,c,h,p,d;if(n>=1)return t.max(100,r+100*t.sqrt(r));if(n<=0)return 0;if(r>1){p=t.log(s);d=t.exp(s*(p-1)-u);h=n<.5?n:1-n;l=t.sqrt(-2*t.log(h));a=(2.30753+l*.27061)/(1+l*(.99229+l*.04481))-l;if(n<.5)a=-a;a=t.max(.001,r*t.pow(1-1/(9*r)-a/(3*t.sqrt(r)),3))}else{l=1-r*(.253+r*.12);if(n<l)a=t.pow(n/l,1/r);else a=1-t.log(1-(n-l)/(1-l))}for(;i<12;i++){if(a<=0)return 0;f=e.gammap(r,a)-n;if(r>1)l=d*t.exp(-(a-s)+s*(t.log(a)-p));else l=t.exp(-a+s*t.log(a)-u);c=f/l;a-=l=c/(1-.5*t.min(1,c*((r-1)/a-1)));if(a<=0)a=.5*(a+l);if(t.abs(l)<o*a)break}return a},erf:function(e){var n=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17],r=n.length-1,i=false,s=0,o=0,u,a,f,l;if(e<0){e=-e;i=true}u=2/(2+e);a=4*u-2;for(;r>0;r--){f=s;s=a*s-o+n[r];o=f}l=u*t.exp(-e*e+.5*(n[0]+a*s)-o);return i?l-1:1-l},erfc:function(t){return 1-e.erf(t)},erfcinv:function(n){var r=0,i,s,o,u;if(n>=2)return-100;if(n<=0)return 100;u=n<1?n:2-n;o=t.sqrt(-2*t.log(u/2));i=-.70711*((2.30753+o*.27061)/(1+o*(.99229+o*.04481))-o);for(;r<2;r++){s=e.erfc(i)-u;i+=s/(1.1283791670955126*t.exp(-i*i)-i*s)}return n<1?i:-i},ibetainv:function(n,r,i){var s=1e-8,o=r-1,u=i-1,a=0,f,l,c,h,p,d,v,m,g,y,b;if(n<=0)return 0;if(n>=1)return 1;if(r>=1&&i>=1){c=n<.5?n:1-n;h=t.sqrt(-2*t.log(c));v=(2.30753+h*.27061)/(1+h*(.99229+h*.04481))-h;if(n<.5)v=-v;m=(v*v-3)/6;g=2/(1/(2*r-1)+1/(2*i-1));y=v*t.sqrt(m+g)/g-(1/(2*i-1)-1/(2*r-1))*(m+5/6-2/(3*g));v=r/(r+i*t.exp(2*y))}else{f=t.log(r/(r+i));l=t.log(i/(r+i));h=t.exp(r*f)/r;p=t.exp(i*l)/i;y=h+p;if(n<h/y)v=t.pow(r*y*n,1/r);else v=1-t.pow(i*y*(1-n),1/i)}b=-e.gammaln(r)-e.gammaln(i)+e.gammaln(r+i);for(;a<10;a++){if(v===0||v===1)return v;d=e.ibeta(v,r,i)-n;h=t.exp(o*t.log(v)+u*t.log(1-v)+b);p=d/h;v-=h=p/(1-.5*t.min(1,p*(o/v-u/(1-v))));if(v<=0)v=.5*(v+h);if(v>=1)v=.5*(v+h+1);if(t.abs(h)<s*v&&a>0)break}return v},ibeta:function(n,r,i){var s=n===0||n===1?0:t.exp(e.gammaln(r+i)-e.gammaln(r)-e.gammaln(i)+r*t.log(n)+i*t.log(1-n));if(n<0||n>1)return false;if(n<(r+1)/(r+i+2))return s*e.betacf(n,r,i)/r;return 1-s*e.betacf(1-n,i,r)/i},randn:function(n,r){var i,s,o,u,a,f;if(!r)r=n;if(n){return e.create(n,r,function(){return e.randn()})}do{i=t.random();s=1.7156*(t.random()-.5);o=i-.449871;u=t.abs(s)+.386595;a=o*o+u*(.196*u-.25472*o)}while(a>.27597&&(a>.27846||s*s>-4*t.log(i)*i*i));return s/i},randg:function(n,r,i){var s=n,o,u,a,f,l,c;if(!i)i=r;if(!n)n=1;if(r){c=e.zeros(r,i);c.alter(function(){return e.randg(n)});return c}if(n<1)n+=1;o=n-1/3;u=1/t.sqrt(9*o);do{do{l=e.randn();f=1+u*l}while(f<=0);f=f*f*f;a=t.random()}while(a>1-.331*t.pow(l,4)&&t.log(a)>.5*l*l+o*(1-f+t.log(f)));if(n==s)return o*f;do{a=t.random()}while(a===0);return t.pow(a,1/s)*o*f}});(function(t){for(var n=0;n<t.length;n++)(function(t){e.fn[t]=function(){return e(e.map(this,function(n){return e[t](n)}))}})(t[n])})("gammaln gammafn factorial factorialln".split(" "));(function(t){for(var n=0;n<t.length;n++)(function(t){e.fn[t]=function(){return e(e[t].apply(null,arguments))}})(t[n])})("randn".split(" "))})(this.jStat,Math);(function(e,t){(function(t){for(var n=0;n<t.length;n++)(function(t){e[t]=function(e,t,n){if(!(this instanceof arguments.callee))return new arguments.callee(e,t,n);this._a=e;this._b=t;this._c=n;return this};e.fn[t]=function(n,r,i){var s=e[t](n,r,i);s.data=this;return s};e[t].prototype.sample=function(n){var r=this._a,i=this._b,s=this._c;if(n)return e.alter(n,function(){return e[t].sample(r,i,s)});else return e[t].sample(r,i,s)};(function(n){for(var r=0;r<n.length;r++)(function(n){e[t].prototype[n]=function(r){var i=this._a,s=this._b,o=this._c;if(!r)r=this.data;if(typeof r!=="number"){return e.fn.map.call(r,function(r){return e[t][n](r,i,s,o)})}return e[t][n](r,i,s,o)}})(n[r])})("pdf cdf inv".split(" "));(function(n){for(var r=0;r<n.length;r++)(function(n){e[t].prototype[n]=function(){return e[t][n](this._a,this._b,this._c)}})(n[r])})("mean median mode variance".split(" "))})(t[n])})(("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy lognormal normal "+"pareto studentt weibull uniform  binomial negbin hypgeom poisson triangular").split(" "));e.extend(e.beta,{pdf:function(n,r,i){return n>1||n<0?0:t.pow(n,r-1)*t.pow(1-n,i-1)/e.betafn(r,i)},cdf:function(t,n,r){return t>1||t<0?(t>1)*1:e.ibeta(t,n,r)},inv:function(t,n,r){return e.ibetainv(t,n,r)},mean:function(e,t){return e/(e+t)},median:function(e,t){},mode:function(e,n){return e*n/(t.pow(e+n,2)*(e+n+1))},sample:function(t,n){var r=e.randg(t);return r/(r+e.randg(n))},variance:function(e,n){return e*n/(t.pow(e+n,2)*(e+n+1))}});e.extend(e.centralF,{pdf:function(n,r,i){return n>=0?t.sqrt(t.pow(r*n,r)*t.pow(i,i)/t.pow(r*n+i,r+i))/(n*e.betafn(r/2,i/2)):undefined},cdf:function(t,n,r){return e.ibeta(n*t/(n*t+r),n/2,r/2)},inv:function(t,n,r){return r/(n*(1/e.ibetainv(t,n/2,r/2)-1))},mean:function(e,t){return t>2?t/(t-2):undefined},mode:function(e,t){return e>2?t*(e-2)/(e*(t+2)):undefined},sample:function(t,n){var r=e.randg(t/2)*2;var i=e.randg(n/2)*2;return r/t/(i/n)},variance:function(e,t){return t>4?2*t*t*(e+t-2)/(e*(t-2)*(t-2)*(t-4)):undefined}});e.extend(e.cauchy,{pdf:function(e,n,r){return r/(t.pow(e-n,2)+t.pow(r,2))/t.PI},cdf:function(e,n,r){return t.atan((e-n)/r)/t.PI+.5},inv:function(e,n,r){return n+r*t.tan(t.PI*(e-.5))},median:function(e,t){return e},mode:function(e,t){return e},sample:function(n,r){return e.randn()*t.sqrt(1/(2*e.randg(.5)))*r+n}});e.extend(e.chisquare,{pdf:function(n,r){return t.exp((r/2-1)*t.log(n)-n/2-r/2*t.log(2)-e.gammaln(r/2))},cdf:function(t,n){return e.gammap(n/2,t/2)},inv:function(t,n){return 2*e.gammapinv(t,.5*n)},mean:function(e){return e},median:function(e){return e*t.pow(1-2/(9*e),3)},mode:function(e){return e-2>0?e-2:0},sample:function(t){return e.randg(t/2)*2},variance:function(e){return 2*e}});e.extend(e.exponential,{pdf:function(e,n){return e<0?0:n*t.exp(-n*e)},cdf:function(e,n){return e<0?0:1-t.exp(-n*e)},inv:function(e,n){return-t.log(1-e)/n},mean:function(e){return 1/e},median:function(e){return 1/e*t.log(2)},mode:function(e){return 0},sample:function(e){return-1/e*t.log(t.random())},variance:function(e){return t.pow(e,-2)}});e.extend(e.gamma,{pdf:function(n,r,i){return t.exp((r-1)*t.log(n)-n/i-e.gammaln(r)-r*t.log(i))},cdf:function(t,n,r){return e.gammap(n,t/r)},inv:function(t,n,r){return e.gammapinv(t,n)*r},mean:function(e,t){return e*t},mode:function(e,t){if(e>1)return(e-1)*t;return undefined},sample:function(t,n){return e.randg(t)*n},variance:function(e,t){return e*t*t}});e.extend(e.invgamma,{pdf:function(n,r,i){return t.exp(-(r+1)*t.log(n)-i/n-e.gammaln(r)+r*t.log(i))},cdf:function(t,n,r){return 1-e.gammap(n,r/t)},inv:function(t,n,r){return r/e.gammapinv(1-t,n)},mean:function(e,t){return e>1?t/(e-1):undefined},mode:function(e,t){return t/(e+1)},sample:function(t,n){return n/e.randg(t)},variance:function(e,t){return e>2?t*t/((e-1)*(e-1)*(e-2)):undefined}});e.extend(e.kumaraswamy,{pdf:function(e,n,r){return t.exp(t.log(n)+t.log(r)+(n-1)*t.log(e)+(r-1)*t.log(1-t.pow(e,n)))},cdf:function(e,n,r){return 1-t.pow(1-t.pow(e,n),r)},mean:function(t,n){return n*e.gammafn(1+1/t)*e.gammafn(n)/e.gammafn(1+1/t+n)},median:function(e,n){return t.pow(1-t.pow(2,-1/n),1/e)},mode:function(e,n){return e>=1&&n>=1&&e!==1&&n!==1?t.pow((e-1)/(e*n-1),1/e):undefined},variance:function(e,t){}});e.extend(e.lognormal,{pdf:function(e,n,r){return t.exp(-t.log(e)-.5*t.log(2*t.PI)-t.log(r)-t.pow(t.log(e)-n,2)/(2*r*r))},cdf:function(n,r,i){return.5+.5*e.erf((t.log(n)-r)/t.sqrt(2*i*i))},inv:function(n,r,i){return t.exp(-1.4142135623730951*i*e.erfcinv(2*n)+r)},mean:function(e,n){return t.exp(e+n*n/2)},median:function(e,n){return t.exp(e)},mode:function(e,n){return t.exp(e-n*n)},sample:function(n,r){return t.exp(e.randn()*r+n)},variance:function(e,n){return(t.exp(n*n)-1)*t.exp(2*e+n*n)}});e.extend(e.normal,{pdf:function(e,n,r){return t.exp(-.5*t.log(2*t.PI)-t.log(r)-t.pow(e-n,2)/(2*r*r))},cdf:function(n,r,i){return.5*(1+e.erf((n-r)/t.sqrt(2*i*i)))},inv:function(t,n,r){return-1.4142135623730951*r*e.erfcinv(2*t)+n},mean:function(e,t){return e},median:function(e,t){return e},mode:function(e,t){return e},sample:function(t,n){return e.randn()*n+t},variance:function(e,t){return t*t}});e.extend(e.pareto,{pdf:function(e,n,r){return e>n?r*t.pow(n,r)/t.pow(e,r+1):undefined},cdf:function(e,n,r){return 1-t.pow(n/e,r)},mean:function(e,n){return n>1?n*t.pow(e,n)/(n-1):undefined},median:function(e,n){return e*n*t.SQRT2},mode:function(e,t){return e},variance:function(e,n){return n>2?e*e*n/(t.pow(n-1,2)*(n-2)):undefined}});e.extend(e.studentt,{pdf:function(n,r){return e.gammafn((r+1)/2)/(t.sqrt(r*t.PI)*e.gammafn(r/2))*t.pow(1+n*n/r,-((r+1)/2))},cdf:function(n,r){var i=r/2;return e.ibeta((n+t.sqrt(n*n+r))/(2*t.sqrt(n*n+r)),i,i)},inv:function(n,r){var i=e.ibetainv(2*t.min(n,1-n),.5*r,.5);i=t.sqrt(r*(1-i)/i);return n>0?i:-i},mean:function(e){return e>1?0:undefined},median:function(e){return 0},mode:function(e){return 0},sample:function(n){return e.randn()*t.sqrt(n/(2*e.randg(n/2)))},variance:function(e){return e>2?e/(e-2):e>1?Infinity:undefined}});e.extend(e.weibull,{pdf:function(e,n,r){return e<0?0:r/n*t.pow(e/n,r-1)*t.exp(-t.pow(e/n,r))},cdf:function(e,n,r){return e<0?0:1-t.exp(-t.pow(e/n,r))},inv:function(e,n,r){return n*t.pow(-t.log(1-e),1/r)},mean:function(t,n){return t*e.gammafn(1+1/n)},median:function(e,n){return e*t.pow(t.log(2),1/n)},mode:function(e,n){return n>1?e*t.pow((n-1)/n,1/n):undefined},sample:function(e,n){return e*t.pow(-t.log(t.random()),1/n)},variance:function(n,r){return n*n*e.gammafn(1+2/r)-t.pow(this.mean(n,r),2)}});e.extend(e.uniform,{pdf:function(e,t,n){return e<t||e>n?0:1/(n-t)},cdf:function(e,t,n){if(e<t){return 0}else if(e<n){return(e-t)/(n-t)}return 1},mean:function(e,t){return.5*(e+t)},median:function(t,n){return e.mean(t,n)},mode:function(e,t){},sample:function(e,n){return e/2+n/2+(n/2-e/2)*(2*t.random()-1)},variance:function(e,n){return t.pow(n-e,2)/12}});e.extend(e.binomial,{pdf:function(n,r,i){return i===0||i===1?r*i===n?1:0:e.combination(r,n)*t.pow(i,n)*t.pow(1-i,r-n)},cdf:function(t,n,r){var i=[],s=0;if(t<0){return 0}if(t<n){for(;s<=t;s++){i[s]=e.binomial.pdf(s,n,r)}return e.sum(i)}return 1}});e.extend(e.negbin,{pdf:function(n,r,i){return n!==n|0?false:n<0?0:e.combination(n+r-1,n)*t.pow(1-i,r)*t.pow(i,n)},cdf:function(t,n,r){var i=0,s=0;if(t<0)return 0;for(;s<=t;s++){i+=e.negbin.pdf(s,n,r)}return i}});e.extend(e.hypgeom,{pdf:function(t,n,r,i){return t!==t|0?false:t<0?0:e.combination(r,t)*e.combination(n-r,i-t)/e.combination(n,i)},cdf:function(t,n,r,i){var s=0,o=0;if(t<0)return 0;for(;o<=t;o++){s+=e.hypgeom.pdf(o,n,r,i)}return s}});e.extend(e.poisson,{pdf:function(n,r){return t.pow(r,n)*t.exp(-r)/e.factorial(n)},cdf:function(t,n){var r=[],i=0;if(t<0)return 0;for(;i<=t;i++){r.push(e.poisson.pdf(i,n))}return e.sum(r)},mean:function(e){return e},variance:function(e){return e},sample:function(e){var n=1,r=0,i=t.exp(-e);do{r++;n*=t.random()}while(n>i);return r-1}});e.extend(e.triangular,{pdf:function(e,t,n,r){return n<=t||r<t||r>n?undefined:e<t||e>n?0:e<=r?2*(e-t)/((n-t)*(r-t)):2*(n-e)/((n-t)*(n-r))},cdf:function(e,n,r,i){if(r<=n||i<n||i>r)return undefined;if(e<n){return 0}else{if(e<=i)return t.pow(e-n,2)/((r-n)*(i-n));return 1-t.pow(r-e,2)/((r-n)*(r-i))}return 1},mean:function(e,t,n){return(e+t+n)/3},median:function(e,n,r){if(r<=(e+n)/2){return n-t.sqrt((n-e)*(n-r))/t.sqrt(2)}else if(r>(e+n)/2){return e+t.sqrt((n-e)*(r-e))/t.sqrt(2)}},mode:function(e,t,n){return n},sample:function(e,n,r){var i=t.random();return i<(r-e)/(n-e)?e+t.sqrt(i*(n-e)*(r-e)):n-t.sqrt((1-i)*(n-e)*(n-r))},variance:function(e,t,n){return(e*e+t*t+n*n-e*t-e*n-t*n)/18}})})(this.jStat,Math);(function(e,t){var n=Array.prototype.push,r=e.utils.isArray;e.extend({add:function(t,n){if(r(n)){if(!r(n[0]))n=[n];return e.map(t,function(e,t,r){return e+n[t][r]})}return e.map(t,function(e){return e+n})},subtract:function(t,n){if(r(n)){if(!r(n[0]))n=[n];return e.map(t,function(e,t,r){return e-n[t][r]||0})}return e.map(t,function(e){return e-n})},divide:function(t,n){if(r(n)){if(!r(n[0]))n=[n];return e.multiply(t,e.inv(n))}return e.map(t,function(e){return e/n})},multiply:function(t,n){var i,s,o,u,a=t.length,f=t[0].length,l=e.zeros(a,o=r(n)?n[0].length:f),c=0;if(r(n)){for(;c<o;c++){for(i=0;i<a;i++){u=0;for(s=0;s<f;s++)u+=t[i][s]*n[s][c];l[i][c]=u}}return a===1&&c===1?l[0][0]:l}return e.map(t,function(e){return e*n})},dot:function(t,n){if(!r(t[0]))t=[t];if(!r(n[0]))n=[n];var i=t[0].length===1&&t.length!==1?e.transpose(t):t,s=n[0].length===1&&n.length!==1?e.transpose(n):n,o=[],u=0,a=i.length,f=i[0].length,l,c;for(;u<a;u++){o[u]=[];l=0;for(c=0;c<f;c++)l+=i[u][c]*s[u][c];o[u]=l}return o.length===1?o[0]:o},pow:function(n,r){return e.map(n,function(e){return t.pow(e,r)})},abs:function(n){return e.map(n,function(e){return t.abs(e)})},norm:function(e,n){var i=0,s=0;if(isNaN(n))n=2;if(r(e[0]))e=e[0];for(;s<e.length;s++){i+=t.pow(t.abs(e[s]),n)}return t.pow(i,1/n)},angle:function(n,r){return t.acos(e.dot(n,r)/(e.norm(n)*e.norm(r)))},aug:function(e,t){var r=e.slice(),i=0;for(;i<r.length;i++){n.apply(r[i],t[i])}return r},inv:function(t){var n=t.length,r=t[0].length,i=e.identity(n,r),s=e.gauss_jordan(t,i),o=[],u=0,a;for(;u<n;u++){o[u]=[];for(a=r-1;a<s[0].length;a++)o[u][a-r]=s[u][a]}return o},det:function(e){var t=e.length,n=t*2,r=new Array(n),i=t-1,s=n-1,o=i-t+1,u=s,a=0,f=0,l;if(t===2){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}for(;a<n;a++){r[a]=1}for(a=0;a<t;a++){for(l=0;l<t;l++){r[o<0?o+t:o]*=e[a][l];r[u<t?u+t:u]*=e[a][l];o++;u--}o=--i-t+1;u=--s}for(a=0;a<t;a++){f+=r[a]}for(;a<n;a++){f-=r[a]}return f},gauss_elimination:function(n,r){var i=0,s=0,o=n.length,u=n[0].length,a=1,f=0,l=[],c,h,p,d;n=e.aug(n,r);c=n[0].length;for(;i<o;i++){h=n[i][i];s=i;for(d=i+1;d<u;d++){if(h<t.abs(n[d][i])){h=n[d][i];s=d}}if(s!=i){for(d=0;d<c;d++){p=n[i][d];n[i][d]=n[s][d];n[s][d]=p}}for(s=i+1;s<o;s++){a=n[s][i]/n[i][i];for(d=i;d<c;d++){n[s][d]=n[s][d]-a*n[i][d]}}}for(i=o-1;i>=0;i--){f=0;for(s=i+1;s<=o-1;s++){f=l[s]*n[i][s]}l[i]=(n[i][c-1]-f)/n[i][i]}return l},gauss_jordan:function(n,r){var i=e.aug(n,r),s=i.length,o=i[0].length;for(var u=0;u<s;u++){var a=u;for(var f=u+1;f<s;f++){if(t.abs(i[f][u])>t.abs(i[a][u]))a=f}var l=i[u];i[u]=i[a];i[a]=l;for(var f=u+1;f<s;f++){c=i[f][u]/i[u][u];for(var h=u;h<o;h++){i[f][h]-=i[u][h]*c}}}for(var u=s-1;u>=0;u--){c=i[u][u];for(var f=0;f<u;f++){for(var h=o-1;h>u-1;h--){i[f][h]-=i[u][h]*i[f][u]/c}}i[u][u]/=c;for(var h=s;h<o;h++){i[u][h]/=c}}return i},lu:function(e,t){},cholesky:function(e,t){},gauss_jacobi:function(n,r,i,s){var o=0,u=0,a=n.length,f=[],l=[],c=[],h,p,d,v;for(;o<a;o++){f[o]=[];l[o]=[];c[o]=[];for(u=0;u<a;u++){if(o>u){f[o][u]=n[o][u];l[o][u]=c[o][u]=0}else if(o<u){l[o][u]=n[o][u];f[o][u]=c[o][u]=0}else{c[o][u]=n[o][u];f[o][u]=l[o][u]=0}}}d=e.multiply(e.multiply(e.inv(c),e.add(f,l)),-1);p=e.multiply(e.inv(c),r);h=i;v=e.add(e.multiply(d,i),p);o=2;while(t.abs(e.norm(e.subtract(v,h)))>s){h=v;v=e.add(e.multiply(d,h),p);o++}return v},gauss_seidel:function(n,r,i,s){var o=0,u=n.length,a=[],f=[],l=[],c,h,p,d,v;for(;o<u;o++){a[o]=[];f[o]=[];l[o]=[];for(c=0;c<u;c++){if(o>c){a[o][c]=n[o][c];f[o][c]=l[o][c]=0}else if(o<c){f[o][c]=n[o][c];a[o][c]=l[o][c]=0}else{l[o][c]=n[o][c];a[o][c]=f[o][c]=0}}}d=e.multiply(e.multiply(e.inv(e.add(l,a)),f),-1);p=e.multiply(e.inv(e.add(l,a)),r);h=i;v=e.add(e.multiply(d,i),p);o=2;while(t.abs(e.norm(e.subtract(v,h)))>s){h=v;v=e.add(e.multiply(d,h),p);o=o+1}return v},SOR:function(n,r,i,s,o){var u=0,a=n.length,f=[],l=[],c=[],h,p,d,v,m;for(;u<a;u++){f[u]=[];l[u]=[];c[u]=[];for(h=0;h<a;h++){if(u>h){f[u][h]=n[u][h];l[u][h]=c[u][h]=0}else if(u<h){l[u][h]=n[u][h];f[u][h]=c[u][h]=0}else{c[u][h]=n[u][h];f[u][h]=l[u][h]=0}}}v=e.multiply(e.inv(e.add(c,e.multiply(f,o))),e.subtract(e.multiply(c,1-o),e.multiply(l,o)));d=e.multiply(e.multiply(e.inv(e.add(c,e.multiply(f,o))),r),o);p=i;m=e.add(e.multiply(v,i),d);u=2;while(t.abs(e.norm(e.subtract(m,p)))>s){p=m;m=e.add(e.multiply(v,p),d);u++}return m},householder:function(n){var r=n.length,i=n[0].length,s=0,o=[],u=[],a,f,l,c,h;for(;s<r-1;s++){a=0;for(c=s+1;c<i;c++)a+=n[c][s]*n[c][s];h=n[s+1][s]>0?-1:1;a=h*t.sqrt(a);f=t.sqrt((a*a-n[s+1][s]*a)/2);o=e.zeros(r,1);o[s+1][0]=(n[s+1][s]-a)/(2*f);for(l=s+2;l<r;l++)o[l][0]=n[l][s]/(2*f);u=e.subtract(e.identity(r,i),e.multiply(e.multiply(o,e.transpose(o)),2));n=e.multiply(u,e.multiply(n,u))}return n},QR:function(n,r){var i=n.length,s=n[0].length,o=0,u=[],a=[],f=[],l,c,h,p,d,v;for(;o<i-1;o++){c=0;for(l=o+1;l<s;l++)c+=n[l][o]*n[l][o];d=n[o+1][o]>0?-1:1;c=d*t.sqrt(c);h=t.sqrt((c*c-n[o+1][o]*c)/2);u=e.zeros(i,1);u[o+1][0]=(n[o+1][o]-c)/(2*h);for(p=o+2;p<i;p++)u[p][0]=n[p][o]/(2*h);a=e.subtract(e.identity(i,s),e.multiply(e.multiply(u,e.transpose(u)),2));n=e.multiply(a,n);r=e.multiply(a,r)}for(o=i-1;o>=0;o--){v=0;for(l=o+1;l<=s-1;l++)v=f[l]*n[o][l];f[o]=r[o][0]/n[o][o]}return f},jacobi:function(n){var r=1,i=0,s=n.length,o=e.identity(s,s),u=[],a,f,l,c,h,p,d,v;while(r===1){i++;p=n[0][1];c=0;h=1;for(f=0;f<s;f++){for(l=0;l<s;l++){if(f!=l){if(p<t.abs(n[f][l])){p=t.abs(n[f][l]);c=f;h=l}}}}if(n[c][c]===n[h][h])d=n[c][h]>0?t.PI/4:-t.PI/4;else d=t.atan(2*n[c][h]/(n[c][c]-n[h][h]))/2;v=e.identity(s,s);v[c][c]=t.cos(d);v[c][h]=-t.sin(d);v[h][c]=t.sin(d);v[h][h]=t.cos(d);o=e.multiply(o,v);a=e.multiply(e.multiply(e.inv(v),n),v);n=a;r=0;for(f=1;f<s;f++){for(l=1;l<s;l++){if(f!=l&&t.abs(n[f][l])>.001){r=1}}}}for(f=0;f<s;f++)u.push(n[f][f]);return[o,u]},rungekutta:function(e,t,n,r,i,s){var o,u,a,f,l;if(s===2){while(r<=n){o=t*e(r,i);u=t*e(r+t,i+o);a=i+(o+u)/2;i=a;r=r+t}}if(s===4){while(r<=n){o=t*e(r,i);u=t*e(r+t/2,i+o/2);f=t*e(r+t/2,i+u/2);l=t*e(r+t,i+f);a=i+(o+2*u+2*f+l)/6;i=a;r=r+t}}return i},romberg:function(e,n,r,i){var s=0,o=(r-n)/2,u=[],a=[],f=[],l,c,h,p,d,v;while(s<i/2){d=e(n);for(h=n,p=0;h<=r;h=h+o,p++)u[p]=h;l=u.length;for(h=1;h<l-1;h++){d+=(h%2!==0?4:2)*e(u[h])}d=o/3*(d+e(r));f[s]=d;o/=2;s++}c=f.length;l=1;while(c!==1){for(h=0;h<c-1;h++)a[h]=(t.pow(4,l)*f[h+1]-f[h])/(t.pow(4,l)-1);c=a.length;f=a;a=[];l++}return f},richardson:function(e,n,r,i){function s(e,t){var n=0,r=e.length,i;for(;n<r;n++)if(e[n]===t)i=n;return i}var o=e.length,u=t.abs(r-e[s(e,r)+1]),a=0,f=[],l=[],c,h,p,d,v;while(i>=u){c=s(e,r+i);h=s(e,r);f[a]=(n[c]-2*n[h]+n[2*h-c])/(i*i);i/=2;a++}d=f.length;p=1;while(d!=1){for(v=0;v<d-1;v++)l[v]=(t.pow(4,p)*f[v+1]-f[v])/(t.pow(4,p)-1);d=l.length;f=l;l=[];p++}return f},simpson:function(e,t,n,r){var i=(n-t)/r,s=e(t),o=[],u=t,a=0,f=1,l;for(;u<=n;u=u+i,a++)o[a]=u;l=o.length;for(;f<l-1;f++){s+=(f%2!==0?4:2)*e(o[f])}return i/3*(s+e(n))},hermite:function(e,t,n,r){var i=e.length,s=0,o=0,u=[],a=[],f=[],l=[],c;for(;o<i;o++){u[o]=1;for(c=0;c<i;c++){if(o!=c)u[o]*=(r-e[c])/(e[o]-e[c])}a[o]=0;for(c=0;c<i;c++){if(o!=c)a[o]+=1/(e[o]-e[c])}f[o]=(1-2*(r-e[o])*a[o])*u[o]*u[o];l[o]=(r-e[o])*u[o]*u[o];s+=f[o]*t[o]+l[o]*n[o]}return s},lagrange:function(e,t,n){var r=0,i=0,s,o,u=e.length;for(;i<u;i++){o=t[i];for(s=0;s<u;s++){if(i!=s)o*=(n-e[s])/(e[i]-e[s])}r+=o}return r},cubic_spline:function(t,n,r){var i=t.length,s=0,o,u=[],a=[],f=[],l=[],c=[],h=[],p=[];for(;s<i-1;s++)c[s]=t[s+1]-t[s];f[0]=0;for(s=1;s<i-1;s++)f[s]=3/c[s]*(n[s+1]-n[s])-3/c[s-1]*(n[s]-n[s-1]);for(s=1;s<i-1;s++){u[s]=[];a[s]=[];u[s][s-1]=c[s-1];u[s][s]=2*(c[s-1]+c[s]);u[s][s+1]=c[s];a[s][0]=f[s]}l=e.multiply(e.inv(u),a);for(o=0;o<i-1;o++){h[o]=(n[o+1]-n[o])/c[o]-c[o]*(l[o+1][0]+2*l[o][0])/3;p[o]=(l[o+1][0]-l[o][0])/(3*c[o])}for(o=0;o<i;o++){if(t[o]>r)break}o-=1;return n[o]+(r-t[o])*h[o]+e.sq(r-t[o])*l[o]+(r-t[o])*e.sq(r-t[o])*p[o]},gauss_quadrature:function(){},PCA:function(t){var n=t.length,r=t[0].length,i=false,s=0,o,u,a=[],f=[],l=[],c=[],h=[],p=[],d=[],v=[],m=[],g=[];for(s=0;s<n;s++){a[s]=e.sum(t[s])/r}for(s=0;s<r;s++){d[s]=[];for(o=0;o<n;o++){d[s][o]=t[o][s]-a[o]}}d=e.transpose(d);for(s=0;s<n;s++){v[s]=[];for(o=0;o<n;o++){v[s][o]=e.dot([d[s]],[d[o]])/(r-1)}}l=e.jacobi(v);m=l[0];f=l[1];g=e.transpose(m);for(s=0;s<f.length;s++){for(o=s;o<f.length;o++){if(f[s]<f[o]){u=f[s];f[s]=f[o];f[o]=u;c=g[s];g[s]=g[o];g[o]=c}}}p=e.transpose(d);for(s=0;s<n;s++){h[s]=[];for(o=0;o<p.length;o++){h[s][o]=e.dot([g[s]],[p[o]])}}return[t,f,g,h]}});(function(t){for(var n=0;n<t.length;n++)(function(t){e.fn[t]=function(n,r){var i=this;if(r){setTimeout(function(){r.call(i,e.fn[t].call(i,n))},15);return this}return e(e[t](this,n))}})(t[n])})("add divide multiply subtract dot pow abs norm angle".split(" "))})(this.jStat,Math);(function(e,t){var n=[].slice,r=e.utils.isNumber;e.extend({zscore:function(){var t=n.call(arguments);if(r(t[1])){return(t[0]-t[1])/t[2]}return(t[0]-e.mean(t[1]))/e.stdev(t[1],t[2])},ztest:function(){var i=n.call(arguments);if(i.length===4){if(r(i[1])){return i[3]===1?1-e.normal.cdf(t.abs(i[0]),i[1],i[2]):2*e.normal.cdf(t.abs(i[0]),i[1],i[2])-2}return i[2]===1?1-e.normal.cdf(t.abs(i[0]),e.mean(i[1]),e.stdev(i[1],i[3])):2*e.normal.cdf(t.abs(i[0]),e.mean(i[1]),e.stdev(i[1],i[3]))-2}return i[1]===1?1-e.normal.cdf(t.abs(i[0]),0,1):2*e.normal.cdf(t.abs(i[0]),0,1)-2}});e.extend(e.fn,{zscore:function(e,t){return(e-this.mean())/this.stdev(t)},ztest:function(n,r,i){var s=t.abs(this.zscore(n,i));return r===1?1-e.normal.cdf(s,0,1):2*e.normal.cdf(s,0,1)-2}});e.extend({tscore:function(){var r=n.call(arguments);return r.length===4?(r[0]-r[1])/(r[2]/t.sqrt(r[3])):(r[0]-e.mean(r[1]))/(e.stdev(r[1],true)/t.sqrt(r[1].length))},ttest:function(){var i=n.call(arguments);var s;if(i.length===5){s=t.abs(e.tscore(i[0],i[1],i[2],i[3]));return i[4]===1?1-e.studentt.cdf(s,i[3]):2*e.studentt.cdf(s,i[3])-2}if(r(i[1])){s=t.abs(i[0]);return i[2]==1?1-e.studentt.cdf(s,i[1]):2*e.studentt.cdf(s,i[1])-2}s=t.abs(e.tscore(i[0],i[1]));return i[2]==1?1-e.studentt.cdf(s,i[1].length-1):2*e.studentt.cdf(s,i[1].length-1)-2}});e.extend(e.fn,{tscore:function(e){return(e-this.mean())/(this.stdev(true)/t.sqrt(this.cols()))},ttest:function(n,r){return r===1?1-e.studentt.cdf(t.abs(this.tscore(n)),this.cols()-1):2*e.studentt.cdf(t.abs(this.tscore(n)),this.cols()-1)-2}});e.extend({anovafscore:function(){var r=n.call(arguments),i,s,o,u,a,f,l,c;if(r.length===1){a=new Array(r[0].length);for(l=0;l<r[0].length;l++){a[l]=r[0][l]}r=a}if(r.length===2){return e.variance(r[0])/e.variance(r[1])}s=new Array;for(l=0;l<r.length;l++){s=s.concat(r[l])}o=e.mean(s);i=0;for(l=0;l<r.length;l++){i=i+r[l].length*t.pow(e.mean(r[l])-o,2)}i/=r.length-1;f=0;for(l=0;l<r.length;l++){u=e.mean(r[l]);for(c=0;c<r[l].length;c++){f+=t.pow(r[l][c]-u,2)}}f/=s.length-r.length;return i/f},anovaftest:function(){var t=n.call(arguments),i,s,o,u;if(r(t[0])){return 1-e.centralF.cdf(t[0],t[1],t[2])}anovafscore=e.anovafscore(t);i=t.length-1;o=0;for(u=0;u<t.length;u++){o=o+t[u].length}s=o-i-1;return 1-e.centralF.cdf(anovafscore,i,s)},ftest:function(t,n,r){return 1-e.centralF.cdf(t,n,r)}});e.extend(e.fn,{anovafscore:function(){return e.anovafscore(this.toArray())},anovaftest:function(){var t=0,n;for(n=0;n<this.length;n++){t=t+this[n].length}return e.ftest(this.anovafscore(),this.length-1,t-this.length)}});e.extend({normalci:function(){var r=n.call(arguments),i=new Array(2),s;if(r.length===4){s=t.abs(e.normal.inv(r[1]/2,0,1)*r[2]/t.sqrt(r[3]))}else{s=t.abs(e.normal.inv(r[1]/2,0,1)*e.stdev(r[2])/t.sqrt(r[2].length))}i[0]=r[0]-s;i[1]=r[0]+s;return i},tci:function(){var r=n.call(arguments),i=new Array(2),s;if(r.length===4){s=t.abs(e.studentt.inv(r[1]/2,r[3]-1)*r[2]/t.sqrt(r[3]))}else{s=t.abs(e.studentt.inv(r[1]/2,r[2].length)*e.stdev(r[2],true)/t.sqrt(r[2].length))}i[0]=r[0]-s;i[1]=r[0]+s;return i},significant:function(e,t){return e<t}});e.extend(e.fn,{normalci:function(t,n){return e.normalci(t,n,this.toArray())},tci:function(t,n){return e.tci(t,n,this.toArray())}})})(this.jStat,Math)},{}],4:[function(e,t,n){(function(e){(function(){function z(e,t,n){var r=(n||0)-1,i=e?e.length:0;while(++r<i){if(e[r]===t){return r}}return-1}function W(e,t){var n=typeof t;e=e.cache;if(n=="boolean"||t==null){return e[t]?0:-1}if(n!="number"&&n!="string"){n="object"}var r=n=="number"?t:u+t;e=(e=e[n])&&e[r];return n=="object"?e&&z(e,t)>-1?0:-1:e?0:-1}function X(e){var t=this.cache,n=typeof e;if(n=="boolean"||e==null){t[e]=true}else{if(n!="number"&&n!="string"){n="object"}var r=n=="number"?e:u+e,i=t[n]||(t[n]={});if(n=="object"){(i[r]||(i[r]=[])).push(e)}else{i[r]=true}}}function V(e){return e.charCodeAt(0)}function $(e,t){var n=e.criteria,r=t.criteria,i=-1,s=n.length;while(++i<s){var o=n[i],u=r[i];if(o!==u){if(o>u||typeof o=="undefined"){return 1}if(o<u||typeof u=="undefined"){return-1}}}return e.index-t.index}function J(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],s=e[n-1];if(r&&typeof r=="object"&&i&&typeof i=="object"&&s&&typeof s=="object"){return false}var o=G();o["false"]=o["null"]=o["true"]=o["undefined"]=false;var u=G();u.array=e;u.cache=o;u.push=X;while(++t<n){u.push(e[t])}return u}function K(e){return"\\"+j[e]}function Q(){return i.pop()||[]}function G(){return s.pop()||{array:null,cache:null,criteria:null,"false":false,index:0,"null":false,number:null,object:null,push:null,string:null,"true":false,"undefined":false,value:null}}function Y(e){e.length=0;if(i.length<f){i.push(e)}}function Z(e){var t=e.cache;if(t){Z(t)}e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null;if(s.length<f){s.push(e)}}function et(e,t,n){t||(t=0);if(typeof n=="undefined"){n=e?e.length:0}var r=-1,i=n-t||0,s=Array(i<0?0:i);while(++r<i){s[r]=e[t+r]}return s}function tt(e){function Lt(e){return e&&typeof e=="object"&&!Gt(e)&&ht.call(e,"__wrapped__")?e:new At(e)}function At(e,t){this.__chain__=!!t;this.__wrapped__=e}function Mt(e){function i(){if(n){var e=et(n);pt.apply(e,arguments)}if(this instanceof i){var s=Dt(t.prototype),o=t.apply(s,e||arguments);return Cn(o)?o:s}return t.apply(r,e||arguments)}var t=e[0],n=e[2],r=e[4];$t(i,e);return i}function _t(e,t,n,r,i){if(n){var s=n(e);if(typeof s!="undefined"){return s}}var o=Cn(e);if(o){var u=st.call(e);if(!D[u]){return e}var a=kt[u];switch(u){case C:case k:return new a(+e);case A:case _:return new a(e);case M:s=a(e.source,v.exec(e));s.lastIndex=e.lastIndex;return s}}else{return e}var f=Gt(e);if(t){var l=!r;r||(r=Q());i||(i=Q());var c=r.length;while(c--){if(r[c]==e){return i[c]}}s=f?a(e.length):{}}else{s=f?et(e):sn({},e)}if(f){if(ht.call(e,"index")){s.index=e.index}if(ht.call(e,"input")){s.input=e.input}}if(!t){return s}r.push(e);i.push(s);(f?Jn:dn)(e,function(e,o){s[o]=_t(e,t,n,r,i)});if(l){Y(r);Y(i)}return s}function Dt(e,t){return Cn(e)?yt(e):{}}function Pt(e,t,n){if(typeof e!="function"){return Zr}if(typeof t=="undefined"||!("prototype"in e)){return e}var r=e.__bindData__;if(typeof r=="undefined"){if(Ot.funcNames){r=!e.name}r=r||!Ot.funcDecomp;if(!r){var i=lt.call(e);if(!Ot.funcNames){r=!m.test(i)}if(!r){r=w.test(i);$t(e,r)}}}if(r===false||r!==true&&r[1]&1){return e}switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return Br(e,t)}function Ht(e){function h(){var e=u?s:this;if(r){var p=et(r);pt.apply(p,arguments)}if(i||f){p||(p=et(arguments));if(i){pt.apply(p,i)}if(f&&p.length<o){n|=16&~32;return Ht([t,l?n:n&~3,p,null,s,o])}}p||(p=arguments);if(a){t=e[c]}if(this instanceof h){e=Dt(t.prototype);var d=t.apply(e,p);return Cn(d)?d:e}return t.apply(e,p)}var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o=e[5];var u=n&1,a=n&2,f=n&4,l=n&8,c=t;$t(h,e);return h}function Bt(e,t){var n=-1,r=Xt(),i=e?e.length:0,s=i>=a&&r===z,o=[];if(s){var u=J(t);if(u){r=W;t=u}else{s=false}}while(++n<i){var f=e[n];if(r(t,f)<0){o.push(f)}}if(s){Z(t)}return o}function jt(e,t,n,r){var i=(r||0)-1,s=e?e.length:0,o=[];while(++i<s){var u=e[i];if(u&&typeof u=="object"&&typeof u.length=="number"&&(Gt(u)||Qt(u))){if(!t){u=jt(u,t,n)}var a=-1,f=u.length,l=o.length;o.length+=f;while(++a<f){o[l++]=u[a]}}else if(!n){o.push(u)}}return o}function Ft(e,t,n,r,i,s){if(n){var o=n(e,t);if(typeof o!="undefined"){return!!o}}if(e===t){return e!==0||1/e==1/t}var u=typeof e,a=typeof t;if(e===e&&!(e&&B[u])&&!(t&&B[a])){return false}if(e==null||t==null){return e===t}var f=st.call(e),l=st.call(t);if(f==T){f=O}if(l==T){l=O}if(f!=l){return false}switch(f){case C:case k:return+e==+t;case A:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case M:case _:return e==R(t)}var c=f==N;if(!c){var h=ht.call(e,"__wrapped__"),p=ht.call(t,"__wrapped__");if(h||p){return Ft(h?e.__wrapped__:e,p?t.__wrapped__:t,n,r,i,s)}if(f!=O){return false}var d=e.constructor,v=t.constructor;if(d!=v&&!(Nn(d)&&d instanceof d&&Nn(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t){return false}}var m=!i;i||(i=Q());s||(s=Q());var g=i.length;while(g--){if(i[g]==e){return s[g]==t}}var y=0;o=true;i.push(e);s.push(t);if(c){g=e.length;y=t.length;o=y==g;if(o||r){while(y--){var b=g,w=t[y];if(r){while(b--){if(o=Ft(e[b],w,n,r,i,s)){break}}}else if(!(o=Ft(e[y],w,n,r,i,s))){break}}}}else{hn(t,function(t,u,a){if(ht.call(a,u)){y++;return o=ht.call(e,u)&&Ft(e[u],t,n,r,i,s)}});if(o&&!r){hn(e,function(e,t,n){if(ht.call(n,t)){return o=--y>-1}})}}i.pop();s.pop();if(m){Y(i);Y(s)}return o}function It(e,t,n,r,i){(Gt(t)?Jn:dn)(t,function(t,s){var o,u,a=t,f=e[s];if(t&&((u=Gt(t))||On(t))){var l=r.length;while(l--){if(o=r[l]==t){f=i[l];break}}if(!o){var c;if(n){a=n(f,t);if(c=typeof a!="undefined"){f=a}}if(!c){f=u?Gt(f)?f:[]:On(f)?f:{}}r.push(t);i.push(f);if(!c){It(f,t,n,r,i)}}}else{if(n){a=n(f,t);if(typeof a=="undefined"){a=t}}if(typeof a!="undefined"){f=a}}e[s]=f})}function qt(e,t){return e+ft(Ct()*(t-e+1))}function Rt(e,t,n){var r=-1,i=Xt(),s=e?e.length:0,o=[];var u=!t&&s>=a&&i===z,f=n||u?Q():o;if(u){var l=J(f);i=W;f=l}while(++r<s){var c=e[r],h=n?n(c,r,e):c;if(t?!r||f[f.length-1]!==h:i(f,h)<0){if(n||u){f.push(h)}o.push(c)}}if(u){Y(f.array);Z(f)}else if(n){Y(f)}return o}function Ut(e){return function(t,n,r){var i={};n=Lt.createCallback(n,r,3);var s=-1,o=t?t.length:0;if(typeof o=="number"){while(++s<o){var u=t[s];e(i,u,n(u,s,t),t)}}else{dn(t,function(t,r,s){e(i,t,n(t,r,s),s)})}return i}}function zt(e,t,n,r,i,s){var o=t&1,u=t&2,a=t&4,f=t&8,l=t&16,c=t&32;if(!u&&!Nn(e)){throw new U}if(l&&!n.length){t&=~16;l=n=false}if(c&&!r.length){t&=~32;c=r=false}var h=e&&e.__bindData__;if(h&&h!==true){h=et(h);if(h[2]){h[2]=et(h[2])}if(h[3]){h[3]=et(h[3])}if(o&&!(h[1]&1)){h[4]=i}if(!o&&h[1]&1){t|=8}if(a&&!(h[1]&4)){h[5]=s}if(l){pt.apply(h[2]||(h[2]=[]),n)}if(c){mt.apply(h[3]||(h[3]=[]),r)}h[1]|=t;return zt.apply(null,h)}var p=t==1||t===17?Mt:Ht;return p([e,t,n,r,i,s])}function Wt(e){return en[e]}function Xt(){var e=(e=Lt.indexOf)===br?z:e;return e}function Vt(e){return typeof e=="function"&&ot.test(e)}function Jt(e){var t,n;if(!(e&&st.call(e)==O)||(t=e.constructor,Nn(t)&&!(t instanceof t))){return false}hn(e,function(e,t){n=t});return typeof n=="undefined"||ht.call(e,n)}function Kt(e){return tn[e]}function Qt(e){return e&&typeof e=="object"&&typeof e.length=="number"&&st.call(e)==T||false}function on(e,t,n,r){if(typeof t!="boolean"&&t!=null){r=n;n=t;t=false}return _t(e,t,typeof n=="function"&&Pt(n,r,1))}function un(e,t,n){return _t(e,true,typeof t=="function"&&Pt(t,n,1))}function an(e,t){var n=Dt(e);return t?sn(n,t):n}function ln(e,t,n){var r;t=Lt.createCallback(t,n,3);dn(e,function(e,n,i){if(t(e,n,i)){r=n;return false}});return r}function cn(e,t,n){var r;t=Lt.createCallback(t,n,3);vn(e,function(e,n,i){if(t(e,n,i)){r=n;return false}});return r}function pn(e,t,n){var r=[];hn(e,function(e,t){r.push(t,e)});var i=r.length;t=Pt(t,n,3);while(i--){if(t(r[i--],r[i],e)===false){break}}return e}function vn(e,t,n){var r=Zt(e),i=r.length;t=Pt(t,n,3);while(i--){var s=r[i];if(t(e[s],s,e)===false){break}}return e}function mn(e){var t=[];hn(e,function(e,n){if(Nn(e)){t.push(n)}});return t.sort()}function gn(e,t){return e?ht.call(e,t):false}function yn(e){var t=-1,n=Zt(e),r=n.length,i={};while(++t<r){var s=n[t];i[e[s]]=s}return i}function bn(e){return e===true||e===false||e&&typeof e=="object"&&st.call(e)==C||false}function wn(e){return e&&typeof e=="object"&&st.call(e)==k||false}function En(e){return e&&e.nodeType===1||false}function Sn(e){var t=true;if(!e){return t}var n=st.call(e),r=e.length;if(n==N||n==_||n==T||n==O&&typeof r=="number"&&Nn(e.splice)){return!r}dn(e,function(){return t=false});return t}function xn(e,t,n,r){return Ft(e,t,typeof n=="function"&&Pt(n,r,2))}function Tn(e){return wt(e)&&!Et(parseFloat(e))}function Nn(e){return typeof e=="function"}function Cn(e){return!!(e&&B[typeof e])}function kn(e){return An(e)&&e!=+e}function Ln(e){return e===null}function An(e){return typeof e=="number"||e&&typeof e=="object"&&st.call(e)==A||false}function Mn(e){return e&&typeof e=="object"&&st.call(e)==M||false}function _n(e){return typeof e=="string"||e&&typeof e=="object"&&st.call(e)==_||false}function Dn(e){return typeof e=="undefined"}function Pn(e,t,n){var r={};t=Lt.createCallback(t,n,3);dn(e,function(e,n,i){r[n]=t(e,n,i)});return r}function Hn(e){var t=arguments,n=2;if(!Cn(e)){return e}if(typeof t[2]!="number"){n=t.length}if(n>3&&typeof t[n-2]=="function"){var r=Pt(t[--n-1],t[n--],2)}else if(n>2&&typeof t[n-1]=="function"){r=t[--n]}var i=et(arguments,1,n),s=-1,o=Q(),u=Q();while(++s<n){It(e,i[s],r,o,u)}Y(o);Y(u);return e}function Bn(e,t,n){var r={};if(typeof t!="function"){var i=[];hn(e,function(e,t){i.push(t)});i=Bt(i,jt(arguments,true,false,1));var s=-1,o=i.length;while(++s<o){var u=i[s];r[u]=e[u]}}else{t=Lt.createCallback(t,n,3);hn(e,function(e,n,i){if(!t(e,n,i)){r[n]=e}})}return r}function jn(e){var n=-1,r=Zt(e),i=r.length,s=t(i);while(++n<i){var o=r[n];s[n]=[o,e[o]]}return s}function Fn(e,t,n){var r={};if(typeof t!="function"){var i=-1,s=jt(arguments,true,false,1),o=Cn(e)?s.length:0;while(++i<o){var u=s[i];if(u in e){r[u]=e[u]}}}else{t=Lt.createCallback(t,n,3);hn(e,function(e,n,i){if(t(e,n,i)){r[n]=e}})}return r}function In(e,t,n,r){var i=Gt(e);if(n==null){if(i){n=[]}else{var s=e&&e.constructor,o=s&&s.prototype;n=Dt(o)}}if(t){t=Lt.createCallback(t,r,4);(i?Jn:dn)(e,function(e,r,i){return t(n,e,r,i)})}return n}function qn(e){var n=-1,r=Zt(e),i=r.length,s=t(i);while(++n<i){s[n]=e[r[n]]}return s}function Rn(e){var n=arguments,r=-1,i=jt(n,true,false,1),s=n[2]&&n[2][n[1]]===e?1:i.length,o=t(s);while(++r<s){o[r]=e[i[r]]}return o}function Un(e,t,n){var r=-1,i=Xt(),s=e?e.length:0,o=false;n=(n<0?xt(0,s+n):n)||0;if(Gt(e)){o=i(e,t,n)>-1}else if(typeof s=="number"){o=(_n(e)?e.indexOf(t,n):i(e,t,n))>-1}else{dn(e,function(e){if(++r>=n){return!(o=e===t)}})}return o}function Wn(e,t,n){var r=true;t=Lt.createCallback(t,n,3);var i=-1,s=e?e.length:0;if(typeof s=="number"){while(++i<s){if(!(r=!!t(e[i],i,e))){break}}}else{dn(e,function(e,n,i){return r=!!t(e,n,i)})}return r}function Xn(e,t,n){var r=[];t=Lt.createCallback(t,n,3);var i=-1,s=e?e.length:0;if(typeof s=="number"){while(++i<s){var o=e[i];if(t(o,i,e)){r.push(o)}}}else{dn(e,function(e,n,i){if(t(e,n,i)){r.push(e)}})}return r}function Vn(e,t,n){t=Lt.createCallback(t,n,3);var r=-1,i=e?e.length:0;if(typeof i=="number"){while(++r<i){var s=e[r];if(t(s,r,e)){return s}}}else{var o;dn(e,function(e,n,r){if(t(e,n,r)){o=e;return false}});return o}}function $n(e,t,n){var r;t=Lt.createCallback(t,n,3);Kn(e,function(e,n,i){if(t(e,n,i)){r=e;return false}});return r}function Jn(e,t,n){var r=-1,i=e?e.length:0;t=t&&typeof n=="undefined"?t:Pt(t,n,3);if(typeof i=="number"){while(++r<i){if(t(e[r],r,e)===false){break}}}else{dn(e,t)}return e}function Kn(e,t,n){var r=e?e.length:0;t=t&&typeof n=="undefined"?t:Pt(t,n,3);if(typeof r=="number"){while(r--){if(t(e[r],r,e)===false){break}}}else{var i=Zt(e);r=i.length;dn(e,function(e,n,s){n=i?i[--r]:--r;return t(s[n],n,s)})}return e}function Yn(e,n){var r=et(arguments,2),i=-1,s=typeof n=="function",o=e?e.length:0,u=t(typeof o=="number"?o:0);Jn(e,function(e){u[++i]=(s?n:e[n]).apply(e,r)});return u}function Zn(e,n,r){var i=-1,s=e?e.length:0;n=Lt.createCallback(n,r,3);if(typeof s=="number"){var o=t(s);while(++i<s){o[i]=n(e[i],i,e)}}else{o=[];dn(e,function(e,t,r){o[++i]=n(e,t,r)})}return o}function er(e,t,n){var r=-Infinity,i=r;if(typeof t!="function"&&n&&n[t]===e){t=null}if(t==null&&Gt(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];if(u>i){i=u}}}else{t=t==null&&_n(e)?V:Lt.createCallback(t,n,3);Jn(e,function(e,n,s){var o=t(e,n,s);if(o>r){r=o;i=e}})}return i}function tr(e,t,n){var r=Infinity,i=r;if(typeof t!="function"&&n&&n[t]===e){t=null}if(t==null&&Gt(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];if(u<i){i=u}}}else{t=t==null&&_n(e)?V:Lt.createCallback(t,n,3);Jn(e,function(e,n,s){var o=t(e,n,s);if(o<r){r=o;i=e}})}return i}function rr(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=Lt.createCallback(t,r,4);var s=-1,o=e.length;if(typeof o=="number"){if(i){n=e[++s]}while(++s<o){n=t(n,e[s],s,e)}}else{dn(e,function(e,r,s){n=i?(i=false,e):t(n,e,r,s)})}return n}function ir(e,t,n,r){var i=arguments.length<3;t=Lt.createCallback(t,r,4);Kn(e,function(e,r,s){n=i?(i=false,e):t(n,e,r,s)});return n}function sr(e,t,n){t=Lt.createCallback(t,n,3);return Xn(e,function(e,n,r){return!t(e,n,r)})}function or(e,t,n){if(e&&typeof e.length!="number"){e=qn(e)}if(t==null||n){return e?e[qt(0,e.length-1)]:r}var i=ur(e);i.length=Tt(xt(0,t),i.length);return i}function ur(e){var n=-1,r=e?e.length:0,i=t(typeof r=="number"?r:0);Jn(e,function(e){var t=qt(0,++n);i[n]=i[t];i[t]=e});return i}function ar(e){var t=e?e.length:0;return typeof t=="number"?t:Zt(e).length}function fr(e,t,n){var r;t=Lt.createCallback(t,n,3);var i=-1,s=e?e.length:0;if(typeof s=="number"){while(++i<s){if(r=t(e[i],i,e)){break}}}else{dn(e,function(e,n,i){return!(r=t(e,n,i))})}return!!r}function lr(e,n,r){var i=-1,s=Gt(n),o=e?e.length:0,u=t(typeof o=="number"?o:0);if(!s){n=Lt.createCallback(n,r,3)}Jn(e,function(e,t,r){var o=u[++i]=G();if(s){o.criteria=Zn(n,function(t){return e[t]})}else{(o.criteria=Q())[0]=n(e,t,r)}o.index=i;o.value=e});o=u.length;u.sort($);while(o--){var a=u[o];u[o]=a.value;if(!s){Y(a.criteria)}Z(a)}return u}function cr(e){if(e&&typeof e.length=="number"){return et(e)}return qn(e)}function pr(e){var t=-1,n=e?e.length:0,r=[];while(++t<n){var i=e[t];if(i){r.push(i)}}return r}function dr(e){return Bt(e,jt(arguments,true,true,1))}function vr(e,t,n){var r=-1,i=e?e.length:0;t=Lt.createCallback(t,n,3);while(++r<i){if(t(e[r],r,e)){return r}}return-1}function mr(e,t,n){var r=e?e.length:0;t=Lt.createCallback(t,n,3);while(r--){if(t(e[r],r,e)){return r}}return-1}function gr(e,t,n){var i=0,s=e?e.length:0;if(typeof t!="number"&&t!=null){var o=-1;t=Lt.createCallback(t,n,3);while(++o<s&&t(e[o],o,e)){i++}}else{i=t;if(i==null||n){return e?e[0]:r}}return et(e,0,Tt(xt(0,i),s))}function yr(e,t,n,r){if(typeof t!="boolean"&&t!=null){r=n;n=typeof t!="function"&&r&&r[t]===e?null:t;t=false}if(n!=null){e=Zn(e,n,r)}return jt(e,t)}function br(e,t,n){if(typeof n=="number"){var r=e?e.length:0;n=n<0?xt(0,r+n):n||0}else if(n){var i=Lr(e,t);return e[i]===t?i:-1}return z(e,t,n)}function wr(e,t,n){var r=0,i=e?e.length:0;if(typeof t!="number"&&t!=null){var s=i;t=Lt.createCallback(t,n,3);while(s--&&t(e[s],s,e)){r++}}else{r=t==null||n?1:t||r}return et(e,0,Tt(xt(0,i-r),i))}function Er(){var e=[],t=-1,n=arguments.length,r=Q(),i=Xt(),s=i===z,o=Q();while(++t<n){var u=arguments[t];if(Gt(u)||Qt(u)){e.push(u);r.push(s&&u.length>=a&&J(t?e[t]:o))}}var f=e[0],l=-1,c=f?f.length:0,h=[];e:while(++l<c){var p=r[0];u=f[l];if((p?W(p,u):i(o,u))<0){t=n;(p||o).push(u);while(--t){p=r[t];if((p?W(p,u):i(e[t],u))<0){continue e}}h.push(u)}}while(n--){p=r[n];if(p){Z(p)}}Y(r);Y(o);return h}function Sr(e,t,n){var i=0,s=e?e.length:0;if(typeof t!="number"&&t!=null){var o=s;t=Lt.createCallback(t,n,3);while(o--&&t(e[o],o,e)){i++}}else{i=t;if(i==null||n){return e?e[s-1]:r}}return et(e,xt(0,s-i))}function xr(e,t,n){var r=e?e.length:0;if(typeof n=="number"){r=(n<0?xt(0,r+n):Tt(n,r-1))+1}while(r--){if(e[r]===t){return r}}return-1}function Tr(e){var t=arguments,n=0,r=t.length,i=e?e.length:0;while(++n<r){var s=-1,o=t[n];while(++s<i){if(e[s]===o){vt.call(e,s--,1);i--}}}return e}function Nr(e,n,r){e=+e||0;r=typeof r=="number"?r:+r||1;if(n==null){n=e;e=0}var i=-1,s=xt(0,ut((n-e)/(r||1))),o=t(s);while(++i<s){o[i]=e;e+=r}return o}function Cr(e,t,n){var r=-1,i=e?e.length:0,s=[];t=Lt.createCallback(t,n,3);while(++r<i){var o=e[r];if(t(o,r,e)){s.push(o);vt.call(e,r--,1);i--}}return s}function kr(e,t,n){if(typeof t!="number"&&t!=null){var r=0,i=-1,s=e?e.length:0;t=Lt.createCallback(t,n,3);while(++i<s&&t(e[i],i,e)){r++}}else{r=t==null||n?1:xt(0,t)}return et(e,r)}function Lr(e,t,n,r){var i=0,s=e?e.length:i;n=n?Lt.createCallback(n,r,1):Zr;t=n(t);while(i<s){var o=i+s>>>1;n(e[o])<t?i=o+1:s=o}return i}function Ar(){return Rt(jt(arguments,true,true))}function Or(e,t,n,r){if(typeof t!="boolean"&&t!=null){r=n;n=typeof t!="function"&&r&&r[t]===e?null:t;t=false}if(n!=null){n=Lt.createCallback(n,r,3)}return Rt(e,t,n)}function Mr(e){return Bt(e,et(arguments,1))}function _r(){var e=-1,t=arguments.length;while(++e<t){var n=arguments[e];if(Gt(n)||Qt(n)){var r=r?Rt(Bt(r,n).concat(Bt(n,r))):n}}return r||[]}function Dr(){var e=arguments.length>1?arguments:arguments[0],n=-1,r=e?er(nr(e,"length")):0,i=t(r<0?0:r);while(++n<r){i[n]=nr(e,n)}return i}function Pr(e,t){var n=-1,r=e?e.length:0,i={};if(!t&&r&&!Gt(e[0])){t=[]}while(++n<r){var s=e[n];if(t){i[s]=t[n]}else if(s){i[s[0]]=s[1]}}return i}function Hr(e,t){if(!Nn(t)){throw new U}return function(){if(--e<1){return t.apply(this,arguments)}}}function Br(e,t){return arguments.length>2?zt(e,17,et(arguments,2),null,t):zt(e,1,null,null,t)}function jr(e){var t=arguments.length>1?jt(arguments,true,false,1):mn(e),n=-1,r=t.length;while(++n<r){var i=t[n];e[i]=zt(e[i],1,null,null,e)}return e}function Fr(e,t){return arguments.length>2?zt(t,19,et(arguments,2),null,e):zt(t,3,null,null,e)}function Ir(){var e=arguments,t=e.length;while(t--){if(!Nn(e[t])){throw new U}}return function(){var t=arguments,n=e.length;while(n--){t=[e[n].apply(this,t)]}return t[0]}}function qr(e,t){t=typeof t=="number"?t:+t||e.length;return zt(e,4,null,null,null,t)}function Rr(e,t,n){var i,s,o,u,a,f,l,c=0,h=false,p=true;if(!Nn(e)){throw new U}t=xt(0,t)||0;if(n===true){var d=true;p=false}else if(Cn(n)){d=n.leading;h="maxWait"in n&&(xt(t,n.maxWait)||0);p="trailing"in n?n.trailing:p}var v=function(){var n=t-(ri()-u);if(n<=0){if(s){at(s)}var h=l;s=f=l=r;if(h){c=ri();o=e.apply(a,i);if(!f&&!s){i=a=null}}}else{f=dt(v,n)}};var m=function(){if(f){at(f)}s=f=l=r;if(p||h!==t){c=ri();o=e.apply(a,i);if(!f&&!s){i=a=null}}};return function(){i=arguments;u=ri();a=this;l=p&&(f||!d);if(h===false){var n=d&&!f}else{if(!s&&!d){c=u}var r=h-(u-c),g=r<=0;if(g){if(s){s=at(s)}c=u;o=e.apply(a,i)}else if(!s){s=dt(m,r)}}if(g&&f){f=at(f)}else if(!f&&t!==h){f=dt(v,t)}if(n){g=true;o=e.apply(a,i)}if(g&&!f&&!s){i=a=null}return o}}function Ur(e){if(!Nn(e)){throw new U}var t=et(arguments,1);return dt(function(){e.apply(r,t)},1)}function zr(e,t){if(!Nn(e)){throw new U}var n=et(arguments,2);return dt(function(){e.apply(r,n)},t)}function Wr(e,t){if(!Nn(e)){throw new U}var n=function(){var r=n.cache,i=t?t.apply(this,arguments):u+arguments[0];return ht.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};n.cache={};return n}function Xr(e){var t,n;if(!Nn(e)){throw new U}return function(){if(t){return n}t=true;n=e.apply(this,arguments);e=null;return n}}function Vr(e){return zt(e,16,et(arguments,1))}function $r(e){return zt(e,32,null,et(arguments,1))}function Jr(e,t,n){var r=true,i=true;if(!Nn(e)){throw new U}if(n===false){r=false}else if(Cn(n)){r="leading"in n?n.leading:r;i="trailing"in n?n.trailing:i}P.leading=r;P.maxWait=t;P.trailing=i;return Rr(e,t,P)}function Kr(e,t){return zt(t,16,[e])}function Qr(e){return function(){return e}}function Gr(e,t,n){var r=typeof e;if(e==null||r=="function"){return Pt(e,t,n)}if(r!="object"){return si(e)}var i=Zt(e),s=i[0],o=e[s];if(i.length==1&&o===o&&!Cn(o)){return function(e){var t=e[s];return o===t&&(o!==0||1/o==1/t)}}return function(t){var n=i.length,r=false;while(n--){if(!(r=Ft(t[i[n]],e[i[n]],null,true))){break}}return r}}function Yr(e){return e==null?"":R(e).replace(rn,Wt)}function Zr(e){return e}function ei(e,t,n){var r=true,i=t&&mn(t);if(!t||!n&&!i.length){if(n==null){n=t}s=At;t=e;e=Lt;i=mn(t)}if(n===false){r=false}else if(Cn(n)&&"chain"in n){r=n.chain}var s=e,o=Nn(s);Jn(i,function(n){var i=e[n]=t[n];if(o){s.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,o=[n];pt.apply(o,arguments);var u=i.apply(e,o);if(r||t){if(n===u&&Cn(u)){return this}u=new s(u);u.__chain__=t}return u}}})}function ti(){e._=it;return this}function ni(){}function si(e){return function(t){return t[e]}}function oi(e,t,n){var r=e==null,i=t==null;if(n==null){if(typeof e=="boolean"&&i){n=e;e=1}else if(!i&&typeof t=="boolean"){n=t;i=true}}if(r&&i){t=1}e=+e||0;if(i){t=e;e=0}else{t=+t||0}if(n||e%1||t%1){var s=Ct();return Tt(e+s*(t-e+parseFloat("1e-"+((s+"").length-1))),t)}return qt(e,t)}function ui(e,t){if(e){var n=e[t];return Nn(n)?e[t]():n}}function ai(e,t,n){var i=Lt.templateSettings;e=R(e||"");n=fn({},n,i);var o=fn({},n.imports,i.imports),u=Zt(o),a=qn(o);var f,l=0,v=n.interpolate||b,m="__p += '";var y=q((n.escape||b).source+"|"+v.source+"|"+(v===g?d:b).source+"|"+(n.evaluate||b).source+"|$","g");e.replace(y,function(t,n,r,i,s,o){r||(r=i);m+=e.slice(l,o).replace(E,K);if(n){m+="' +\n__e("+n+") +\n'"}if(s){f=true;m+="';\n"+s+";\n__p += '"}if(r){m+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"}l=o+t.length;return t});m+="';\n";var w=n.variable,S=w;if(!S){w="obj";m="with ("+w+") {\n"+m+"\n}\n"}m=(f?m.replace(c,""):m).replace(h,"$1").replace(p,"$1;");m="function("+w+") {\n"+(S?"":w+" || ("+w+" = {});\n")+"var __t, __p = '', __e = _.escape"+(f?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var T="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+x++ +"]")+"\n*/";try{var N=s(u,"return "+m+T).apply(r,a)}catch(C){C.source=m;throw C}if(t){return N(t)}N.source=m;return N}function fi(e,n,r){e=(e=+e)>-1?e:0;var i=-1,s=t(e);n=Pt(n,r,1);while(++i<e){s[i]=n(i)}return s}function li(e){return e==null?"":R(e).replace(nn,Kt)}function ci(e){var t=++o;return R(e==null?"":e)+t}function hi(e){e=new At(e);e.__chain__=true;return e}function pi(e,t){t(e);return e}function di(){this.__chain__=true;return this}function vi(){return R(this.__wrapped__)}function mi(){return this.__wrapped__}e=e?nt.defaults(F.Object(),e,nt.pick(F,S)):F;var t=e.Array,n=e.Boolean,i=e.Date,s=e.Function,f=e.Math,j=e.Number,I=e.Object,q=e.RegExp,R=e.String,U=e.TypeError;var X=[];var rt=I.prototype;var it=e._;var st=rt.toString;var ot=q("^"+R(st).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");var ut=f.ceil,at=e.clearTimeout,ft=f.floor,lt=s.prototype.toString,ct=Vt(ct=I.getPrototypeOf)&&ct,ht=rt.hasOwnProperty,pt=X.push,dt=e.setTimeout,vt=X.splice,mt=X.unshift;var gt=function(){try{var e={},t=Vt(t=I.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}();var yt=Vt(yt=I.create)&&yt,bt=Vt(bt=t.isArray)&&bt,wt=e.isFinite,Et=e.isNaN,St=Vt(St=I.keys)&&St,xt=f.max,Tt=f.min,Nt=e.parseInt,Ct=f.random;var kt={};kt[N]=t;kt[C]=n;kt[k]=i;kt[L]=s;kt[O]=I;kt[A]=j;kt[M]=q;kt[_]=R;At.prototype=Lt.prototype;var Ot=Lt.support={};Ot.funcDecomp=!Vt(e.WinRTError)&&w.test(tt);Ot.funcNames=typeof s.name=="string";Lt.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:g,variable:"",imports:{_:Lt}};if(!yt){Dt=function(){function t(){}return function(n){if(Cn(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}()}var $t=!gt?ni:function(e,t){H.value=t;gt(e,"__bindData__",H)};var Gt=bt||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&st.call(e)==N||false};var Yt=function(e){var t,n=e,r=[];if(!n)return r;if(!B[typeof e])return r;for(t in n){if(ht.call(n,t)){r.push(t)}}return r};var Zt=!St?Yt:function(e){if(!Cn(e)){return[]}return St(e)};var en={"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var tn=yn(en);var nn=q("("+Zt(tn).join("|")+")","g"),rn=q("["+Zt(en).join("")+"]","g");var sn=function(e,t,n){var r,i=e,s=i;if(!i)return s;var o=arguments,u=0,a=typeof n=="number"?2:o.length;if(a>3&&typeof o[a-2]=="function"){var f=Pt(o[--a-1],o[a--],2)}else if(a>2&&typeof o[a-1]=="function"){f=o[--a]}while(++u<a){i=o[u];if(i&&B[typeof i]){var l=-1,c=B[typeof i]&&Zt(i),h=c?c.length:0;while(++l<h){r=c[l];s[r]=f?f(s[r],i[r]):i[r]}}}return s};var fn=function(e,t,n){var r,i=e,s=i;if(!i)return s;var o=arguments,u=0,a=typeof n=="number"?2:o.length;while(++u<a){i=o[u];if(i&&B[typeof i]){var f=-1,l=B[typeof i]&&Zt(i),c=l?l.length:0;while(++f<c){r=l[f];if(typeof s[r]=="undefined")s[r]=i[r]}}}return s};var hn=function(e,t,n){var r,i=e,s=i;if(!i)return s;if(!B[typeof i])return s;t=t&&typeof n=="undefined"?t:Pt(t,n,3);for(r in i){if(t(i[r],r,e)===false)return s}return s};var dn=function(e,t,n){var r,i=e,s=i;if(!i)return s;if(!B[typeof i])return s;t=t&&typeof n=="undefined"?t:Pt(t,n,3);var o=-1,u=B[typeof i]&&Zt(i),a=u?u.length:0;while(++o<a){r=u[o];if(t(i[r],r,e)===false)return s}return s};var On=!ct?Jt:function(e){if(!(e&&st.call(e)==O)){return false}var t=e.valueOf,n=Vt(t)&&(n=ct(t))&&ct(n);return n?e==n||ct(e)==n:Jt(e)};var zn=Ut(function(e,t,n){ht.call(e,n)?e[n]++:e[n]=1});var Qn=Ut(function(e,t,n){(ht.call(e,n)?e[n]:e[n]=[]).push(t)});var Gn=Ut(function(e,t,n){e[n]=t});var nr=Zn;var hr=Xn;var ri=Vt(ri=i.now)&&ri||function(){return(new i).getTime()};var ii=Nt(l+"08")==8?Nt:function(e,t){return Nt(_n(e)?e.replace(y,""):e,t||0)};Lt.after=Hr;Lt.assign=sn;Lt.at=Rn;Lt.bind=Br;Lt.bindAll=jr;Lt.bindKey=Fr;Lt.chain=hi;Lt.compact=pr;Lt.compose=Ir;Lt.constant=Qr;Lt.countBy=zn;Lt.create=an;Lt.createCallback=Gr;Lt.curry=qr;Lt.debounce=Rr;Lt.defaults=fn;Lt.defer=Ur;Lt.delay=zr;Lt.difference=dr;Lt.filter=Xn;Lt.flatten=yr;Lt.forEach=Jn;Lt.forEachRight=Kn;Lt.forIn=hn;Lt.forInRight=pn;Lt.forOwn=dn;Lt.forOwnRight=vn;Lt.functions=mn;Lt.groupBy=Qn;Lt.indexBy=Gn;Lt.initial=wr;Lt.intersection=Er;Lt.invert=yn;Lt.invoke=Yn;Lt.keys=Zt;Lt.map=Zn;Lt.mapValues=Pn;Lt.max=er;Lt.memoize=Wr;Lt.merge=Hn;Lt.min=tr;Lt.omit=Bn;Lt.once=Xr;Lt.pairs=jn;Lt.partial=Vr;Lt.partialRight=$r;Lt.pick=Fn;Lt.pluck=nr;Lt.property=si;Lt.pull=Tr;Lt.range=Nr;Lt.reject=sr;Lt.remove=Cr;Lt.rest=kr;Lt.shuffle=ur;Lt.sortBy=lr;Lt.tap=pi;Lt.throttle=Jr;Lt.times=fi;Lt.toArray=cr;Lt.transform=In;Lt.union=Ar;Lt.uniq=Or;Lt.values=qn;Lt.where=hr;Lt.without=Mr;Lt.wrap=Kr;Lt.xor=_r;Lt.zip=Dr;Lt.zipObject=Pr;Lt.collect=Zn;Lt.drop=kr;Lt.each=Jn;Lt.eachRight=Kn;Lt.extend=sn;Lt.methods=mn;Lt.object=Pr;Lt.select=Xn;Lt.tail=kr;Lt.unique=Or;Lt.unzip=Dr;ei(Lt);Lt.clone=on;Lt.cloneDeep=un;Lt.contains=Un;Lt.escape=Yr;Lt.every=Wn;Lt.find=Vn;Lt.findIndex=vr;Lt.findKey=ln;Lt.findLast=$n;Lt.findLastIndex=mr;Lt.findLastKey=cn;Lt.has=gn;Lt.identity=Zr;Lt.indexOf=br;Lt.isArguments=Qt;Lt.isArray=Gt;Lt.isBoolean=bn;Lt.isDate=wn;Lt.isElement=En;Lt.isEmpty=Sn;Lt.isEqual=xn;Lt.isFinite=Tn;Lt.isFunction=Nn;Lt.isNaN=kn;Lt.isNull=Ln;Lt.isNumber=An;Lt.isObject=Cn;Lt.isPlainObject=On;Lt.isRegExp=Mn;Lt.isString=_n;Lt.isUndefined=Dn;Lt.lastIndexOf=xr;Lt.mixin=ei;Lt.noConflict=ti;Lt.noop=ni;Lt.now=ri;Lt.parseInt=ii;Lt.random=oi;Lt.reduce=rr;Lt.reduceRight=ir;Lt.result=ui;Lt.runInContext=tt;Lt.size=ar;Lt.some=fr;Lt.sortedIndex=Lr;Lt.template=ai;Lt.unescape=li;Lt.uniqueId=ci;Lt.all=Wn;Lt.any=fr;Lt.detect=Vn;Lt.findWhere=Vn;Lt.foldl=rr;Lt.foldr=ir;Lt.include=Un;Lt.inject=rr;ei(function(){var e={};dn(Lt,function(t,n){if(!Lt.prototype[n]){e[n]=t}});return e}(),false);Lt.first=gr;Lt.last=Sr;Lt.sample=or;Lt.take=gr;Lt.head=gr;dn(Lt,function(e,t){var n=t!=="sample";if(!Lt.prototype[t]){Lt.prototype[t]=function(t,r){var i=this.__chain__,s=e(this.__wrapped__,t,r);return!i&&(t==null||r&&!(n&&typeof t=="function"))?s:new At(s,i)}}});Lt.VERSION="2.4.1";Lt.prototype.chain=di;Lt.prototype.toString=vi;Lt.prototype.value=mi;Lt.prototype.valueOf=mi;Jn(["join","pop","shift"],function(e){var t=X[e];Lt.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new At(n,e):n}});Jn(["push","reverse","sort","unshift"],function(e){var t=X[e];Lt.prototype[e]=function(){t.apply(this.__wrapped__,arguments);return this}});Jn(["concat","slice","splice"],function(e){var t=X[e];Lt.prototype[e]=function(){return new At(t.apply(this.__wrapped__,arguments),this.__chain__)}});return Lt}var r;var i=[],s=[];var o=0;var u=+(new Date)+"";var a=75;var f=40;var l=" 	\f "+"\n\r\u2028\u2029"+"????     ?      ";var c=/\b__p \+= '';/g,h=/\b(__p \+=) '' \+/g,p=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var d=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var v=/\w*$/;var m=/^\s*function[ \n\r\t]+\w/;var g=/<%=([\s\S]+?)%>/g;var y=RegExp("^["+l+"]*0+(?=.$)");var b=/($^)/;var w=/\bthis\b/;var E=/['\n\r\t\u2028\u2029\\]/g;var S=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"];var x=0;var T="[object Arguments]",N="[object Array]",C="[object Boolean]",k="[object Date]",L="[object Function]",A="[object Number]",O="[object Object]",M="[object RegExp]",_="[object String]";var D={};D[L]=false;D[T]=D[N]=D[C]=D[k]=D[A]=D[O]=D[M]=D[_]=true;var P={leading:false,maxWait:0,trailing:false};var H={configurable:false,enumerable:false,value:null,writable:false};var B={"boolean":false,"function":true,object:true,number:false,string:false,"undefined":false};var j={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};var F=B[typeof window]&&window||this;var I=B[typeof n]&&n&&!n.nodeType&&n;var q=B[typeof t]&&t&&!t.nodeType&&t;var R=q&&q.exports===I&&I;var U=B[typeof e]&&e;if(U&&(U.global===U||U.window===U)){F=U}var nt=tt();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){F._=nt;define(function(){return nt})}else if(I&&q){if(R){(q.exports=nt)._=nt}else{I._=nt}}else{F._=nt}}).call(this)}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],5:[function(e,t,n){(function(n){(function(r){function tt(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function nt(e,t){function r(){if(i.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+e)}}var n=true;return at(function(){if(n){r();n=false}return t.apply(this,arguments)},t)}function rt(e,t){return function(n){return ct(e.call(this,n),t)}}function it(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function st(){}function ot(e){Tt(e);at(this,e)}function ut(e){var t=gt(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,u=t.hour||0,a=t.minute||0,f=t.second||0,l=t.millisecond||0;this._milliseconds=+l+f*1e3+a*6e4+u*36e5;this._days=+o+s*7;this._months=+i+r*3+n*12;this._data={};this._bubble()}function at(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}if(t.hasOwnProperty("toString")){e.toString=t.toString}if(t.hasOwnProperty("valueOf")){e.valueOf=t.valueOf}return e}function ft(e){var t={},n;for(n in e){if(e.hasOwnProperty(n)&&y.hasOwnProperty(n)){t[n]=e[n]}}return t}function lt(e){if(e<0){return Math.ceil(e)}else{return Math.floor(e)}}function ct(e,t,n){var r=""+Math.abs(e),i=e>=0;while(r.length<t){r="0"+r}return(i?n?"+":"":"-")+r}function ht(e,t,n,r){var s=t._milliseconds,o=t._days,u=t._months;r=r==null?true:r;if(s){e._d.setTime(+e._d+s*n)}if(o){rn(e,"Date",nn(e,"Date")+o*n)}if(u){tn(e,nn(e,"Month")+u*n)}if(r){i.updateOffset(e,o||u)}}function pt(e){return Object.prototype.toString.call(e)==="[object Array]"}function dt(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function vt(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<r;o++){if(n&&e[o]!==t[o]||!n&&bt(e[o])!==bt(t[o])){s++}}return s+i}function mt(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=J[e]||K[t]||t}return e}function gt(e){var t={},n,r;for(r in e){if(e.hasOwnProperty(r)){n=mt(r);if(n){t[n]=e[r]}}}return t}function yt(e){var t,n;if(e.indexOf("week")===0){t=7;n="day"}else if(e.indexOf("month")===0){t=12;n="month"}else{return}i[e]=function(s,o){var u,a,f=i.fn._lang[e],l=[];if(typeof s==="number"){o=s;s=r}a=function(e){var t=i().utc().set(n,e);return f.call(i.fn._lang,t,s||"")};if(o!=null){return a(o)}else{for(u=0;u<t;u++){l.push(a(u))}return l}}}function bt(e){var t=+e,n=0;if(t!==0&&isFinite(t)){if(t>=0){n=Math.floor(t)}else{n=Math.ceil(t)}}return n}function wt(e,t){return(new Date(Date.UTC(e,t+1,0))).getUTCDate()}function Et(e,t,n){return Yt(i([e,11,31+t-n]),t,n).week}function St(e){return xt(e)?366:365}function xt(e){return e%4===0&&e%100!==0||e%400===0}function Tt(e){var t;if(e._a&&e._pf.overflow===-2){t=e._a[c]<0||e._a[c]>11?c:e._a[h]<1||e._a[h]>wt(e._a[l],e._a[c])?h:e._a[p]<0||e._a[p]>23?p:e._a[d]<0||e._a[d]>59?d:e._a[v]<0||e._a[v]>59?v:e._a[m]<0||e._a[m]>999?m:-1;if(e._pf._overflowDayOfYear&&(t<l||t>h)){t=h}e._pf.overflow=t}}function Nt(e){if(e._isValid==null){e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated;if(e._strict){e._isValid=e._isValid&&e._pf.charsLeftOver===0&&e._pf.unusedTokens.length===0}}return e._isValid}function Ct(e){return e?e.toLowerCase().replace("_","-"):e}function kt(e,t){return t._isUTC?i(e).zone(t._offset||0):i(e).local()}function Lt(e,t){t.abbr=e;if(!g[e]){g[e]=new st}g[e].set(t);return g[e]}function At(e){delete g[e]}function Ot(t){var n=0,r,s,o,u,a=function(t){if(!g[t]&&b){try{e("./lang/"+t)}catch(n){}}return g[t]};if(!t){return i.fn._lang}if(!pt(t)){s=a(t);if(s){return s}t=[t]}while(n<t.length){u=Ct(t[n]).split("-");r=u.length;o=Ct(t[n+1]);o=o?o.split("-"):null;while(r>0){s=a(u.slice(0,r).join("-"));if(s){return s}if(o&&o.length>=r&&vt(u,o,true)>=r-1){break}r--}n++}return i.fn._lang}function Mt(e){if(e.match(/\[[\s\S]/)){return e.replace(/^\[|\]$/g,"")}return e.replace(/\\/g,"")}function _t(e){var t=e.match(x),n,r;for(n=0,r=t.length;n<r;n++){if(Z[t[n]]){t[n]=Z[t[n]]}else{t[n]=Mt(t[n])}}return function(i){var s="";for(n=0;n<r;n++){s+=t[n]instanceof Function?t[n].call(i,e):t[n]}return s}}function Dt(e,t){if(!e.isValid()){return e.lang().invalidDate()}t=Pt(t,e.lang());if(!Q[t]){Q[t]=_t(t)}return Q[t](e)}function Pt(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;T.lastIndex=0;while(n>=0&&T.test(e)){e=e.replace(T,r);T.lastIndex=0;n-=1}return e}function Ht(e,t){var n,r=t._strict;switch(e){case"Q":return H;case"DDDD":return j;case"YYYY":case"GGGG":case"gggg":return r?F:k;case"Y":case"G":case"g":return q;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?I:L;case"S":if(r){return H};case"SS":if(r){return B};case"SSS":if(r){return j};case"DDD":return C;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return O;case"a":case"A":return Ot(t._l)._meridiemParse;case"X":return D;case"Z":case"ZZ":return M;case"T":return _;case"SSSS":return A;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?B:N;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return N;case"Do":return P;default:n=new RegExp(zt(Ut(e.replace("\\","")),"i"));return n}}function Bt(e){e=e||"";var t=e.match(M)||[],n=t[t.length-1]||[],r=(n+"").match(X)||["-",0,0],i=+(r[1]*60)+bt(r[2]);return r[0]==="+"?-i:i}function jt(e,t,n){var r,s=n._a;switch(e){case"Q":if(t!=null){s[c]=(bt(t)-1)*3}break;case"M":case"MM":if(t!=null){s[c]=bt(t)-1}break;case"MMM":case"MMMM":r=Ot(n._l).monthsParse(t);if(r!=null){s[c]=r}else{n._pf.invalidMonth=t}break;case"D":case"DD":if(t!=null){s[h]=bt(t)}break;case"Do":if(t!=null){s[h]=bt(parseInt(t,10))}break;case"DDD":case"DDDD":if(t!=null){n._dayOfYear=bt(t)}break;case"YY":s[l]=i.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":s[l]=bt(t);break;case"a":case"A":n._isPm=Ot(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":s[p]=bt(t);break;case"m":case"mm":s[d]=bt(t);break;case"s":case"ss":s[v]=bt(t);break;case"S":case"SS":case"SSS":case"SSSS":s[m]=bt(("0."+t)*1e3);break;case"X":n._d=new Date(parseFloat(t)*1e3);break;case"Z":case"ZZ":n._useUTC=true;n._tzm=Bt(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2);if(t){n._w=n._w||{};n._w[e]=t}break}}function Ft(e){var t,n,r=[],s,o,u,a,f,v,m,g;if(e._d){return}s=qt(e);if(e._w&&e._a[h]==null&&e._a[c]==null){u=function(t){var n=parseInt(t,10);return t?t.length<3?n>68?1900+n:2e3+n:n:e._a[l]==null?i().weekYear():e._a[l]};a=e._w;if(a.GG!=null||a.W!=null||a.E!=null){f=Zt(u(a.GG),a.W||1,a.E,4,1)}else{v=Ot(e._l);m=a.d!=null?Kt(a.d,v):a.e!=null?parseInt(a.e,10)+v._week.dow:0;g=parseInt(a.w,10)||1;if(a.d!=null&&m<v._week.dow){g++}f=Zt(u(a.gg),g,m,v._week.doy,v._week.dow)}e._a[l]=f.year;e._dayOfYear=f.dayOfYear}if(e._dayOfYear){o=e._a[l]==null?s[l]:e._a[l];if(e._dayOfYear>St(o)){e._pf._overflowDayOfYear=true}n=Jt(o,0,e._dayOfYear);e._a[c]=n.getUTCMonth();e._a[h]=n.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t){e._a[t]=r[t]=s[t]}for(;t<7;t++){e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t]}r[p]+=bt((e._tzm||0)/60);r[d]+=bt((e._tzm||0)%60);e._d=(e._useUTC?Jt:$t).apply(null,r)}function It(e){var t;if(e._d){return}t=gt(e._i);e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond];Ft(e)}function qt(e){var t=new Date;if(e._useUTC){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]}else{return[t.getFullYear(),t.getMonth(),t.getDate()]}}function Rt(e){e._a=[];e._pf.empty=true;var t=Ot(e._l),n=""+e._i,r,i,s,o,u,a=n.length,f=0;s=Pt(e._f,t).match(x)||[];for(r=0;r<s.length;r++){o=s[r];i=(n.match(Ht(o,e))||[])[0];if(i){u=n.substr(0,n.indexOf(i));if(u.length>0){e._pf.unusedInput.push(u)}n=n.slice(n.indexOf(i)+i.length);f+=i.length}if(Z[o]){if(i){e._pf.empty=false}else{e._pf.unusedTokens.push(o)}jt(o,i,e)}else if(e._strict&&!i){e._pf.unusedTokens.push(o)}}e._pf.charsLeftOver=a-f;if(n.length>0){e._pf.unusedInput.push(n)}if(e._isPm&&e._a[p]<12){e._a[p]+=12}if(e._isPm===false&&e._a[p]===12){e._a[p]=0}Ft(e);Tt(e)}function Ut(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function zt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Wt(e){var t,n,r,i,s;if(e._f.length===0){e._pf.invalidFormat=true;e._d=new Date(NaN);return}for(i=0;i<e._f.length;i++){s=0;t=at({},e);t._pf=tt();t._f=e._f[i];Rt(t);if(!Nt(t)){continue}s+=t._pf.charsLeftOver;s+=t._pf.unusedTokens.length*10;t._pf.score=s;if(r==null||s<r){r=s;n=t}}at(e,n||t)}function Xt(e){var t,n,r=e._i,s=R.exec(r);if(s){e._pf.iso=true;for(t=0,n=z.length;t<n;t++){if(z[t][1].exec(r)){e._f=z[t][0]+(s[6]||" ");break}}for(t=0,n=W.length;t<n;t++){if(W[t][1].exec(r)){e._f+=W[t][0];break}}if(r.match(M)){e._f+="Z"}Rt(e)}else{i.createFromInputFallback(e)}}function Vt(e){var t=e._i,n=w.exec(t);if(t===r){e._d=new Date}else if(n){e._d=new Date(+n[1])}else if(typeof t==="string"){Xt(e)}else if(pt(t)){e._a=t.slice(0);Ft(e)}else if(dt(t)){e._d=new Date(+t)}else if(typeof t==="object"){It(e)}else if(typeof t==="number"){e._d=new Date(t)}else{i.createFromInputFallback(e)}}function $t(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);if(e<1970){u.setFullYear(e)}return u}function Jt(e){var t=new Date(Date.UTC.apply(null,arguments));if(e<1970){t.setUTCFullYear(e)}return t}function Kt(e,t){if(typeof e==="string"){if(!isNaN(e)){e=parseInt(e,10)}else{e=t.weekdaysParse(e);if(typeof e!=="number"){return null}}}return e}function Qt(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Gt(e,t,n){var r=a(Math.abs(e)/1e3),i=a(r/60),s=a(i/60),o=a(s/24),u=a(o/365),f=r<45&&["s",r]||i===1&&["m"]||i<45&&["mm",i]||s===1&&["h"]||s<22&&["hh",s]||o===1&&["d"]||o<=25&&["dd",o]||o<=45&&["M"]||o<345&&["MM",a(o/30)]||u===1&&["y"]||["yy",u];f[2]=t;f[3]=e>0;f[4]=n;return Qt.apply({},f)}function Yt(e,t,n){var r=n-t,s=n-e.day(),o;if(s>r){s-=7}if(s<r-7){s+=7}o=i(e).add("d",s);return{week:Math.ceil(o.dayOfYear()/7),year:o.year()}}function Zt(e,t,n,r,i){var s=Jt(e,0,1).getUTCDay(),o,u;n=n!=null?n:i;o=i-s+(s>r?7:0)-(s<i?7:0);u=7*(t-1)+(n-i)+o+1;return{year:u>0?e:e-1,dayOfYear:u>0?u:St(e-1)+u}}function en(e){var t=e._i,n=e._f;if(t===null||n===r&&t===""){return i.invalid({nullInput:true})}if(typeof t==="string"){e._i=t=Ot().preparse(t)}if(i.isMoment(t)){e=ft(t);e._d=new Date(+t._d)}else if(n){if(pt(n)){Wt(e)}else{Rt(e)}}else{Vt(e)}return new ot(e)}function tn(e,t){var n;if(typeof t==="string"){t=e.lang().monthsParse(t);if(typeof t!=="number"){return e}}n=Math.min(e.date(),wt(e.year(),t));e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n);return e}function nn(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function rn(e,t,n){if(t==="Month"){return tn(e,n)}else{return e._d["set"+(e._isUTC?"UTC":"")+t](n)}}function sn(e,t){return function(n){if(n!=null){rn(this,e,n);i.updateOffset(this,t);return this}else{return nn(this,e)}}}function on(e){i.duration.fn[e]=function(){return this._data[e]}}function un(e,t){i.duration.fn["as"+e]=function(){return+this/t}}function an(e){if(typeof ender!=="undefined"){return}u=o.moment;if(e){o.moment=nt("Accessing Moment through the global scope is "+"deprecated, and will be removed in an upcoming "+"release.",i)}else{o.moment=i}}var i,s="2.6.0",o=typeof n!=="undefined"?n:this,u,a=Math.round,f,l=0,c=1,h=2,p=3,d=4,v=5,m=6,g={},y={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},b=typeof t!=="undefined"&&t.exports,w=/^\/?Date\((\-?\d+)/i,E=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,S=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,x=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,T=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,N=/\d\d?/,C=/\d{1,3}/,k=/\d{1,4}/,L=/[+\-]?\d{1,6}/,A=/\d+/,O=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,M=/Z|[\+\-]\d\d:?\d\d/gi,_=/T/i,D=/[\+\-]?\d+(\.\d{1,3})?/,P=/\d{1,2}/,H=/\d/,B=/\d\d/,j=/\d{3}/,F=/\d{4}/,I=/[+-]?\d{6}/,q=/[+-]?\d+/,R=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,U="YYYY-MM-DDTHH:mm:ssZ",z=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],W=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],X=/([\+\-]|\d\d)/gi,V="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),$={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},J={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},K={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Q={},G="DDD w W M D d".split(" "),Y="M D H h m s w W".split(" "),Z={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return ct(this.year()%100,2)},YYYY:function(){return ct(this.year(),4)},YYYYY:function(){return ct(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+ct(Math.abs(e),6)},gg:function(){return ct(this.weekYear()%100,2)},gggg:function(){return ct(this.weekYear(),4)},ggggg:function(){return ct(this.weekYear(),5)},GG:function(){return ct(this.isoWeekYear()%100,2)},GGGG:function(){return ct(this.isoWeekYear(),4)},GGGGG:function(){return ct(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return bt(this.milliseconds()/100)},SS:function(){return ct(bt(this.milliseconds()/10),2)},SSS:function(){return ct(this.milliseconds(),3)},SSSS:function(){return ct(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";if(e<0){e=-e;t="-"}return t+ct(bt(e/60),2)+":"+ct(bt(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";if(e<0){e=-e;t="-"}return t+ct(bt(e/60),2)+ct(bt(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},et=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];while(G.length){f=G.pop();Z[f+"o"]=it(Z[f],f)}while(Y.length){f=Y.pop();Z[f+f]=rt(Z[f],2)}Z.DDDD=rt(Z.DDD,3);at(st.prototype,{set:function(e){var t,n;for(n in e){t=e[n];if(typeof t==="function"){this[n]=t}else{this["_"+n]=t}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;if(!this._monthsParse){this._monthsParse=[]}for(t=0;t<12;t++){if(!this._monthsParse[t]){n=i.utc([2e3,t]);r="^"+this.months(n,"")+"|^"+this.monthsShort(n,"");this._monthsParse[t]=new RegExp(r.replace(".",""),"i")}if(this._monthsParse[t].test(e)){return t}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;if(!this._weekdaysParse){this._weekdaysParse=[]}for(t=0;t<7;t++){if(!this._weekdaysParse[t]){n=i([2e3,1]).day(t);r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,"");this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")}if(this._weekdaysParse[t].test(e)){return t}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];if(!t&&this._longDateFormat[e.toUpperCase()]){t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)});this._longDateFormat[e]=t}return t},isPM:function(e){return(e+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){if(e>11){return n?"pm":"PM"}else{return n?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return typeof n==="function"?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return typeof i==="function"?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return typeof n==="function"?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return Yt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});i=function(e,t,n,i){var s;if(typeof n==="boolean"){i=n;n=r}s={};s._isAMomentObject=true;s._i=e;s._f=t;s._l=n;s._strict=i;s._isUTC=false;s._pf=tt();return en(s)};i.suppressDeprecationWarnings=false;i.createFromInputFallback=nt("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)});i.utc=function(e,t,n,i){var s;if(typeof n==="boolean"){i=n;n=r}s={};s._isAMomentObject=true;s._useUTC=true;s._isUTC=true;s._l=n;s._i=e;s._f=t;s._strict=i;s._pf=tt();return en(s).utc()};i.unix=function(e){return i(e*1e3)};i.duration=function(e,t){var n=e,r=null,s,o,u;if(i.isDuration(e)){n={ms:e._milliseconds,d:e._days,M:e._months}}else if(typeof e==="number"){n={};if(t){n[t]=e}else{n.milliseconds=e}}else if(!!(r=E.exec(e))){s=r[1]==="-"?-1:1;n={y:0,d:bt(r[h])*s,h:bt(r[p])*s,m:bt(r[d])*s,s:bt(r[v])*s,ms:bt(r[m])*s}}else if(!!(r=S.exec(e))){s=r[1]==="-"?-1:1;u=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*s};n={y:u(r[2]),M:u(r[3]),d:u(r[4]),h:u(r[5]),m:u(r[6]),s:u(r[7]),w:u(r[8])}}o=new ut(n);if(i.isDuration(e)&&e.hasOwnProperty("_lang")){o._lang=e._lang}return o};i.version=s;i.defaultFormat=U;i.momentProperties=y;i.updateOffset=function(){};i.lang=function(e,t){var n;if(!e){return i.fn._lang._abbr}if(t){Lt(Ct(e),t)}else if(t===null){At(e);e="en"}else if(!g[e]){Ot(e)}n=i.duration.fn._lang=i.fn._lang=Ot(e);return n._abbr};i.langData=function(e){if(e&&e._lang&&e._lang._abbr){e=e._lang._abbr}return Ot(e)};i.isMoment=function(e){return e instanceof ot||e!=null&&e.hasOwnProperty("_isAMomentObject")};i.isDuration=function(e){return e instanceof ut};for(f=et.length-1;f>=0;--f){yt(et[f])}i.normalizeUnits=function(e){return mt(e)};i.invalid=function(e){var t=i.utc(NaN);if(e!=null){at(t._pf,e)}else{t._pf.userInvalidated=true}return t};i.parseZone=function(){return i.apply(null,arguments).parseZone()};i.parseTwoDigitYear=function(e){return bt(e)+(bt(e)>68?1900:2e3)};at(i.fn=ot.prototype,{clone:function(){return i(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=i(this).utc();if(0<e.year()&&e.year()<=9999){return Dt(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}else{return Dt(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return Nt(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&vt(this._a,(this._isUTC?i.utc(this._a):i(this._a)).toArray())>0}return false},parsingFlags:function(){return at({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=false;return this},format:function(e){var t=Dt(this,e||i.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;if(typeof e==="string"){n=i.duration(+t,e)}else{n=i.duration(e,t)}ht(this,n,1);return this},subtract:function(e,t){var n;if(typeof e==="string"){n=i.duration(+t,e)}else{n=i.duration(e,t)}ht(this,n,-1);return this},diff:function(e,t,n){var r=kt(e,this),s=(this.zone()-r.zone())*6e4,o,u;t=mt(t);if(t==="year"||t==="month"){o=(this.daysInMonth()+r.daysInMonth())*432e5;u=(this.year()-r.year())*12+(this.month()-r.month());u+=(this-i(this).startOf("month")-(r-i(r).startOf("month")))/o;u-=(this.zone()-i(this).startOf("month").zone()-(r.zone()-i(r).startOf("month").zone()))*6e4/o;if(t==="year"){u=u/12}}else{o=this-r;u=t==="second"?o/1e3:t==="minute"?o/6e4:t==="hour"?o/36e5:t==="day"?(o-s)/864e5:t==="week"?(o-s)/6048e5:o}return n?u:lt(u)},from:function(e,t){return i.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(i(),e)},calendar:function(){var e=kt(i(),this).startOf("day"),t=this.diff(e,"days",true),n=t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return xt(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e!=null){e=Kt(e,this.lang());return this.add({d:e-t})}else{return t}},month:sn("Month",true),startOf:function(e){e=mt(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(e==="week"){this.weekday(0)}else if(e==="isoWeek"){this.isoWeekday(1)}if(e==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this},endOf:function(e){e=mt(e);return this.startOf(e).add(e==="isoWeek"?"week":e,1).subtract("ms",1)},isAfter:function(e,t){t=typeof t!=="undefined"?t:"millisecond";return+this.clone().startOf(t)>+i(e).startOf(t)},isBefore:function(e,t){t=typeof t!=="undefined"?t:"millisecond";return+this.clone().startOf(t)<+i(e).startOf(t)},isSame:function(e,t){t=t||"ms";return+this.clone().startOf(t)===+kt(e,this).startOf(t)},min:function(e){e=i.apply(null,arguments);return e<this?this:e},max:function(e){e=i.apply(null,arguments);return e>this?this:e},zone:function(e,t){var n=this._offset||0;if(e!=null){if(typeof e==="string"){e=Bt(e)}if(Math.abs(e)<16){e=e*60}this._offset=e;this._isUTC=true;if(n!==e){if(!t||this._changeInProgress){ht(this,i.duration(n-e,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;i.updateOffset(this,true);this._changeInProgress=null}}}else{return this._isUTC?n:this._d.getTimezoneOffset()}return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm){this.zone(this._tzm)}else if(typeof this._i==="string"){this.zone(this._i)}return this},hasAlignedHourOffset:function(e){if(!e){e=0}else{e=i(e).zone()}return(this.zone()-e)%60===0},daysInMonth:function(){return wt(this.year(),this.month())},dayOfYear:function(e){var t=a((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return e==null?t:this.add("d",e-t)},quarter:function(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)},weekYear:function(e){var t=Yt(this,this.lang()._week.dow,this.lang()._week.doy).year;return e==null?t:this.add("y",e-t)},isoWeekYear:function(e){var t=Yt(this,1,4).year;return e==null?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return e==null?t:this.add("d",(e-t)*7)},isoWeek:function(e){var t=Yt(this,1,4).week;return e==null?t:this.add("d",(e-t)*7)},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return e==null?t:this.add("d",e-t)},isoWeekday:function(e){return e==null?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return Et(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return Et(this.year(),e.dow,e.doy)},get:function(e){e=mt(e);return this[e]()},set:function(e,t){e=mt(e);if(typeof this[e]==="function"){this[e](t)}return this},lang:function(e){if(e===r){return this._lang}else{this._lang=Ot(e);return this}}});i.fn.millisecond=i.fn.milliseconds=sn("Milliseconds",false);i.fn.second=i.fn.seconds=sn("Seconds",false);i.fn.minute=i.fn.minutes=sn("Minutes",false);i.fn.hour=i.fn.hours=sn("Hours",true);i.fn.date=sn("Date",true);i.fn.dates=nt("dates accessor is deprecated. Use date instead.",sn("Date",true));i.fn.year=sn("FullYear",true);i.fn.years=nt("years accessor is deprecated. Use year instead.",sn("FullYear",true));i.fn.days=i.fn.day;i.fn.months=i.fn.month;i.fn.weeks=i.fn.week;i.fn.isoWeeks=i.fn.isoWeek;i.fn.quarters=i.fn.quarter;i.fn.toJSON=i.fn.toISOString;at(i.duration.fn=ut.prototype,{_bubble:function(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,o,u;r.milliseconds=e%1e3;i=lt(e/1e3);r.seconds=i%60;s=lt(i/60);r.minutes=s%60;o=lt(s/60);r.hours=o%24;t+=lt(o/24);r.days=t%30;n+=lt(t/30);r.months=n%12;u=lt(n/12);r.years=u},weeks:function(){return lt(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+bt(this._months/12)*31536e6},humanize:function(e){var t=+this,n=Gt(t,!e,this.lang());if(e){n=this.lang().pastFuture(t,n)}return this.lang().postformat(n)},add:function(e,t){var n=i.duration(e,t);this._milliseconds+=n._milliseconds;this._days+=n._days;this._months+=n._months;this._bubble();return this},subtract:function(e,t){var n=i.duration(e,t);this._milliseconds-=n._milliseconds;this._days-=n._days;this._months-=n._months;this._bubble();return this},get:function(e){e=mt(e);return this[e.toLowerCase()+"s"]()},as:function(e){e=mt(e);return this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:i.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds()){return"P0D"}return(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":"")}});for(f in $){if($.hasOwnProperty(f)){un(f,$[f]);on(f.toLowerCase())}}un("Weeks",6048e5);i.duration.fn.asMonths=function(){return(+this-this.years()*31536e6)/2592e6+this.years()*12};i.lang("en",{ordinal:function(e){var t=e%10,n=bt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});if(b){t.exports=i}else if(typeof define==="function"&&define.amd){define("moment",function(e,t,n){if(n.config&&n.config()&&n.config().noGlobal===true){o.moment=u}return i});an(true)}else{an()}}).call(this)}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],6:[function(e,t,n){(function(){function a(e){this._value=e}function f(e,t,n,r){var i=Math.pow(10,t),s,o;o=(n(e*i)/i).toFixed(t);if(r){s=new RegExp("0{1,"+r+"}$");o=o.replace(s,"")}return o}function l(e,t,n){var r;if(t.indexOf("$")>-1){r=h(e,t,n)}else if(t.indexOf("%")>-1){r=p(e,t,n)}else if(t.indexOf(":")>-1){r=d(e,t)}else{r=m(e._value,t,n)}return r}function c(e,t){var n=t,o,u,a,f,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=false,h;if(t.indexOf(":")>-1){e._value=v(t)}else{if(t===s){e._value=0}else{if(r[i].delimiters.decimal!=="."){t=t.replace(/\./g,"").replace(r[i].delimiters.decimal,".")}o=new RegExp("[^a-zA-Z]"+r[i].abbreviations.thousand+"(?:\\)|(\\"+r[i].currency.symbol+")?(?:\\))?)?$");u=new RegExp("[^a-zA-Z]"+r[i].abbreviations.million+"(?:\\)|(\\"+r[i].currency.symbol+")?(?:\\))?)?$");a=new RegExp("[^a-zA-Z]"+r[i].abbreviations.billion+"(?:\\)|(\\"+r[i].currency.symbol+")?(?:\\))?)?$");f=new RegExp("[^a-zA-Z]"+r[i].abbreviations.trillion+"(?:\\)|(\\"+r[i].currency.symbol+")?(?:\\))?)?$");for(h=0;h<=l.length;h++){c=t.indexOf(l[h])>-1?Math.pow(1024,h+1):false;if(c){break}}e._value=(c?c:1)*(n.match(o)?Math.pow(10,3):1)*(n.match(u)?Math.pow(10,6):1)*(n.match(a)?Math.pow(10,9):1)*(n.match(f)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,""));e._value=c?Math.ceil(e._value):e._value}}return e._value}function h(e,t,n){var s=t.indexOf("$"),o=t.indexOf("("),u=t.indexOf("-"),a="",f,l;if(t.indexOf(" $")>-1){a=" ";t=t.replace(" $","")}else if(t.indexOf("$ ")>-1){a=" ";t=t.replace("$ ","")}else{t=t.replace("$","")}l=m(e._value,t,n);if(s<=1){if(l.indexOf("(")>-1||l.indexOf("-")>-1){l=l.split("");f=1;if(s<o||s<u){f=0}l.splice(f,0,r[i].currency.symbol+a);l=l.join("")}else{l=r[i].currency.symbol+a+l}}else{if(l.indexOf(")")>-1){l=l.split("");l.splice(-1,0,a+r[i].currency.symbol);l=l.join("")}else{l=l+a+r[i].currency.symbol}}return l}function p(e,t,n){var r="",i,s=e._value*100;if(t.indexOf(" %")>-1){r=" ";t=t.replace(" %","")}else{t=t.replace("%","")}i=m(s,t,n);if(i.indexOf(")")>-1){i=i.split("");i.splice(-1,0,r+"%");i=i.join("")}else{i=i+r+"%"}return i}function d(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-t*60*60)/60),r=Math.round(e._value-t*60*60-n*60);return t+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)}function v(e){var t=e.split(":"),n=0;if(t.length===3){n=n+Number(t[0])*60*60;n=n+Number(t[1])*60;n=n+Number(t[2])}else if(t.length===2){n=n+Number(t[0])*60;n=n+Number(t[1])}return Number(n)}function m(e,t,n){var o=false,u=false,a=false,l="",c=false,h=false,p=false,d=false,v=false,m="",g="",y=Math.abs(e),b=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],w,E,S,x,T,N,C="",k=false;if(e===0&&s!==null){return s}else{if(t.indexOf("(")>-1){o=true;t=t.slice(1,-1)}else if(t.indexOf("+")>-1){u=true;t=t.replace(/\+/g,"")}if(t.indexOf("a")>-1){c=t.indexOf("aK")>=0;h=t.indexOf("aM")>=0;p=t.indexOf("aB")>=0;d=t.indexOf("aT")>=0;v=c||h||p||d;if(t.indexOf(" a")>-1){l=" ";t=t.replace(" a","")}else{t=t.replace("a","")}if(y>=Math.pow(10,12)&&!v||d){l=l+r[i].abbreviations.trillion;e=e/Math.pow(10,12)}else if(y<Math.pow(10,12)&&y>=Math.pow(10,9)&&!v||p){l=l+r[i].abbreviations.billion;e=e/Math.pow(10,9)}else if(y<Math.pow(10,9)&&y>=Math.pow(10,6)&&!v||h){l=l+r[i].abbreviations.million;e=e/Math.pow(10,6)}else if(y<Math.pow(10,6)&&y>=Math.pow(10,3)&&!v||c){l=l+r[i].abbreviations.thousand;e=e/Math.pow(10,3)}}if(t.indexOf("b")>-1){if(t.indexOf(" b")>-1){m=" ";t=t.replace(" b","")}else{t=t.replace("b","")}for(S=0;S<=b.length;S++){w=Math.pow(1024,S);E=Math.pow(1024,S+1);if(e>=w&&e<E){m=m+b[S];if(w>0){e=e/w}break}}}if(t.indexOf("o")>-1){if(t.indexOf(" o")>-1){g=" ";t=t.replace(" o","")}else{t=t.replace("o","")}g=g+r[i].ordinal(e)}if(t.indexOf("[.]")>-1){a=true;t=t.replace("[.]",".")}x=e.toString().split(".")[0];T=t.split(".")[1];N=t.indexOf(",");if(T){if(T.indexOf("[")>-1){T=T.replace("]","");T=T.split("[");C=f(e,T[0].length+T[1].length,n,T[1].length)}else{C=f(e,T.length,n)}x=C.split(".")[0];if(C.split(".")[1].length){C=r[i].delimiters.decimal+C.split(".")[1]}else{C=""}if(a&&Number(C.slice(1))===0){C=""}}else{x=f(e,null,n)}if(x.indexOf("-")>-1){x=x.slice(1);k=true}if(N>-1){x=x.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+r[i].delimiters.thousands)}if(t.indexOf(".")===0){x=""}return(o&&k?"(":"")+(!o&&k?"-":"")+(!k&&u?"+":"")+x+C+(g?g:"")+(l?l:"")+(m?m:"")+(o&&k?")":"")}}function g(e,t){r[e]=t}function y(e){var t=e.toString().split(".");if(t.length<2){return 1}return Math.pow(10,t[1].length)}function b(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var n=y(e),r=y(t);return n>r?n:r},-Infinity)}var e,n="1.5.3",r={},i="en",s=null,o="0,0",u=typeof t!=="undefined"&&t.exports;e=function(t){if(e.isNumeral(t)){t=t.value()}else if(t===0||typeof t==="undefined"){t=0}else if(!Number(t)){t=e.fn.unformat(t)}return new a(Number(t))};e.version=n;e.isNumeral=function(e){return e instanceof a};e.language=function(t,n){if(!t){return i}if(t&&!n){if(!r[t]){throw new Error("Unknown language : "+t)}i=t}if(n||!r[t]){g(t,n)}return e};e.languageData=function(e){if(!e){return r[i]}if(!r[e]){throw new Error("Unknown language : "+e)}return r[e]};e.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},currency:{symbol:"$"}});e.zeroFormat=function(e){s=typeof e==="string"?e:null};e.defaultFormat=function(e){o=typeof e==="string"?e:"0.0"};if("function"!==typeof Array.prototype.reduce){Array.prototype.reduce=function(e,t){"use strict";if(null===this||"undefined"===typeof this){throw new TypeError("Array.prototype.reduce called on null or undefined")}if("function"!==typeof e){throw new TypeError(e+" is not a function")}var n,r,i=this.length>>>0,s=false;if(1<arguments.length){r=t;s=true}for(n=0;i>n;++n){if(this.hasOwnProperty(n)){if(s){r=e(r,this[n],n,this)}else{r=this[n];s=true}}}if(!s){throw new TypeError("Reduce of empty array with no initial value")}return r}}e.fn=a.prototype={clone:function(){return e(this)},format:function(e,t){return l(this,e?e:o,t!==undefined?t:Math.round)},unformat:function(e){if(Object.prototype.toString.call(e)==="[object Number]"){return e}return c(this,e?e:o)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){this._value=Number(e);return this},add:function(e){function n(e,n,r,i){return e+t*n}var t=b.call(null,this._value,e);this._value=[this._value,e].reduce(n,0)/t;return this},subtract:function(e){function n(e,n,r,i){return e-t*n}var t=b.call(null,this._value,e);this._value=[e].reduce(n,this._value*t)/t;return this},multiply:function(e){function t(e,t,n,r){var i=b(e,t);return e*i*t*i/(i*i)}this._value=[this._value,e].reduce(t,1);return this},divide:function(e){function t(e,t,n,r){var i=b(e,t);return e*i/(t*i)}this._value=[this._value,e].reduce(t);return this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}};if(u){t.exports=e}if(typeof ender==="undefined"){this["numeral"]=e}if(typeof define==="function"&&define.amd){define([],function(){return e})}}).call(this)},{}],7:[function(require,module,exports){(function(global){"use strict";var numeric=typeof exports==="undefined"?function(){}:exports;if(typeof global!=="undefined"){global.numeric=numeric}numeric.version="1.2.6";numeric.bench=function(t,n){var r,i,s,o;if(typeof n==="undefined"){n=15}s=.5;r=new Date;while(1){s*=2;for(o=s;o>3;o-=4){t();t();t();t()}while(o>0){t();o--}i=new Date;if(i-r>n)break}for(o=s;o>3;o-=4){t();t();t();t()}while(o>0){t();o--}i=new Date;return 1e3*(3*s-1)/(i-r)};numeric._myIndexOf=function(t){var n=this.length,r;for(r=0;r<n;++r)if(this[r]===t)return r;return-1};numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf;numeric.Function=Function;numeric.precision=4;numeric.largeArray=50;numeric.prettyPrint=function(t){function n(e){if(e===0){return"0"}if(isNaN(e)){return"NaN"}if(e<0){return"-"+n(-e)}if(isFinite(e)){var t=Math.floor(Math.log(e)/Math.log(10));var r=e/Math.pow(10,t);var i=r.toPrecision(numeric.precision);if(parseFloat(i)===10){t++;r=1;i=r.toPrecision(numeric.precision)}return parseFloat(i).toString()+"e"+t.toString()}return"Infinity"}function i(e){var t;if(typeof e==="undefined"){r.push(Array(numeric.precision+8).join(" "));return false}if(typeof e==="string"){r.push('"'+e+'"');return false}if(typeof e==="boolean"){r.push(e.toString());return false}if(typeof e==="number"){var s=n(e);var o=e.toPrecision(numeric.precision);var u=parseFloat(e.toString()).toString();var a=[s,o,u,parseFloat(o).toString(),parseFloat(u).toString()];for(t=1;t<a.length;t++){if(a[t].length<s.length)s=a[t]}r.push(Array(numeric.precision+8-s.length).join(" ")+s);return false}if(e===null){r.push("null");return false}if(typeof e==="function"){r.push(e.toString());var f=false;for(t in e){if(e.hasOwnProperty(t)){if(f)r.push(",\n");else r.push("\n{");f=true;r.push(t);r.push(": \n");i(e[t])}}if(f)r.push("}\n");return true}if(e instanceof Array){if(e.length>numeric.largeArray){r.push("...Large Array...");return true}var f=false;r.push("[");for(t=0;t<e.length;t++){if(t>0){r.push(",");if(f)r.push("\n ")}f=i(e[t])}r.push("]");return true}r.push("{");var f=false;for(t in e){if(e.hasOwnProperty(t)){if(f)r.push(",\n");f=true;r.push(t);r.push(": \n");i(e[t])}}r.push("}");return true}var r=[];i(t);return r.join("")};numeric.parseDate=function(t){function n(e){if(typeof e==="string"){return Date.parse(e.replace(/-/g,"/"))}if(!(e instanceof Array)){throw new Error("parseDate: parameter must be arrays of strings")}var t=[],r;for(r=0;r<e.length;r++){t[r]=n(e[r])}return t}return n(t)};numeric.parseFloat=function(t){function n(e){if(typeof e==="string"){return parseFloat(e)}if(!(e instanceof Array)){throw new Error("parseFloat: parameter must be arrays of strings")}var t=[],r;for(r=0;r<e.length;r++){t[r]=n(e[r])}return t}return n(t)};numeric.parseCSV=function(t){var n=t.split("\n");var r,i;var s=[];var o=/(([^'",]*)|('[^']*')|("[^"]*")),/g;var u=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/;var a=function(e){return e.substr(0,e.length-1)};var f=0;for(i=0;i<n.length;i++){var l=(n[i]+",").match(o),c;if(l.length>0){s[f]=[];for(r=0;r<l.length;r++){c=a(l[r]);if(u.test(c)){s[f][r]=parseFloat(c)}else s[f][r]=c}f++}}return s};numeric.toCSV=function(t){var n=numeric.dim(t);var r,i,s,o,u,a;s=n[0];o=n[1];a=[];for(r=0;r<s;r++){u=[];for(i=0;i<s;i++){u[i]=t[r][i].toString()}a[r]=u.join(", ")}return a.join("\n")+"\n"};numeric.getURL=function(t){var n=new XMLHttpRequest;n.open("GET",t,false);n.send();return n};numeric.imageURL=function(t){function n(e){var t=e.length,n,r,i,s,o,u,a,f;var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var c="";for(n=0;n<t;n+=3){r=e[n];i=e[n+1];s=e[n+2];o=r>>2;u=((r&3)<<4)+(i>>4);a=((i&15)<<2)+(s>>6);f=s&63;if(n+1>=t){a=f=64}else if(n+2>=t){f=64}c+=l.charAt(o)+l.charAt(u)+l.charAt(a)+l.charAt(f)}return c}function r(e,t,n){if(typeof t==="undefined"){t=0}if(typeof n==="undefined"){n=e.length}var r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];var i=-1,s=0,o=e.length,u;for(u=t;u<n;u++){s=(i^e[u])&255;i=i>>>8^r[s]}return i^-1}var i=t[0].length,s=t[0][0].length,o,u,a,f,l,c,h,p,d,v,m;var g=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,s>>24&255,s>>16&255,s>>8&255,s&255,i>>24&255,i>>16&255,i>>8&255,i&255,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];m=r(g,12,29);g[29]=m>>24&255;g[30]=m>>16&255;g[31]=m>>8&255;g[32]=m&255;o=1;u=0;for(p=0;p<i;p++){if(p<i-1){g.push(0)}else{g.push(1)}c=3*s+1+(p===0)&255;h=3*s+1+(p===0)>>8&255;g.push(c);g.push(h);g.push(~c&255);g.push(~h&255);if(p===0)g.push(0);for(d=0;d<s;d++){for(f=0;f<3;f++){c=t[f][p][d];if(c>255)c=255;else if(c<0)c=0;else c=Math.round(c);o=(o+c)%65521;u=(u+o)%65521;g.push(c)}}g.push(0)}v=(u<<16)+o;g.push(v>>24&255);g.push(v>>16&255);g.push(v>>8&255);g.push(v&255);l=g.length-41;g[33]=l>>24&255;g[34]=l>>16&255;g[35]=l>>8&255;g[36]=l&255;m=r(g,37);g.push(m>>24&255);g.push(m>>16&255);g.push(m>>8&255);g.push(m&255);g.push(0);g.push(0);g.push(0);g.push(0);g.push(73);g.push(69);g.push(78);g.push(68);g.push(174);g.push(66);g.push(96);g.push(130);return"data:image/png;base64,"+n(g)};numeric._dim=function(t){var n=[];while(typeof t==="object"){n.push(t.length);t=t[0]}return n};numeric.dim=function(t){var n,r;if(typeof t==="object"){n=t[0];if(typeof n==="object"){r=n[0];if(typeof r==="object"){return numeric._dim(t)}return[t.length,n.length]}return[t.length]}return[]};numeric.mapreduce=function(t,n){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+n+";\n"+'if(typeof x === "number") { var xi = x; '+t+"; return accum; }\n"+'if(typeof _s === "undefined") _s = numeric.dim(x);\n'+'if(typeof _k === "undefined") _k = 0;\n'+"var _n = _s[_k];\n"+"var i,xi;\n"+"if(_k < _s.length-1) {\n"+"    for(i=_n-1;i>=0;i--) {\n"+"        accum = arguments.callee(x[i],accum,_s,_k+1);\n"+"    }"+"    return accum;\n"+"}\n"+"for(i=_n-1;i>=1;i-=2) { \n"+"    xi = x[i];\n"+"    "+t+";\n"+"    xi = x[i-1];\n"+"    "+t+";\n"+"}\n"+"if(i === 0) {\n"+"    xi = x[i];\n"+"    "+t+"\n"+"}\n"+"return accum;")};numeric.mapreduce2=function(t,n){return Function("x","var n = x.length;\n"+"var i,xi;\n"+n+";\n"+"for(i=n-1;i!==-1;--i) { \n"+"    xi = x[i];\n"+"    "+t+";\n"+"}\n"+"return accum;")};numeric.same=function same(e,t){var n,r;if(!(e instanceof Array)||!(t instanceof Array)){return false}r=e.length;if(r!==t.length){return false}for(n=0;n<r;n++){if(e[n]===t[n]){continue}if(typeof e[n]==="object"){if(!same(e[n],t[n]))return false}else{return false}}return true};numeric.rep=function(t,n,r){if(typeof r==="undefined"){r=0}var i=t[r],s=Array(i),o;if(r===t.length-1){for(o=i-2;o>=0;o-=2){s[o+1]=n;s[o]=n}if(o===-1){s[0]=n}return s}for(o=i-1;o>=0;o--){s[o]=numeric.rep(t,n,r+1)}return s};numeric.dotMMsmall=function(t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m;o=t.length;u=n.length;a=n[0].length;f=Array(o);for(r=o-1;r>=0;r--){l=Array(a);c=t[r];for(s=a-1;s>=0;s--){h=c[u-1]*n[u-1][s];for(i=u-2;i>=1;i-=2){p=i-1;h+=c[i]*n[i][s]+c[p]*n[p][s]}if(i===0){h+=c[0]*n[0][s]}l[s]=h}f[r]=l}return f};numeric._getCol=function(t,n,r){var i=t.length,s;for(s=i-1;s>0;--s){r[s]=t[s][n];--s;r[s]=t[s][n]}if(s===0)r[0]=t[0][n]};numeric.dotMMbig=function(t,n){var r=numeric._getCol,i=n.length,s=Array(i);var o=t.length,u=n[0].length,a=new Array(o),f;var l=numeric.dotVV;var c,h,p,d;--i;--o;for(c=o;c!==-1;--c)a[c]=Array(u);--u;for(c=u;c!==-1;--c){r(n,c,s);for(h=o;h!==-1;--h){d=0;f=t[h];a[h][c]=l(f,s)}}return a};numeric.dotMV=function(t,n){var r=t.length,i=n.length,s;var o=Array(r),u=numeric.dotVV;for(s=r-1;s>=0;s--){o[s]=u(t[s],n)}return o};numeric.dotVM=function(t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E;o=t.length;u=n[0].length;f=Array(u);for(s=u-1;s>=0;s--){h=t[o-1]*n[o-1][s];for(i=o-2;i>=1;i-=2){p=i-1;h+=t[i]*n[i][s]+t[p]*n[p][s]}if(i===0){h+=t[0]*n[0][s]}f[s]=h}return f};numeric.dotVV=function(t,n){var r,i=t.length,s,o=t[i-1]*n[i-1];for(r=i-2;r>=1;r-=2){s=r-1;o+=t[r]*n[r]+t[s]*n[s]}if(r===0){o+=t[0]*n[0]}return o};numeric.dot=function(t,n){var r=numeric.dim;switch(r(t).length*1e3+r(n).length){case 2002:if(n.length<10)return numeric.dotMMsmall(t,n);else return numeric.dotMMbig(t,n);case 2001:return numeric.dotMV(t,n);case 1002:return numeric.dotVM(t,n);case 1001:return numeric.dotVV(t,n);case 1e3:return numeric.mulVS(t,n);case 1:return numeric.mulSV(t,n);case 0:return t*n;default:throw new Error("numeric.dot only works on vectors and matrices")}};numeric.diag=function(t){var n,r,i,s=t.length,o=Array(s),u;for(n=s-1;n>=0;n--){u=Array(s);r=n+2;for(i=s-1;i>=r;i-=2){u[i]=0;u[i-1]=0}if(i>n){u[i]=0}u[n]=t[n];for(i=n-1;i>=1;i-=2){u[i]=0;u[i-1]=0}if(i===0){u[0]=0}o[n]=u}return o};numeric.getDiag=function(e){var t=Math.min(e.length,e[0].length),n,r=Array(t);for(n=t-1;n>=1;--n){r[n]=e[n][n];--n;r[n]=e[n][n]}if(n===0){r[0]=e[0][0]}return r};numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))};numeric.pointwise=function(t,n,r){if(typeof r==="undefined"){r=""}var i=[];var s;var o=/\[i\]$/,u,a="";var f=false;for(s=0;s<t.length;s++){if(o.test(t[s])){u=t[s].substring(0,t[s].length-3);a=u}else{u=t[s]}if(u==="ret")f=true;i.push(u)}i[t.length]="_s";i[t.length+1]="_k";i[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+a+");\n"+'if(typeof _k === "undefined") _k = 0;\n'+"var _n = _s[_k];\n"+"var i"+(f?"":", ret = Array(_n)")+";\n"+"if(_k < _s.length-1) {\n"+"    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n"+"    return ret;\n"+"}\n"+r+"\n"+"for(i=_n-1;i!==-1;--i) {\n"+"    "+n+"\n"+"}\n"+"return ret;";return Function.apply(null,i)};numeric.pointwise2=function(t,n,r){if(typeof r==="undefined"){r=""}var i=[];var s;var o=/\[i\]$/,u,a="";var f=false;for(s=0;s<t.length;s++){if(o.test(t[s])){u=t[s].substring(0,t[s].length-3);a=u}else{u=t[s]}if(u==="ret")f=true;i.push(u)}i[t.length]="var _n = "+a+".length;\n"+"var i"+(f?"":", ret = Array(_n)")+";\n"+r+"\n"+"for(i=_n-1;i!==-1;--i) {\n"+n+"\n"+"}\n"+"return ret;";return Function.apply(null,i)};numeric._biforeach=function _biforeach(e,t,n,r,i){if(r===n.length-1){i(e,t);return}var s,o=n[r];for(s=o-1;s>=0;s--){_biforeach(typeof e==="object"?e[s]:e,typeof t==="object"?t[s]:t,n,r+1,i)}};numeric._biforeach2=function _biforeach2(e,t,n,r,i){if(r===n.length-1){return i(e,t)}var s,o=n[r],u=Array(o);for(s=o-1;s>=0;--s){u[s]=_biforeach2(typeof e==="object"?e[s]:e,typeof t==="object"?t[s]:t,n,r+1,i)}return u};numeric._foreach=function _foreach(e,t,n,r){if(n===t.length-1){r(e);return}var i,s=t[n];for(i=s-1;i>=0;i--){_foreach(e[i],t,n+1,r)}};numeric._foreach2=function _foreach2(e,t,n,r){if(n===t.length-1){return r(e)}var i,s=t[n],o=Array(s);for(i=s-1;i>=0;i--){o[i]=_foreach2(e[i],t,n+1,r)}return o};numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="};numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"];numeric.mathfuns2=["atan2","pow","max","min"];numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""};numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]};(function(){var e,t;for(e=0;e<numeric.mathfuns2.length;++e){t=numeric.mathfuns2[e];numeric.ops2[t]=t}for(e in numeric.ops2){if(numeric.ops2.hasOwnProperty(e)){t=numeric.ops2[e];var n,r,i="";if(numeric.myIndexOf.call(numeric.mathfuns2,e)!==-1){i="var "+t+" = Math."+t+";\n";n=function(e,n,r){return e+" = "+t+"("+n+","+r+")"};r=function(e,n){return e+" = "+t+"("+e+","+n+")"}}else{n=function(e,n,r){return e+" = "+n+" "+t+" "+r};if(numeric.opseq.hasOwnProperty(e+"eq")){r=function(e,n){return e+" "+t+"= "+n}}else{r=function(e,n){return e+" = "+e+" "+t+" "+n}}}numeric[e+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),i);numeric[e+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),i);numeric[e+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),i);numeric[e]=Function("var n = arguments.length, i, x = arguments[0], y;\n"+"var VV = numeric."+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+"SV;\n"+"var dim = numeric.dim;\n"+"for(i=1;i!==n;++i) { \n"+"  y = arguments[i];\n"+'  if(typeof x === "object") {\n'+'      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n'+"      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n"+'  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n'+"  else "+r("x","y")+"\n"+"}\nreturn x;\n");numeric[t]=numeric[e];numeric[e+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],r("ret[i]","x[i]"),i);numeric[e+"eqS"]=numeric.pointwise2(["ret[i]","x"],r("ret[i]","x"),i);numeric[e+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\n"+"var V = numeric."+e+"eqV, S = numeric."+e+"eqS\n"+"var s = numeric.dim(x);\n"+"for(i=1;i!==n;++i) { \n"+"  y = arguments[i];\n"+'  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n'+"  else numeric._biforeach(x,y,s,0,S);\n"+"}\nreturn x;\n")}}for(e=0;e<numeric.mathfuns2.length;++e){t=numeric.mathfuns2[e];delete numeric.ops2[t]}for(e=0;e<numeric.mathfuns.length;++e){t=numeric.mathfuns[e];numeric.ops1[t]=t}for(e in numeric.ops1){if(numeric.ops1.hasOwnProperty(e)){i="";t=numeric.ops1[e];if(numeric.myIndexOf.call(numeric.mathfuns,e)!==-1){if(Math.hasOwnProperty(t))i="var "+t+" = Math."+t+";\n"}numeric[e+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+t+"(ret[i]);",i);numeric[e+"eq"]=Function("x",'if(typeof x !== "object") return '+t+"x\n"+"var i;\n"+"var V = numeric."+e+"eqV;\n"+"var s = numeric.dim(x);\n"+"numeric._foreach(x,s,0,V);\n"+"return x;\n");numeric[e+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+t+"(x[i]);",i);numeric[e]=Function("x",'if(typeof x !== "object") return '+t+"(x)\n"+"var i;\n"+"var V = numeric."+e+"V;\n"+"var s = numeric.dim(x);\n"+"return numeric._foreach2(x,s,0,V);\n")}}for(e=0;e<numeric.mathfuns.length;++e){t=numeric.mathfuns[e];delete numeric.ops1[t]}for(e in numeric.mapreducers){if(numeric.mapreducers.hasOwnProperty(e)){t=numeric.mapreducers[e];numeric[e+"V"]=numeric.mapreduce2(t[0],t[1]);numeric[e]=Function("x","s","k",t[1]+'if(typeof x !== "object") {'+"    xi = x;\n"+t[0]+";\n"+"    return accum;\n"+"}"+'if(typeof s === "undefined") s = numeric.dim(x);\n'+'if(typeof k === "undefined") k = 0;\n'+"if(k === s.length-1) return numeric."+e+"V(x);\n"+"var xi;\n"+"var n = x.length, i;\n"+"for(i=n-1;i!==-1;--i) {\n"+"   xi = arguments.callee(x[i]);\n"+t[0]+";\n"+"}\n"+"return accum;\n")}}})();numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;");numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;");numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;");numeric.trunc=function(t,n){if(typeof t==="object"){if(typeof n==="object")return numeric.truncVV(t,n);return numeric.truncVS(t,n)}if(typeof n==="object")return numeric.truncSV(t,n);return Math.round(t/n)*n};numeric.inv=function(t){var n=numeric.dim(t),r=Math.abs,i=n[0],s=n[1];var o=numeric.clone(t),u,a;var f=numeric.identity(i),l,c;var h,p,d,t;for(p=0;p<s;++p){var v=-1;var m=-1;for(h=p;h!==i;++h){d=r(o[h][p]);if(d>m){v=h;m=d}}a=o[v];o[v]=o[p];o[p]=a;c=f[v];f[v]=f[p];f[p]=c;t=a[p];for(d=p;d!==s;++d)a[d]/=t;for(d=s-1;d!==-1;--d)c[d]/=t;for(h=i-1;h!==-1;--h){if(h!==p){u=o[h];l=f[h];t=u[p];for(d=p+1;d!==s;++d)u[d]-=a[d]*t;for(d=s-1;d>0;--d){l[d]-=c[d]*t;--d;l[d]-=c[d]*t}if(d===0)l[0]-=c[0]*t}}}return f};numeric.det=function(t){var n=numeric.dim(t);if(n.length!==2||n[0]!==n[1]){throw new Error("numeric: det() only works on square matrices")}var r=n[0],i=1,s,o,u,a=numeric.clone(t),f,l,c,h,p,d,v;for(o=0;o<r-1;o++){u=o;for(s=o+1;s<r;s++){if(Math.abs(a[s][o])>Math.abs(a[u][o])){u=s}}if(u!==o){h=a[u];a[u]=a[o];a[o]=h;i*=-1}f=a[o];for(s=o+1;s<r;s++){l=a[s];c=l[o]/f[o];for(u=o+1;u<r-1;u+=2){p=u+1;l[u]-=f[u]*c;l[p]-=f[p]*c}if(u!==r){l[u]-=f[u]*c}}if(f[o]===0){return 0}i*=f[o]}return i*a[o][o]};numeric.transpose=function(t){var n,r,i=t.length,s=t[0].length,o=Array(s),u,a,f;for(r=0;r<s;r++)o[r]=Array(i);for(n=i-1;n>=1;n-=2){a=t[n];u=t[n-1];for(r=s-1;r>=1;--r){f=o[r];f[n]=a[r];f[n-1]=u[r];--r;f=o[r];f[n]=a[r];f[n-1]=u[r]}if(r===0){f=o[0];f[n]=a[0];f[n-1]=u[0]}}if(n===0){u=t[0];for(r=s-1;r>=1;--r){o[r][0]=u[r];--r;o[r][0]=u[r]}if(r===0){o[0][0]=u[0]}}return o};numeric.negtranspose=function(t){var n,r,i=t.length,s=t[0].length,o=Array(s),u,a,f;for(r=0;r<s;r++)o[r]=Array(i);for(n=i-1;n>=1;n-=2){a=t[n];u=t[n-1];for(r=s-1;r>=1;--r){f=o[r];f[n]=-a[r];f[n-1]=-u[r];--r;f=o[r];f[n]=-a[r];f[n-1]=-u[r]}if(r===0){f=o[0];f[n]=-a[0];f[n-1]=-u[0]}}if(n===0){u=t[0];for(r=s-1;r>=1;--r){o[r][0]=-u[r];--r;o[r][0]=-u[r]}if(r===0){o[0][0]=-u[0]}}return o};numeric._random=function _random(e,t){var n,r=e[t],i=Array(r),s;if(t===e.length-1){s=Math.random;for(n=r-1;n>=1;n-=2){i[n]=s();i[n-1]=s()}if(n===0){i[0]=s()}return i}for(n=r-1;n>=0;n--)i[n]=_random(e,t+1);return i};numeric.random=function(t){return numeric._random(t,0)};numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))};numeric.linspace=function(t,n,r){if(typeof r==="undefined")r=Math.max(Math.round(n-t)+1,1);if(r<2){return r===1?[t]:[]}var i,s=Array(r);r--;for(i=r;i>=0;i--){s[i]=(i*n+(r-i)*t)/r}return s};numeric.getBlock=function(t,n,r){function s(e,t){var o,u=n[t],a=r[t]-u,f=Array(a);if(t===i.length-1){for(o=a;o>=0;o--){f[o]=e[o+u]}return f}for(o=a;o>=0;o--){f[o]=s(e[o+u],t+1)}return f}var i=numeric.dim(t);return s(t,0)};numeric.setBlock=function(t,n,r,i){function o(e,t,i){var u,a=n[i],f=r[i]-a;if(i===s.length-1){for(u=f;u>=0;u--){e[u+a]=t[u]}}for(u=f;u>=0;u--){o(e[u+a],t[u],i+1)}}var s=numeric.dim(t);o(t,i,0);return t};numeric.getRange=function(t,n,r){var i=n.length,s=r.length;var o,u;var a=Array(i),f,l;for(o=i-1;o!==-1;--o){a[o]=Array(s);f=a[o];l=t[n[o]];for(u=s-1;u!==-1;--u)f[u]=l[r[u]]}return a};numeric.blockMatrix=function(t){var n=numeric.dim(t);if(n.length<4)return numeric.blockMatrix([t]);var r=n[0],i=n[1],s,o,u,a,f;s=0;o=0;for(u=0;u<r;++u)s+=t[u][0].length;for(a=0;a<i;++a)o+=t[0][a][0].length;var l=Array(s);for(u=0;u<s;++u)l[u]=Array(o);var c=0,h,p,d,v,m;for(u=0;u<r;++u){h=o;for(a=i-1;a!==-1;--a){f=t[u][a];h-=f[0].length;for(d=f.length-1;d!==-1;--d){m=f[d];p=l[c+d];for(v=m.length-1;v!==-1;--v)p[h+v]=m[v]}}c+=t[u][0].length}return l};numeric.tensor=function(t,n){if(typeof t==="number"||typeof n==="number")return numeric.mul(t,n);var r=numeric.dim(t),i=numeric.dim(n);if(r.length!==1||i.length!==1){throw new Error("numeric: tensor product is only defined for vectors")}var s=r[0],o=i[0],u=Array(s),a,f,l,c;for(f=s-1;f>=0;f--){a=Array(o);c=t[f];for(l=o-1;l>=3;--l){a[l]=c*n[l];--l;a[l]=c*n[l];--l;a[l]=c*n[l];--l;a[l]=c*n[l]}while(l>=0){a[l]=c*n[l];--l}u[f]=a}return u};numeric.T=function(t,n){this.x=t;this.y=n};numeric.t=function(t,n){return new numeric.T(t,n)};numeric.Tbinop=function(t,n,r,i,s){var o=numeric.indexOf;if(typeof s!=="string"){var u;s="";for(u in numeric){if(numeric.hasOwnProperty(u)&&(t.indexOf(u)>=0||n.indexOf(u)>=0||r.indexOf(u)>=0||i.indexOf(u)>=0)&&u.length>1){s+="var "+u+" = numeric."+u+";\n"}}}return Function(["y"],"var x = this;\n"+"if(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+s+"\n"+"if(x.y) {"+"  if(y.y) {"+"    return new numeric.T("+i+");\n"+"  }\n"+"  return new numeric.T("+r+");\n"+"}\n"+"if(y.y) {\n"+"  return new numeric.T("+n+");\n"+"}\n"+"return new numeric.T("+t+");\n")};numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)");numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)");numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))");numeric.T.prototype.reciprocal=function(){var t=numeric.mul,n=numeric.div;if(this.y){var r=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(n(this.x,r),n(numeric.neg(this.y),r))}return new T(n(1,this.x))};numeric.T.prototype.div=function div(e){if(!(e instanceof numeric.T))e=new numeric.T(e);if(e.y){return this.mul(e.reciprocal())}var div=numeric.div;if(this.y){return new numeric.T(div(this.x,e.x),div(this.y,e.x))}return new numeric.T(div(this.x,e.x))};numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))");numeric.T.prototype.transpose=function(){var t=numeric.transpose,n=this.x,r=this.y;if(r){return new numeric.T(t(n),t(r))}return new numeric.T(t(n))};numeric.T.prototype.transjugate=function(){var t=numeric.transpose,n=this.x,r=this.y;if(r){return new numeric.T(t(n),numeric.negtranspose(r))}return new numeric.T(t(n))};numeric.Tunop=function(t,n,r){if(typeof r!=="string"){r=""}return Function("var x = this;\n"+r+"\n"+"if(x.y) {"+"  "+n+";\n"+"}\n"+t+";\n")};numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;");numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));");numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;");numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));");numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);");numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;");numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\n"+"return new numeric.T(numeric.log(r.x),theta.x);");numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\n"+"return Math.sqrt(f(x.x)+f(x.y));");numeric.T.prototype.inv=function(){var t=this;if(typeof t.y==="undefined"){return new numeric.T(numeric.inv(t.x))}var n=t.x.length,r,i,s;var o=numeric.identity(n),u=numeric.rep([n,n],0);var a=numeric.clone(t.x),f=numeric.clone(t.y);var l,c,h,p,d,v,m,g;var r,i,s,y,b,w,E,S,x,T;for(r=0;r<n;r++){w=a[r][r];E=f[r][r];y=w*w+E*E;s=r;for(i=r+1;i<n;i++){w=a[i][r];E=f[i][r];b=w*w+E*E;if(b>y){s=i;y=b}}if(s!==r){T=a[r];a[r]=a[s];a[s]=T;T=f[r];f[r]=f[s];f[s]=T;T=o[r];o[r]=o[s];o[s]=T;T=u[r];u[r]=u[s];u[s]=T}l=a[r];c=f[r];d=o[r];v=u[r];w=l[r];E=c[r];for(i=r+1;i<n;i++){S=l[i];x=c[i];l[i]=(S*w+x*E)/y;c[i]=(x*w-S*E)/y}for(i=0;i<n;i++){S=d[i];x=v[i];d[i]=(S*w+x*E)/y;v[i]=(x*w-S*E)/y}for(i=r+1;i<n;i++){h=a[i];p=f[i];m=o[i];g=u[i];w=h[r];E=p[r];for(s=r+1;s<n;s++){S=l[s];x=c[s];h[s]-=S*w-x*E;p[s]-=x*w+S*E}for(s=0;s<n;s++){S=d[s];x=v[s];m[s]-=S*w-x*E;g[s]-=x*w+S*E}}}for(r=n-1;r>0;r--){d=o[r];v=u[r];for(i=r-1;i>=0;i--){m=o[i];g=u[i];w=a[i][r];E=f[i][r];for(s=n-1;s>=0;s--){S=d[s];x=v[s];m[s]-=w*S-E*x;g[s]-=w*x+E*S}}}return new numeric.T(o,u)};numeric.T.prototype.get=function(t){var n=this.x,r=this.y,i=0,s,o=t.length;if(r){while(i<o){s=t[i];n=n[s];r=r[s];i++}return new numeric.T(n,r)}while(i<o){s=t[i];n=n[s];i++}return new numeric.T(n)};numeric.T.prototype.set=function(t,n){var r=this.x,i=this.y,s=0,o,u=t.length,a=n.x,f=n.y;if(u===0){if(f){this.y=f}else if(i){this.y=undefined}this.x=r;return this}if(f){if(i){}else{i=numeric.rep(numeric.dim(r),0);this.y=i}while(s<u-1){o=t[s];r=r[o];i=i[o];s++}o=t[s];r[o]=a;i[o]=f;return this}if(i){while(s<u-1){o=t[s];r=r[o];i=i[o];s++}o=t[s];r[o]=a;if(a instanceof Array)i[o]=numeric.rep(numeric.dim(a),0);else i[o]=0;return this}while(s<u-1){o=t[s];r=r[o];s++}o=t[s];r[o]=a;return this};numeric.T.prototype.getRows=function(t,n){var r=n-t+1,i;var s=Array(r),o,u=this.x,a=this.y;for(i=t;i<=n;i++){s[i-t]=u[i]}if(a){o=Array(r);for(i=t;i<=n;i++){o[i-t]=a[i]}return new numeric.T(s,o)}return new numeric.T(s)};numeric.T.prototype.setRows=function(t,n,r){var i;var s=this.x,o=this.y,u=r.x,a=r.y;for(i=t;i<=n;i++){s[i]=u[i-t]}if(a){if(!o){o=numeric.rep(numeric.dim(s),0);this.y=o}for(i=t;i<=n;i++){o[i]=a[i-t]}}else if(o){for(i=t;i<=n;i++){o[i]=numeric.rep([u[i-t].length],0)}}return this};numeric.T.prototype.getRow=function(t){var n=this.x,r=this.y;if(r){return new numeric.T(n[t],r[t])}return new numeric.T(n[t])};numeric.T.prototype.setRow=function(t,n){var r=this.x,i=this.y,s=n.x,o=n.y;r[t]=s;if(o){if(!i){i=numeric.rep(numeric.dim(r),0);this.y=i}i[t]=o}else if(i){i=numeric.rep([s.length],0)}return this};numeric.T.prototype.getBlock=function(t,n){var r=this.x,i=this.y,s=numeric.getBlock;if(i){return new numeric.T(s(r,t,n),s(i,t,n))}return new numeric.T(s(r,t,n))};numeric.T.prototype.setBlock=function(t,n,r){if(!(r instanceof numeric.T))r=new numeric.T(r);var i=this.x,s=this.y,o=numeric.setBlock,u=r.x,a=r.y;if(a){if(!s){this.y=numeric.rep(numeric.dim(this),0);s=this.y}o(i,t,n,u);o(s,t,n,a);return this}o(i,t,n,u);if(s)o(s,t,n,numeric.rep(numeric.dim(u),0))};numeric.T.rep=function(t,n){var r=numeric.T;if(!(n instanceof r))n=new r(n);var i=n.x,s=n.y,o=numeric.rep;if(s)return new r(o(t,i),o(t,s));return new r(o(t,i))};numeric.T.diag=function diag(e){if(!(e instanceof numeric.T))e=new numeric.T(e);var t=e.x,n=e.y,diag=numeric.diag;if(n)return new numeric.T(diag(t),diag(n));return new numeric.T(diag(t))};numeric.T.eig=function(){if(this.y){throw new Error("eig: not implemented for complex matrices.")}return numeric.eig(this.x)};numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))};numeric.T.prototype.getDiag=function(){var t=numeric;var n=this.x,r=this.y;if(r){return new t.T(t.getDiag(n),t.getDiag(r))}return new t.T(t.getDiag(n))};numeric.house=function(t){var n=numeric.clone(t);var r=t[0]>=0?1:-1;var i=r*numeric.norm2(t);n[0]+=i;var s=numeric.norm2(n);if(s===0){throw new Error("eig: internal error")}return numeric.div(n,s)};numeric.toUpperHessenberg=function(t){var n=numeric.dim(t);if(n.length!==2||n[0]!==n[1]){throw new Error("numeric: toUpperHessenberg() only works on square matrices")}var r=n[0],i,s,o,u,a,f=numeric.clone(t),l,c,h,p,d=numeric.identity(r),v;for(s=0;s<r-2;s++){u=Array(r-s-1);for(i=s+1;i<r;i++){u[i-s-1]=f[i][s]}if(numeric.norm2(u)>0){a=numeric.house(u);l=numeric.getBlock(f,[s+1,s],[r-1,r-1]);c=numeric.tensor(a,numeric.dot(a,l));for(i=s+1;i<r;i++){h=f[i];p=c[i-s-1];for(o=s;o<r;o++)h[o]-=2*p[o-s]}l=numeric.getBlock(f,[0,s+1],[r-1,r-1]);c=numeric.tensor(numeric.dot(l,a),a);for(i=0;i<r;i++){h=f[i];p=c[i];for(o=s+1;o<r;o++)h[o]-=2*p[o-s-1]}l=Array(r-s-1);for(i=s+1;i<r;i++)l[i-s-1]=d[i];c=numeric.tensor(a,numeric.dot(a,l));for(i=s+1;i<r;i++){v=d[i];p=c[i-s-1];for(o=0;o<r;o++)v[o]-=2*p[o]}}}return{H:f,Q:d}};numeric.epsilon=2.220446049250313e-16;numeric.QRFrancis=function(e,t){if(typeof t==="undefined"){t=1e4}e=numeric.clone(e);var n=numeric.clone(e);var r=numeric.dim(e),i=r[0],s,o,u,a,f,l,c,h,p,d=numeric.identity(i),v,m,g,y,b,w,E,S,x;if(i<3){return{Q:d,B:[[0,i-1]]}}var T=numeric.epsilon;for(x=0;x<t;x++){for(E=0;E<i-1;E++){if(Math.abs(e[E+1][E])<T*(Math.abs(e[E][E])+Math.abs(e[E+1][E+1]))){var N=numeric.QRFrancis(numeric.getBlock(e,[0,0],[E,E]),t);var C=numeric.QRFrancis(numeric.getBlock(e,[E+1,E+1],[i-1,i-1]),t);g=Array(E+1);for(w=0;w<=E;w++){g[w]=d[w]}y=numeric.dot(N.Q,g);for(w=0;w<=E;w++){d[w]=y[w]}g=Array(i-E-1);for(w=E+1;w<i;w++){g[w-E-1]=d[w]}y=numeric.dot(C.Q,g);for(w=E+1;w<i;w++){d[w]=y[w-E-1]}return{Q:d,B:N.B.concat(numeric.add(C.B,E+1))}}}u=e[i-2][i-2];a=e[i-2][i-1];f=e[i-1][i-2];l=e[i-1][i-1];h=u+l;c=u*l-a*f;p=numeric.getBlock(e,[0,0],[2,2]);if(h*h>=4*c){var k,L;k=.5*(h+Math.sqrt(h*h-4*c));L=.5*(h-Math.sqrt(h*h-4*c));p=numeric.add(numeric.sub(numeric.dot(p,p),numeric.mul(p,k+L)),numeric.diag(numeric.rep([3],k*L)))}else{p=numeric.add(numeric.sub(numeric.dot(p,p),numeric.mul(p,h)),numeric.diag(numeric.rep([3],c)))}s=[p[0][0],p[1][0],p[2][0]];o=numeric.house(s);g=[e[0],e[1],e[2]];y=numeric.tensor(o,numeric.dot(o,g));for(w=0;w<3;w++){m=e[w];b=y[w];for(S=0;S<i;S++)m[S]-=2*b[S]}g=numeric.getBlock(e,[0,0],[i-1,2]);y=numeric.tensor(numeric.dot(g,o),o);for(w=0;w<i;w++){m=e[w];b=y[w];for(S=0;S<3;S++)m[S]-=2*b[S]}g=[d[0],d[1],d[2]];y=numeric.tensor(o,numeric.dot(o,g));for(w=0;w<3;w++){v=d[w];b=y[w];for(S=0;S<i;S++)v[S]-=2*b[S]}var A;for(E=0;E<i-2;E++){for(S=E;S<=E+1;S++){if(Math.abs(e[S+1][S])<T*(Math.abs(e[S][S])+Math.abs(e[S+1][S+1]))){var N=numeric.QRFrancis(numeric.getBlock(e,[0,0],[S,S]),t);var C=numeric.QRFrancis(numeric.getBlock(e,[S+1,S+1],[i-1,i-1]),t);g=Array(S+1);for(w=0;w<=S;w++){g[w]=d[w]}y=numeric.dot(N.Q,g);for(w=0;w<=S;w++){d[w]=y[w]}g=Array(i-S-1);for(w=S+1;w<i;w++){g[w-S-1]=d[w]}y=numeric.dot(C.Q,g);for(w=S+1;w<i;w++){d[w]=y[w-S-1]}return{Q:d,B:N.B.concat(numeric.add(C.B,S+1))}}}A=Math.min(i-1,E+3);s=Array(A-E);for(w=E+1;w<=A;w++){s[w-E-1]=e[w][E]}o=numeric.house(s);g=numeric.getBlock(e,[E+1,E],[A,i-1]);y=numeric.tensor(o,numeric.dot(o,g));for(w=E+1;w<=A;w++){m=e[w];b=y[w-E-1];for(S=E;S<i;S++)m[S]-=2*b[S-E]}g=numeric.getBlock(e,[0,E+1],[i-1,A]);y=numeric.tensor(numeric.dot(g,o),o);for(w=0;w<i;w++){m=e[w];b=y[w];for(S=E+1;S<=A;S++)m[S]-=2*b[S-E-1]}g=Array(A-E);for(w=E+1;w<=A;w++)g[w-E-1]=d[w];y=numeric.tensor(o,numeric.dot(o,g));for(w=E+1;w<=A;w++){v=d[w];b=y[w-E-1];for(S=0;S<i;S++)v[S]-=2*b[S]}}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")};numeric.eig=function(t,n){var r=numeric.toUpperHessenberg(t);var i=numeric.QRFrancis(r.H,n);var s=numeric.T;var o=t.length,u,a,f=false,l=i.B,c=numeric.dot(i.Q,numeric.dot(r.H,numeric.transpose(i.Q)));var h=new s(numeric.dot(i.Q,r.Q)),p;var d=l.length,v;var m,g,y,b,w,E,S,x,T,N,C,k,L;var A=Math.sqrt;for(a=0;a<d;a++){u=l[a][0];if(u===l[a][1]){}else{v=u+1;m=c[u][u];g=c[u][v];y=c[v][u];b=c[v][v];if(g===0&&y===0)continue;w=-m-b;E=m*b-g*y;S=w*w-4*E;if(S>=0){if(w<0)x=-.5*(w-A(S));else x=-.5*(w+A(S));k=(m-x)*(m-x)+g*g;L=y*y+(b-x)*(b-x);if(k>L){k=A(k);N=(m-x)/k;C=g/k}else{L=A(L);N=y/L;C=(b-x)/L}p=new s([[C,-N],[N,C]]);h.setRows(u,v,p.dot(h.getRows(u,v)))}else{x=-.5*w;T=.5*A(-S);k=(m-x)*(m-x)+g*g;L=y*y+(b-x)*(b-x);if(k>L){k=A(k+T*T);N=(m-x)/k;C=g/k;x=0;T/=k}else{L=A(L+T*T);N=y/L;C=(b-x)/L;x=T/L;T=0}p=new s([[C,-N],[N,C]],[[x,T],[T,-x]]);h.setRows(u,v,p.dot(h.getRows(u,v)))}}}var O=h.dot(t).dot(h.transjugate()),o=t.length,M=numeric.T.identity(o);for(v=0;v<o;v++){if(v>0){for(a=v-1;a>=0;a--){var _=O.get([a,a]),D=O.get([v,v]);if(numeric.neq(_.x,D.x)||numeric.neq(_.y,D.y)){x=O.getRow(a).getBlock([a],[v-1]);T=M.getRow(v).getBlock([a],[v-1]);M.set([v,a],O.get([a,v]).neg().sub(x.dot(T)).div(_.sub(D)))}else{M.setRow(v,M.getRow(a));continue}}}}for(v=0;v<o;v++){x=M.getRow(v);M.setRow(v,x.div(x.norm2()))}M=M.transpose();M=h.transjugate().dot(M);return{lambda:O.getDiag(),E:M}};numeric.ccsSparse=function(t){var n=t.length,r,i,s,o,u=[];for(s=n-1;s!==-1;--s){i=t[s];for(o in i){o=parseInt(o);while(o>=u.length)u[u.length]=0;if(i[o]!==0)u[o]++}}var r=u.length;var a=Array(r+1);a[0]=0;for(s=0;s<r;++s)a[s+1]=a[s]+u[s];var f=Array(a[r]),l=Array(a[r]);for(s=n-1;s!==-1;--s){i=t[s];for(o in i){if(i[o]!==0){u[o]--;f[a[o]+u[o]]=s;l[a[o]+u[o]]=i[o]}}}return[a,f,l]};numeric.ccsFull=function(t){var n=t[0],r=t[1],i=t[2],s=numeric.ccsDim(t),o=s[0],u=s[1],a,f,l,c,h;var p=numeric.rep([o,u],0);for(a=0;a<u;a++){l=n[a];c=n[a+1];for(f=l;f<c;++f){p[r[f]][a]=i[f]}}return p};numeric.ccsTSolve=function(t,n,r,i,s){function h(e){var t;if(r[e]!==0)return;r[e]=1;for(t=o[e];t<o[e+1];++t)h(u[t]);s[c]=e;++c}var o=t[0],u=t[1],a=t[2],f=o.length-1,l=Math.max,c=0;if(typeof i==="undefined")r=numeric.rep([f],0);if(typeof i==="undefined")i=numeric.linspace(0,r.length-1);if(typeof s==="undefined")s=[];var p,d,v,m,g,y,b,w,E;for(p=i.length-1;p!==-1;--p){h(i[p])}s.length=c;for(p=s.length-1;p!==-1;--p){r[s[p]]=0}for(p=i.length-1;p!==-1;--p){d=i[p];r[d]=n[d]}for(p=s.length-1;p!==-1;--p){d=s[p];v=o[d];m=l(o[d+1],v);for(g=v;g!==m;++g){if(u[g]===d){r[d]/=a[g];break}}E=r[d];for(g=v;g!==m;++g){y=u[g];if(y!==d)r[y]-=E*a[g]}}return r};numeric.ccsDFS=function(t){this.k=Array(t);this.k1=Array(t);this.j=Array(t)};numeric.ccsDFS.prototype.dfs=function(t,n,r,i,s,o){var u=0,a,f=s.length;var l=this.k,c=this.k1,h=this.j,p,d;if(i[t]!==0)return;i[t]=1;h[0]=t;l[0]=p=n[t];c[0]=d=n[t+1];while(1){if(p>=d){s[f]=h[u];if(u===0)return;++f;--u;p=l[u];d=c[u]}else{a=o[r[p]];if(i[a]===0){i[a]=1;l[u]=p;++u;h[u]=a;p=n[a];c[u]=d=n[a+1]}else++p}}};numeric.ccsLPSolve=function(t,n,r,i,s,o,u){var a=t[0],f=t[1],l=t[2],c=a.length-1,h=0;var p=n[0],d=n[1],v=n[2];var m,g,y,b,w,E,S,x,T,N,C,k;g=p[s];y=p[s+1];i.length=0;for(m=g;m<y;++m){u.dfs(o[d[m]],a,f,r,i,o)}for(m=i.length-1;m!==-1;--m){r[i[m]]=0}for(m=g;m!==y;++m){b=o[d[m]];r[b]=v[m]}for(m=i.length-1;m!==-1;--m){b=i[m];E=a[b];S=a[b+1];for(x=E;x<S;++x){if(o[f[x]]===b){r[b]/=l[x];break}}k=r[b];for(x=E;x<S;++x){T=o[f[x]];if(T!==b)r[T]-=k*l[x]}}return r};numeric.ccsLUP1=function(t,n){var r=t[0].length-1;var i=[numeric.rep([r+1],0),[],[]],s=[numeric.rep([r+1],0),[],[]];var o=i[0],u=i[1],a=i[2],f=s[0],l=s[1],c=s[2];var h=numeric.rep([r],0),p=numeric.rep([r],0);var d,v,m,g,y,b,w,E,S,x;var T=numeric.ccsLPSolve,N=Math.max,C=Math.abs;var k=numeric.linspace(0,r-1),L=numeric.linspace(0,r-1);var A=new numeric.ccsDFS(r);if(typeof n==="undefined"){n=1}for(d=0;d<r;++d){T(i,t,h,p,d,L,A);b=-1;w=-1;for(v=p.length-1;v!==-1;--v){m=p[v];if(m<=d)continue;E=C(h[m]);if(E>b){w=m;b=E}}if(C(h[d])<n*b){v=k[d];b=k[w];k[d]=b;L[b]=d;k[w]=v;L[v]=w;b=h[d];h[d]=h[w];h[w]=b}b=o[d];w=f[d];S=h[d];u[b]=k[d];a[b]=1;++b;for(v=p.length-1;v!==-1;--v){m=p[v];E=h[m];p[v]=0;h[m]=0;if(m<=d){l[w]=m;c[w]=E;++w}else{u[b]=k[m];a[b]=E/S;++b}}o[d+1]=b;f[d+1]=w}for(v=u.length-1;v!==-1;--v){u[v]=L[u[v]]}return{L:i,U:s,P:k,Pinv:L}};numeric.ccsDFS0=function(t){this.k=Array(t);this.k1=Array(t);this.j=Array(t)};numeric.ccsDFS0.prototype.dfs=function(t,n,r,i,s,o,u){var a=0,f,l=s.length;var c=this.k,h=this.k1,p=this.j,d,v;if(i[t]!==0)return;i[t]=1;p[0]=t;c[0]=d=n[o[t]];h[0]=v=n[o[t]+1];while(1){if(isNaN(d))throw new Error("Ow!");if(d>=v){s[l]=o[p[a]];if(a===0)return;++l;--a;d=c[a];v=h[a]}else{f=r[d];if(i[f]===0){i[f]=1;c[a]=d;++a;p[a]=f;f=o[f];d=n[f];h[a]=v=n[f+1]}else++d}}};numeric.ccsLPSolve0=function(t,n,r,i,s,o,u,a){var f=t[0],l=t[1],c=t[2],h=f.length-1,p=0;var d=n[0],v=n[1],m=n[2];var g,y,b,w,E,S,x,T,N,C,k,L;y=d[s];b=d[s+1];i.length=0;for(g=y;g<b;++g){a.dfs(v[g],f,l,r,i,o,u)}for(g=i.length-1;g!==-1;--g){w=i[g];r[u[w]]=0}for(g=y;g!==b;++g){w=v[g];r[w]=m[g]}for(g=i.length-1;g!==-1;--g){w=i[g];N=u[w];S=f[w];x=f[w+1];for(T=S;T<x;++T){if(l[T]===N){r[N]/=c[T];break}}L=r[N];for(T=S;T<x;++T)r[l[T]]-=L*c[T];r[N]=L}};numeric.ccsLUP0=function(t,n){var r=t[0].length-1;var i=[numeric.rep([r+1],0),[],[]],s=[numeric.rep([r+1],0),[],[]];var o=i[0],u=i[1],a=i[2],f=s[0],l=s[1],c=s[2];var h=numeric.rep([r],0),p=numeric.rep([r],0);var d,v,m,g,y,b,w,E,S,x;var T=numeric.ccsLPSolve0,N=Math.max,C=Math.abs;var k=numeric.linspace(0,r-1),L=numeric.linspace(0,r-1);var A=new numeric.ccsDFS0(r);if(typeof n==="undefined"){n=1}for(d=0;d<r;++d){T(i,t,h,p,d,L,k,A);b=-1;w=-1;for(v=p.length-1;v!==-1;--v){m=p[v];if(m<=d)continue;E=C(h[k[m]]);if(E>b){w=m;b=E}}if(C(h[k[d]])<n*b){v=k[d];b=k[w];k[d]=b;L[b]=d;k[w]=v;L[v]=w}b=o[d];w=f[d];S=h[k[d]];u[b]=k[d];a[b]=1;++b;for(v=p.length-1;v!==-1;--v){m=p[v];E=h[k[m]];p[v]=0;h[k[m]]=0;if(m<=d){l[w]=m;c[w]=E;++w}else{u[b]=k[m];a[b]=E/S;++b}}o[d+1]=b;f[d+1]=w}for(v=u.length-1;v!==-1;--v){u[v]=L[u[v]]}return{L:i,U:s,P:k,Pinv:L}};numeric.ccsLUP=numeric.ccsLUP0;numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]};numeric.ccsGetBlock=function(t,n,r){var i=numeric.ccsDim(t),s=i[0],o=i[1];if(typeof n==="undefined"){n=numeric.linspace(0,s-1)}else if(typeof n==="number"){n=[n]}if(typeof r==="undefined"){r=numeric.linspace(0,o-1)}else if(typeof r==="number"){r=[r]}var u,a,f,l=n.length,c,h=r.length,p,d,v;var m=numeric.rep([o],0),g=[],y=[],b=[m,g,y];var w=t[0],E=t[1],S=t[2];var x=numeric.rep([s],0),T=0,N=numeric.rep([s],0);for(c=0;c<h;++c){d=r[c];var C=w[d];var k=w[d+1];for(u=C;u<k;++u){p=E[u];N[p]=1;x[p]=S[u]}for(u=0;u<l;++u){v=n[u];if(N[v]){g[T]=u;y[T]=x[n[u]];++T}}for(u=C;u<k;++u){p=E[u];N[p]=0}m[c+1]=T}return b};numeric.ccsDot=function(t,n){var r=t[0],i=t[1],s=t[2];var o=n[0],u=n[1],a=n[2];var f=numeric.ccsDim(t),l=numeric.ccsDim(n);var c=f[0],h=f[1],p=l[1];var d=numeric.rep([c],0),v=numeric.rep([c],0),m=Array(c);var g=numeric.rep([p],0),y=[],b=[],w=[g,y,b];var E,S,x,T,N,C,k,L,A,O,M;for(x=0;x!==p;++x){T=o[x];N=o[x+1];A=0;for(S=T;S<N;++S){O=u[S];M=a[S];C=r[O];k=r[O+1];for(E=C;E<k;++E){L=i[E];if(v[L]===0){m[A]=L;v[L]=1;A=A+1}d[L]=d[L]+s[E]*M}}T=g[x];N=T+A;g[x+1]=N;for(S=A-1;S!==-1;--S){M=T+S;E=m[S];y[M]=E;b[M]=d[E];v[E]=0;d[E]=0}g[x+1]=g[x]+A}return w};numeric.ccsLUPSolve=function(t,n){var r=t.L,i=t.U,s=t.P;var o=n[0];var u=false;if(typeof o!=="object"){n=[[0,n.length],numeric.linspace(0,n.length-1),n];o=n[0];u=true}var a=n[1],f=n[2];var l=r[0].length-1,c=o.length-1;var h=numeric.rep([l],0),p=Array(l);var d=numeric.rep([l],0),v=Array(l);var m=numeric.rep([c+1],0),g=[],y=[];var b=numeric.ccsTSolve;var w,E,S,x,T,N,C=0;for(w=0;w<c;++w){T=0;S=o[w];x=o[w+1];for(E=S;E<x;++E){N=t.Pinv[a[E]];v[T]=N;d[N]=f[E];++T}v.length=T;b(r,d,h,v,p);for(E=v.length-1;E!==-1;--E)d[v[E]]=0;b(i,h,d,p,v);if(u)return d;for(E=p.length-1;E!==-1;--E)h[p[E]]=0;for(E=v.length-1;E!==-1;--E){N=v[E];g[C]=N;y[C]=d[N];d[N]=0;++C}m[w+1]=C}return[m,g,y]};numeric.ccsbinop=function(t,n){if(typeof n==="undefined")n="";return Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\n"+"var Yi = Y[0], Yj = Y[1], Yv = Y[2];\n"+"var n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\n"+"var Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\n"+"var x = numeric.rep([m],0),y = numeric.rep([m],0);\n"+"var xk,yk,zk;\n"+"var i,j,j0,j1,k,p=0;\n"+n+"for(i=0;i<n;++i) {\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Xj[j];\n"+"    x[k] = 1;\n"+"    Zj[p] = k;\n"+"    ++p;\n"+"  }\n"+"  j0 = Yi[i]; j1 = Yi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Yj[j];\n"+"    y[k] = Yv[j];\n"+"    if(x[k] === 0) {\n"+"      Zj[p] = k;\n"+"      ++p;\n"+"    }\n"+"  }\n"+"  Zi[i+1] = p;\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n"+"  j0 = Zi[i]; j1 = Zi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Zj[j];\n"+"    xk = x[k];\n"+"    yk = y[k];\n"+t+"\n"+"    Zv[j] = zk;\n"+"  }\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n"+"  j0 = Yi[i]; j1 = Yi[i+1];\n"+"  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n"+"}\n"+"return [Zi,Zj,Zv];")};(function(){var k,A,B,C;for(k in numeric.ops2){if(isFinite(eval("1"+numeric.ops2[k]+"0")))A="[Y[0],Y[1],numeric."+k+"(X,Y[2])]";else A="NaN";if(isFinite(eval("0"+numeric.ops2[k]+"1")))B="[X[0],X[1],numeric."+k+"(X[2],Y)]";else B="NaN";if(isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1")))C="numeric.ccs"+k+"MM(X,Y)";else C="NaN";numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;");numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+";\n"+'if(typeof Y === "number") return '+B+";\n"+"return "+C+";\n")}})();numeric.ccsScatter=function(t){var n=t[0],r=t[1],i=t[2];var s=numeric.sup(r)+1,o=n.length;var u=numeric.rep([s],0),a=Array(o),f=Array(o);var l=numeric.rep([s],0),c;for(c=0;c<o;++c)l[r[c]]++;for(c=0;c<s;++c)u[c+1]=u[c]+l[c];var h=u.slice(0),p,d;for(c=0;c<o;++c){d=r[c];p=h[d];a[p]=n[c];f[p]=i[c];h[d]=h[d]+1}return[u,a,f]};numeric.ccsGather=function(t){var n=t[0],r=t[1],i=t[2];var s=n.length-1,o=r.length;var u=Array(o),a=Array(o),f=Array(o);var l,c,h,p,d;d=0;for(l=0;l<s;++l){h=n[l];p=n[l+1];for(c=h;c!==p;++c){a[d]=l;u[d]=r[c];f[d]=i[c];++d}}return[u,a,f]};numeric.sdim=function dim(e,t,n){if(typeof t==="undefined"){t=[]}if(typeof e!=="object")return t;if(typeof n==="undefined"){n=0}if(!(n in t)){t[n]=0}if(e.length>t[n])t[n]=e.length;var r;for(r in e){if(e.hasOwnProperty(r))dim(e[r],t,n+1)}return t};numeric.sclone=function clone(e,t,n){if(typeof t==="undefined"){t=0}if(typeof n==="undefined"){n=numeric.sdim(e).length}var r,i=Array(e.length);if(t===n-1){for(r in e){if(e.hasOwnProperty(r))i[r]=e[r]}return i}for(r in e){if(e.hasOwnProperty(r))i[r]=clone(e[r],t+1,n)}return i};numeric.sdiag=function(t){var n=t.length,r,i=Array(n),s,o,u;for(r=n-1;r>=1;r-=2){s=r-1;i[r]=[];i[r][r]=t[r];i[s]=[];i[s][s]=t[s]}if(r===0){i[0]=[];i[0][0]=t[r]}return i};numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))};numeric.stranspose=function(t){var n=[],r=t.length,i,s,o;for(i in t){if(!t.hasOwnProperty(i))continue;o=t[i];for(s in o){if(!o.hasOwnProperty(s))continue;if(typeof n[s]!=="object"){n[s]=[]}n[s][i]=o[s]}}return n};numeric.sLUP=function(t,n){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")};numeric.sdotMM=function(t,n){var r=t.length,i=n.length,s=numeric.stranspose(n),o=s.length,u,a;var f,l,c,h;var p=Array(r),d;for(f=r-1;f>=0;f--){d=[];u=t[f];for(c=o-1;c>=0;c--){h=0;a=s[c];for(l in u){if(!u.hasOwnProperty(l))continue;if(l in a){h+=u[l]*a[l]}}if(h)d[c]=h}p[f]=d}return p};numeric.sdotMV=function(t,n){var r=t.length,i,s,o;var u=Array(r),a;for(s=r-1;s>=0;s--){i=t[s];a=0;for(o in i){if(!i.hasOwnProperty(o))continue;if(n[o])a+=i[o]*n[o]}if(a)u[s]=a}return u};numeric.sdotVM=function(t,n){var r,i,s,o;var u=[],a;for(r in t){if(!t.hasOwnProperty(r))continue;s=n[r];o=t[r];for(i in s){if(!s.hasOwnProperty(i))continue;if(!u[i]){u[i]=0}u[i]+=o*s[i]}}return u};numeric.sdotVV=function(t,n){var r,i=0;for(r in t){if(t[r]&&n[r])i+=t[r]*n[r]}return i};numeric.sdot=function(t,n){var r=numeric.sdim(t).length,i=numeric.sdim(n).length;var s=r*1e3+i;switch(s){case 0:return t*n;case 1001:return numeric.sdotVV(t,n);case 2001:return numeric.sdotMV(t,n);case 1002:return numeric.sdotVM(t,n);case 2002:return numeric.sdotMM(t,n);default:throw new Error("numeric.sdot not implemented for tensors of order "+r+" and "+i)}};numeric.sscatter=function(t){var n=t[0].length,r,i,s,o=t.length,u=[],a;for(i=n-1;i>=0;--i){if(!t[o-1][i])continue;a=u;for(s=0;s<o-2;s++){r=t[s][i];if(!a[r])a[r]=[];a=a[r]}a[t[s][i]]=t[s+1][i]}return u};numeric.sgather=function gather(e,t,n){if(typeof t==="undefined")t=[];if(typeof n==="undefined")n=[];var r,i,s;r=n.length;for(i in e){if(e.hasOwnProperty(i)){n[r]=parseInt(i);s=e[i];if(typeof s==="number"){if(s){if(t.length===0){for(i=r+1;i>=0;--i)t[i]=[]}for(i=r;i>=0;--i)t[i].push(n[i]);t[r+1].push(s)}}else gather(s,t,n)}}if(n.length>r)n.pop();return t};numeric.cLU=function(t){var n=t[0],r=t[1],i=t[2];var s=n.length,o=0,u,a,f,l,c,h;for(u=0;u<s;u++)if(n[u]>o)o=n[u];o++;var p=Array(o),d=Array(o),v=numeric.rep([o],Infinity),m=numeric.rep([o],-Infinity);var g,y,b;for(f=0;f<s;f++){u=n[f];a=r[f];if(a<v[u])v[u]=a;if(a>m[u])m[u]=a}for(u=0;u<o-1;u++){if(m[u]>m[u+1])m[u+1]=m[u]}for(u=o-1;u>=1;u--){if(v[u]<v[u-1])v[u-1]=v[u]}var w=0,E=0;for(u=0;u<o;u++){d[u]=numeric.rep([m[u]-v[u]+1],0);p[u]=numeric.rep([u-v[u]],0);w+=u-v[u]+1;E+=m[u]-u+1}for(f=0;f<s;f++){u=n[f];d[u][r[f]-v[u]]=i[f]}for(u=0;u<o-1;u++){l=u-v[u];g=d[u];for(a=u+1;v[a]<=u&&a<o;a++){c=u-v[a];h=m[u]-u;y=d[a];b=y[c]/g[l];if(b){for(f=1;f<=h;f++){y[f+c]-=b*g[f+l]}p[a][u-v[a]]=b}}}var g=[],y=[],S=[],x=[],T=[],N=[];var s,C,k;s=0;C=0;for(u=0;u<o;u++){l=v[u];c=m[u];k=d[u];for(a=u;a<=c;a++){if(k[a-l]){g[s]=u;y[s]=a;S[s]=k[a-l];s++}}k=p[u];for(a=l;a<u;a++){if(k[a-l]){x[C]=u;T[C]=a;N[C]=k[a-l];C++}}x[C]=u;T[C]=u;N[C]=1;C++}return{U:[g,y,S],L:[x,T,N]}};numeric.cLUsolve=function(t,n){var r=t.L,i=t.U,s=numeric.clone(n);var o=r[0],u=r[1],a=r[2];var f=i[0],l=i[1],c=i[2];var h=f.length,p=o.length;var d=s.length,v,m,g;g=0;for(v=0;v<d;v++){while(u[g]<v){s[v]-=a[g]*s[u[g]];g++}g++}g=h-1;for(v=d-1;v>=0;v--){while(l[g]>v){s[v]-=c[g]*s[l[g]];g--}s[v]/=c[g];g--}return s};numeric.cgrid=function(t,n){if(typeof t==="number")t=[t,t];var r=numeric.rep(t,-1);var i,s,o;if(typeof n!=="function"){switch(n){case"L":n=function(e,n){return e>=t[0]/2||n<t[1]/2};break;default:n=function(e,t){return true};break}}o=0;for(i=1;i<t[0]-1;i++)for(s=1;s<t[1]-1;s++)if(n(i,s)){r[i][s]=o;o++}return r};numeric.cdelsq=function(t){var n=[[-1,0],[0,-1],[0,1],[1,0]];var r=numeric.dim(t),i=r[0],s=r[1],o,u,a,f,l;var c=[],h=[],p=[];for(o=1;o<i-1;o++)for(u=1;u<s-1;u++){if(t[o][u]<0)continue;for(a=0;a<4;a++){f=o+n[a][0];l=u+n[a][1];if(t[f][l]<0)continue;c.push(t[o][u]);h.push(t[f][l]);p.push(-1)}c.push(t[o][u]);h.push(t[o][u]);p.push(4)}return[c,h,p]};numeric.cdotMV=function(t,n){var r,i=t[0],s=t[1],o=t[2],u,a=i.length,f;f=0;for(u=0;u<a;u++){if(i[u]>f)f=i[u]}f++;r=numeric.rep([f],0);for(u=0;u<a;u++){r[i[u]]+=o[u]*n[s[u]]}return r};numeric.Spline=function(t,n,r,i,s){this.x=t;this.yl=n;this.yr=r;this.kl=i;this.kr=s};numeric.Spline.prototype._at=function(t,n){var r=this.x;var i=this.yl;var s=this.yr;var o=this.kl;var u=this.kr;var t,a,f,l;var c=numeric.add,h=numeric.sub,p=numeric.mul;a=h(p(o[n],r[n+1]-r[n]),h(s[n+1],i[n]));f=c(p(u[n+1],r[n]-r[n+1]),h(s[n+1],i[n]));l=(t-r[n])/(r[n+1]-r[n]);var d=l*(1-l);return c(c(c(p(1-l,i[n]),p(l,s[n+1])),p(a,d*(1-l))),p(f,d*l))};numeric.Spline.prototype.at=function(t){if(typeof t==="number"){var n=this.x;var r=n.length;var i,s,o,u=Math.floor,a,f,l;i=0;s=r-1;while(s-i>1){o=u((i+s)/2);if(n[o]<=t)i=o;else s=o}return this._at(t,i)}var r=t.length,c,h=Array(r);for(c=r-1;c!==-1;--c)h[c]=this.at(t[c]);return h};numeric.Spline.prototype.diff=function(){var t=this.x;var n=this.yl;var r=this.yr;var i=this.kl;var s=this.kr;var o=n.length;var u,a,f;var l=i,c=s,h=Array(o),p=Array(o);var d=numeric.add,v=numeric.mul,m=numeric.div,g=numeric.sub;for(u=o-1;u!==-1;--u){a=t[u+1]-t[u];f=g(r[u+1],n[u]);h[u]=m(d(v(f,6),v(i[u],-4*a),v(s[u+1],-2*a)),a*a);p[u+1]=m(d(v(f,-6),v(i[u],2*a),v(s[u+1],4*a)),a*a)}return new numeric.Spline(t,l,c,h,p)};numeric.Spline.prototype.roots=function(){function t(e){return e*e}function n(e,t,n,r,i){var s=n*2-(t-e);var o=-r*2+(t-e);var u=(i+1)*.5;var a=u*(1-u);return(1-u)*e+u*t+s*a*(1-u)+o*a*u}var r=[];var i=this.x,s=this.yl,o=this.yr,u=this.kl,a=this.kr;if(typeof s[0]==="number"){s=[s];o=[o];u=[u];a=[a]}var f=s.length,l=i.length-1,c,h,p,d,v,m;var g,y,b,w,r=Array(f),E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j;var F=Math.sqrt;for(c=0;c!==f;++c){g=s[c];y=o[c];b=u[c];w=a[c];E=[];for(h=0;h!==l;h++){if(h>0&&y[h]*g[h]<0)E.push(i[h]);A=i[h+1]-i[h];O=i[h];T=g[h];N=y[h+1];S=b[h]/A;x=w[h+1]/A;L=t(S-x+3*(T-N))+12*x*T;C=x+3*T+2*S-3*N;k=3*(x+S+2*(T-N));if(L<=0){_=C/k;if(_>i[h]&&_<i[h+1])M=[i[h],_,i[h+1]];else M=[i[h],i[h+1]]}else{_=(C-F(L))/k;D=(C+F(L))/k;M=[i[h]];if(_>i[h]&&_<i[h+1])M.push(_);if(D>i[h]&&D<i[h+1])M.push(D);M.push(i[h+1])}H=M[0];_=this._at(H,h);for(p=0;p<M.length-1;p++){B=M[p+1];D=this._at(B,h);if(_===0){E.push(H);H=B;_=D;continue}if(D===0||_*D>0){H=B;_=D;continue}var I=0;while(1){j=(_*B-D*H)/(_-D);if(j<=H||j>=B){break}P=this._at(j,h);if(P*D>0){B=j;D=P;if(I===-1)_*=.5;I=-1}else if(P*_>0){H=j;_=P;if(I===1)D*=.5;I=1}else break}E.push(j);H=M[p+1];_=this._at(H,h)}if(D===0)E.push(B)}r[c]=E}if(typeof this.yl[0]==="number")return r[0];return r};numeric.spline=function(t,n,r,i){var s=t.length,o=[],u=[],a=[];var f;var l=numeric.sub,c=numeric.mul,h=numeric.add;for(f=s-2;f>=0;f--){u[f]=t[f+1]-t[f];a[f]=l(n[f+1],n[f])}if(typeof r==="string"||typeof i==="string"){r=i="periodic"}var p=[[],[],[]];switch(typeof r){case"undefined":o[0]=c(3/(u[0]*u[0]),a[0]);p[0].push(0,0);p[1].push(0,1);p[2].push(2/u[0],1/u[0]);break;case"string":o[0]=h(c(3/(u[s-2]*u[s-2]),a[s-2]),c(3/(u[0]*u[0]),a[0]));p[0].push(0,0,0);p[1].push(s-2,0,1);p[2].push(1/u[s-2],2/u[s-2]+2/u[0],1/u[0]);break;default:o[0]=r;p[0].push(0);p[1].push(0);p[2].push(1);break}for(f=1;f<s-1;f++){o[f]=h(c(3/(u[f-1]*u[f-1]),a[f-1]),c(3/(u[f]*u[f]),a[f]));p[0].push(f,f,f);p[1].push(f-1,f,f+1);p[2].push(1/u[f-1],2/u[f-1]+2/u[f],1/u[f])}switch(typeof i){case"undefined":o[s-1]=c(3/(u[s-2]*u[s-2]),a[s-2]);p[0].push(s-1,s-1);p[1].push(s-2,s-1);p[2].push(1/u[s-2],2/u[s-2]);break;case"string":p[1][p[1].length-1]=0;break;default:o[s-1]=i;p[0].push(s-1);p[1].push(s-1);p[2].push(1);break}if(typeof o[0]!=="number")o=numeric.transpose(o);else o=[o];var d=Array(o.length);if(typeof r==="string"){for(f=d.length-1;f!==-1;--f){d[f]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(p)),o[f]);d[f][s-1]=d[f][0]}}else{for(f=d.length-1;f!==-1;--f){d[f]=numeric.cLUsolve(numeric.cLU(p),o[f])}}if(typeof n[0]==="number")d=d[0];else d=numeric.transpose(d);return new numeric.Spline(t,n,n,d,d)};numeric.fftpow2=function fftpow2(e,t){var n=e.length;if(n===1)return;var r=Math.cos,i=Math.sin,s,o;var u=Array(n/2),a=Array(n/2),f=Array(n/2),l=Array(n/2);o=n/2;for(s=n-1;s!==-1;--s){--o;f[o]=e[s];l[o]=t[s];--s;u[o]=e[s];a[o]=t[s]}fftpow2(u,a);fftpow2(f,l);o=n/2;var c,h=-6.283185307179586/n,p,d;for(s=n-1;s!==-1;--s){--o;if(o===-1)o=n/2-1;c=h*s;p=r(c);d=i(c);e[s]=u[o]+p*f[o]-d*l[o];t[s]=a[o]+p*l[o]+d*f[o]}};numeric._ifftpow2=function _ifftpow2(e,t){var n=e.length;if(n===1)return;var r=Math.cos,i=Math.sin,s,o;var u=Array(n/2),a=Array(n/2),f=Array(n/2),l=Array(n/2);o=n/2;for(s=n-1;s!==-1;--s){--o;f[o]=e[s];l[o]=t[s];--s;u[o]=e[s];a[o]=t[s]}_ifftpow2(u,a);_ifftpow2(f,l);o=n/2;var c,h=6.283185307179586/n,p,d;for(s=n-1;s!==-1;--s){--o;if(o===-1)o=n/2-1;c=h*s;p=r(c);d=i(c);e[s]=u[o]+p*f[o]-d*l[o];t[s]=a[o]+p*l[o]+d*f[o]}};numeric.ifftpow2=function(t,n){numeric._ifftpow2(t,n);numeric.diveq(t,t.length);numeric.diveq(n,n.length)};numeric.convpow2=function(t,n,r,i){numeric.fftpow2(t,n);numeric.fftpow2(r,i);var s,o=t.length,u,a,f,l;for(s=o-1;s!==-1;--s){u=t[s];f=n[s];a=r[s];l=i[s];t[s]=u*a-f*l;n[s]=u*l+f*a}numeric.ifftpow2(t,n)};numeric.T.prototype.fft=function(){var t=this.x,n=this.y;var r=t.length,i=Math.log,s=i(2),o=Math.ceil(i(2*r-1)/s),u=Math.pow(2,o);var a=numeric.rep([u],0),f=numeric.rep([u],0),l=Math.cos,c=Math.sin;var h,p=-3.141592653589793/r,d;var v=numeric.rep([u],0),m=numeric.rep([u],0),g=Math.floor(r/2);for(h=0;h<r;h++)v[h]=t[h];if(typeof n!=="undefined")for(h=0;h<r;h++)m[h]=n[h];a[0]=1;for(h=1;h<=u/2;h++){d=p*h*h;a[h]=l(d);f[h]=c(d);a[u-h]=l(d);f[u-h]=c(d)}var y=new numeric.T(v,m),b=new numeric.T(a,f);y=y.mul(b);numeric.convpow2(y.x,y.y,numeric.clone(b.x),numeric.neg(b.y));y=y.mul(b);y.x.length=r;y.y.length=r;return y};numeric.T.prototype.ifft=function(){var t=this.x,n=this.y;var r=t.length,i=Math.log,s=i(2),o=Math.ceil(i(2*r-1)/s),u=Math.pow(2,o);var a=numeric.rep([u],0),f=numeric.rep([u],0),l=Math.cos,c=Math.sin;var h,p=3.141592653589793/r,d;var v=numeric.rep([u],0),m=numeric.rep([u],0),g=Math.floor(r/2);for(h=0;h<r;h++)v[h]=t[h];if(typeof n!=="undefined")for(h=0;h<r;h++)m[h]=n[h];a[0]=1;for(h=1;h<=u/2;h++){d=p*h*h;a[h]=l(d);f[h]=c(d);a[u-h]=l(d);f[u-h]=c(d)}var y=new numeric.T(v,m),b=new numeric.T(a,f);y=y.mul(b);numeric.convpow2(y.x,y.y,numeric.clone(b.x),numeric.neg(b.y));y=y.mul(b);y.x.length=r;y.y.length=r;return y.div(r)};numeric.gradient=function(t,n){var r=n.length;var i=t(n);if(isNaN(i))throw new Error("gradient: f(x) is a NaN!");var s=Math.max;var o,u=numeric.clone(n),a,f,l=Array(r);var c=numeric.div,h=numeric.sub,p,d,s=Math.max,v=.001,m=Math.abs,g=Math.min;var y,b,w,E=0,S,x,T;for(o=0;o<r;o++){var N=s(1e-6*i,1e-8);while(1){++E;if(E>20){throw new Error("Numerical gradient fails")}u[o]=n[o]+N;a=t(u);u[o]=n[o]-N;f=t(u);u[o]=n[o];if(isNaN(a)||isNaN(f)){N/=16;continue}l[o]=(a-f)/(2*N);y=n[o]-N;b=n[o];w=n[o]+N;S=(a-i)/N;x=(i-f)/N;T=s(m(l[o]),m(i),m(a),m(f),m(y),m(b),m(w),1e-8);p=g(s(m(S-l[o]),m(x-l[o]),m(S-x))/T,N/T);if(p>v){N/=16}else break}}return l};numeric.uncmin=function(t,n,r,i,s,o,u){var a=numeric.gradient;if(typeof u==="undefined"){u={}}if(typeof r==="undefined"){r=1e-8}if(typeof i==="undefined"){i=function(e){return a(t,e)}}if(typeof s==="undefined")s=1e3;n=numeric.clone(n);var f=n.length;var l=t(n),c,h;if(isNaN(l))throw new Error("uncmin: f(x0) is a NaN!");var p=Math.max,d=numeric.norm2;r=p(r,numeric.epsilon);var v,m,g,y=u.Hinv||numeric.identity(f);var b=numeric.dot,w=numeric.inv,E=numeric.sub,S=numeric.add,x=numeric.tensor,T=numeric.div,N=numeric.mul;var C=numeric.all,k=numeric.isFinite,L=numeric.neg;var A=0,O,M,_,D,P,H,B,j,F,I,q,R;var U="";m=i(n);while(A<s){if(typeof o==="function"){if(o(A,n,l,m,y)){U="Callback returned true";break}}if(!C(k(m))){U="Gradient has Infinity or NaN";break}v=L(b(y,m));if(!C(k(v))){U="Search direction has Infinity or NaN";break}I=d(v);if(I<r){U="Newton step smaller than tol";break}F=1;h=b(m,v);_=n;while(A<s){if(F*I<r){break}M=N(v,F);_=S(n,M);c=t(_);if(c-l>=.1*F*h||isNaN(c)){F*=.5;++A;continue}break}if(F*I<r){U="Line search step size smaller than tol";break}if(A===s){U="maxit reached during line search";break}g=i(_);D=E(g,m);B=b(D,M);P=b(y,D);y=E(S(y,N((B+b(D,P))/(B*B),x(M,M))),T(S(x(P,M),x(M,P)),B));n=_;l=c;m=g;++A}return{solution:n,f:l,gradient:m,invHessian:y,iterations:A,message:U}};numeric.Dopri=function(t,n,r,i,s,o,u){this.x=t;this.y=n;this.f=r;this.ymid=i;this.iterations=s;this.events=u;this.message=o};numeric.Dopri.prototype._at=function(t,n){function r(e){return e*e}var i=this;var s=i.x;var o=i.y;var u=i.f;var a=i.ymid;var f=s.length;var l,c,h,p,d,v,t;var m=Math.floor,g;var y=.5;var b=numeric.add,w=numeric.mul,E=numeric.sub,S,x,T;l=s[n];c=s[n+1];p=o[n];d=o[n+1];g=c-l;h=l+y*g;v=a[n];S=E(u[n],w(p,1/(l-h)+2/(l-c)));x=E(u[n+1],w(d,1/(c-h)+2/(c-l)));T=[r(t-c)*(t-h)/r(l-c)/(l-h),r(t-l)*r(t-c)/r(l-h)/r(c-h),r(t-l)*(t-h)/r(c-l)/(c-h),(t-l)*r(t-c)*(t-h)/r(l-c)/(l-h),(t-c)*r(t-l)*(t-h)/r(l-c)/(c-h)];return b(b(b(b(w(p,T[0]),w(v,T[1])),w(d,T[2])),w(S,T[3])),w(x,T[4]))};numeric.Dopri.prototype.at=function(t){var n,r,i,s=Math.floor;if(typeof t!=="number"){var o=t.length,u=Array(o);for(n=o-1;n!==-1;--n){u[n]=this.at(t[n])}return u}var a=this.x;n=0;r=a.length-1;while(r-n>1){i=s(.5*(n+r));if(a[i]<=t)n=i;else r=i}return this._at(t,n)};numeric.dopri=function(t,n,r,i,s,o,u){if(typeof s==="undefined"){s=1e-6}if(typeof o==="undefined"){o=1e3}var a=[t],f=[r],l=[i(t,r)],c,h,p,d,v,m,g=[];var y=1/5;var b=[3/40,9/40];var w=[44/45,-56/15,32/9];var E=[19372/6561,-25360/2187,64448/6561,-212/729];var S=[9017/3168,-355/33,46732/5247,49/176,-5103/18656];var x=[35/384,0,500/1113,125/192,-2187/6784,11/84];var T=[.5*6025192743/30085553152,0,.5*51252292925/65400821598,.5*-2691868925/45128329728,.5*187940372067/1594534317056,.5*-1776094331/19743644256,.5*11237099/235043384];var N=[1/5,3/10,4/5,8/9,1,1];var C=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40];var k=0,L,A;var O=(n-t)/10;var M=0;var _=numeric.add,D=numeric.mul,P,H;var B=Math.max,j=Math.min,F=Math.abs,I=numeric.norminf,q=Math.pow;var R=numeric.any,U=numeric.lt,z=numeric.and,W=numeric.sub;var X,V,$;var J=new numeric.Dopri(a,f,l,g,-1,"");if(typeof u==="function")X=u(t,r);while(t<n&&M<o){++M;if(t+O>n)O=n-t;c=i(t+N[0]*O,_(r,D(y*O,l[k])));h=i(t+N[1]*O,_(_(r,D(b[0]*O,l[k])),D(b[1]*O,c)));p=i(t+N[2]*O,_(_(_(r,D(w[0]*O,l[k])),D(w[1]*O,c)),D(w[2]*O,h)));d=i(t+N[3]*O,_(_(_(_(r,D(E[0]*O,l[k])),D(E[1]*O,c)),D(E[2]*O,h)),D(E[3]*O,p)));v=i(t+N[4]*O,_(_(_(_(_(r,D(S[0]*O,l[k])),D(S[1]*O,c)),D(S[2]*O,h)),D(S[3]*O,p)),D(S[4]*O,d)));P=_(_(_(_(_(r,D(l[k],O*x[0])),D(h,O*x[2])),D(p,O*x[3])),D(d,O*x[4])),D(v,O*x[5]));m=i(t+O,P);L=_(_(_(_(_(D(l[k],O*C[0]),D(h,O*C[2])),D(p,O*C[3])),D(d,O*C[4])),D(v,O*C[5])),D(m,O*C[6]));if(typeof L==="number")H=F(L);else H=I(L);if(H>s){O=.2*O*q(s/H,.25);if(t+O===t){J.msg="Step size became too small";break}continue}g[k]=_(_(_(_(_(_(r,D(l[k],O*T[0])),D(h,O*T[2])),D(p,O*T[3])),D(d,O*T[4])),D(v,O*T[5])),D(m,O*T[6]));++k;a[k]=t+O;f[k]=P;l[k]=m;if(typeof u==="function"){var K,Q=t,G=t+.5*O,Y;V=u(G,g[k-1]);$=z(U(X,0),U(0,V));if(!R($)){Q=G;G=t+O;X=V;V=u(G,P);$=z(U(X,0),U(0,V))}if(R($)){var Z,et,tt,nt;var rt=0,it=1,st=1;while(1){if(typeof X==="number")Y=(st*V*Q-it*X*G)/(st*V-it*X);else{Y=G;for(A=X.length-1;A!==-1;--A){if(X[A]<0&&V[A]>0)Y=j(Y,(st*V[A]*Q-it*X[A]*G)/(st*V[A]-it*X[A]))}}if(Y<=Q||Y>=G)break;K=J._at(Y,k-1);nt=u(Y,K);tt=z(U(X,0),U(0,nt));if(R(tt)){G=Y;V=nt;$=tt;st=1;if(rt===-1)it*=.5;else it=1;rt=-1}else{Q=Y;X=nt;it=1;if(rt===1)st*=.5;else st=1;rt=1}}P=J._at(.5*(t+Y),k-1);J.f[k]=i(Y,K);J.x[k]=Y;J.y[k]=K;J.ymid[k-1]=P;J.events=$;J.iterations=M;return J}}t+=O;r=P;X=V;O=j(.8*O*q(s/H,.25),4*O)}J.iterations=M;return J};numeric.LU=function(e,t){t=t||false;var n=Math.abs;var r,i,s,o,u,a,f,l;var c;var h=e.length,p=h-1;var d=new Array(h);if(!t)e=numeric.clone(e);for(s=0;s<h;++s){f=s;a=e[s];c=n(a[s]);for(i=s+1;i<h;++i){o=n(e[i][s]);if(c<o){c=o;f=i}}d[s]=f;if(f!=s){e[s]=e[f];e[f]=a;a=e[s]}u=a[s];for(r=s+1;r<h;++r){e[r][s]/=u}for(r=s+1;r<h;++r){l=e[r];for(i=s+1;i<p;++i){l[i]-=l[s]*a[i];++i;l[i]-=l[s]*a[i]}if(i===p)l[i]-=l[s]*a[i]}}return{LU:e,P:d}};numeric.LUsolve=function(t,n){var r,i;var s=t.LU;var o=s.length;var u=numeric.clone(n);var a=t.P;var f,l,c,h;for(r=o-1;r!==-1;--r)u[r]=n[r];for(r=0;r<o;++r){f=a[r];if(a[r]!==r){h=u[r];u[r]=u[f];u[f]=h}l=s[r];for(i=0;i<r;++i){u[r]-=u[i]*l[i]}}for(r=o-1;r>=0;--r){l=s[r];for(i=r+1;i<o;++i){u[r]-=u[i]*l[i]}u[r]/=l[r]}return u};numeric.solve=function(t,n,r){return numeric.LUsolve(numeric.LU(t,r),n)};numeric.echelonize=function(t){var n=numeric.dim(t),r=n[0],i=n[1];var s=numeric.identity(r);var o=Array(r);var u,a,f,l,c,h,p,d;var v=Math.abs;var m=numeric.diveq;t=numeric.clone(t);for(u=0;u<r;++u){f=0;c=t[u];h=s[u];for(a=1;a<i;++a)if(v(c[f])<v(c[a]))f=a;o[u]=f;m(h,c[f]);m(c,c[f]);for(a=0;a<r;++a)if(a!==u){p=t[a];d=p[f];for(l=i-1;l!==-1;--l)p[l]-=c[l]*d;p=s[a];for(l=r-1;l!==-1;--l)p[l]-=h[l]*d}}return{I:s,A:t,P:o}};numeric.__solveLP=function(t,n,r,i,s,o,u){var a=numeric.sum,f=numeric.log,l=numeric.mul,c=numeric.sub,h=numeric.dot,p=numeric.div,d=numeric.add;var v=t.length,m=r.length,g;var y=false,b,w=0;var E=1;var S,x,T=numeric.transpose(n),N=numeric.svd,C=numeric.transpose,k=numeric.leq,L=Math.sqrt,A=Math.abs;var O=numeric.muleq;var M=numeric.norminf,_=numeric.any,D=Math.min;var P=numeric.all,H=numeric.gt;var B=Array(v),j=Array(m),F=numeric.rep([m],1),I;var q=numeric.solve,R=c(r,h(n,o)),U;var z=h(t,t);var W;for(U=w;U<s;++U){var X,V,$;for(X=m-1;X!==-1;--X)j[X]=p(n[X],R[X]);var J=C(j);for(X=v-1;X!==-1;--X)B[X]=a(J[X]);E=.25*A(z/h(t,B));var K=100*L(z/h(B,B));if(!isFinite(E)||E>K)E=K;W=d(t,l(E,B));I=h(J,j);for(X=v-1;X!==-1;--X)I[X][X]+=1;$=q(I,p(W,E),true);var Q=p(R,h(n,$));var G=1;for(X=m-1;X!==-1;--X)if(Q[X]<0)G=D(G,-.999*Q[X]);g=c(o,l($,G));R=c(r,h(n,g));if(!P(H(R,0)))return{solution:o,message:"",iterations:U};o=g;if(E<i)return{solution:g,message:"",iterations:U};if(u){var Y=h(t,W),Z=h(n,W);y=true;for(X=m-1;X!==-1;--X)if(Y*Z[X]<0){y=false;break}}else{if(o[v-1]>=0)y=false;else y=true}if(y)return{solution:g,message:"Unbounded",iterations:U}}return{solution:o,message:"maximum iteration count exceeded",iterations:U}};numeric._solveLP=function(t,n,r,i,s){var o=t.length,u=r.length,a;var f=numeric.sum,l=numeric.log,c=numeric.mul,h=numeric.sub,p=numeric.dot,d=numeric.div,v=numeric.add;var m=numeric.rep([o],0).concat([1]);var g=numeric.rep([u,1],-1);var y=numeric.blockMatrix([[n,g]]);var b=r;var a=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(r)))+1);var w=numeric.__solveLP(m,y,b,i,s,a,false);var E=numeric.clone(w.solution);E.length=o;var S=numeric.inf(h(r,p(n,E)));if(S<0){return{solution:NaN,message:"Infeasible",iterations:w.iterations}}var x=numeric.__solveLP(t,n,r,i,s-w.iterations,E,true);x.iterations+=w.iterations;return x};numeric.solveLP=function(t,n,r,i,s,o,u){if(typeof u==="undefined")u=1e3;if(typeof o==="undefined")o=numeric.epsilon;if(typeof i==="undefined")return numeric._solveLP(t,n,r,o,u);var a=i.length,f=i[0].length,l=n.length;var c=numeric.echelonize(i);var h=numeric.rep([f],0);var p=c.P;var d=[];var v;for(v=p.length-1;v!==-1;--v)h[p[v]]=1;for(v=f-1;v!==-1;--v)if(h[v]===0)d.push(v);var m=numeric.getRange;var g=numeric.linspace(0,a-1),y=numeric.linspace(0,l-1);var b=m(i,g,d),w=m(n,y,p),E=m(n,y,d),S=numeric.dot,x=numeric.sub;var T=S(w,c.I);var N=x(E,S(T,b)),C=x(r,S(T,s));var k=Array(p.length),L=Array(d.length);for(v=p.length-1;v!==-1;--v)k[v]=t[p[v]];for(v=d.length-1;v!==-1;--v)L[v]=t[d[v]];var A=x(L,S(k,S(c.I,b)));var O=numeric._solveLP(A,N,C,o,u);var M=O.solution;if(M!==M)return O;var _=S(c.I,x(s,S(b,M)));var D=Array(t.length);for(v=p.length-1;v!==-1;--v)D[p[v]]=_[v];for(v=d.length-1;v!==-1;--v)D[d[v]]=M[v];return{solution:D,message:O.message,iterations:O.iterations}};numeric.MPStoLP=function(t){function y(e){throw new Error("MPStoLP: "+e+"\nLine "+s+": "+t[s]+"\nCurrent state: "+r[n]+"\n")}if(t instanceof String){t.split("\n")}var n=0;var r=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"];var i=t.length;var s,o,u,a=0,f={},l=[],c=0,h={},p=0;var d;var v=[],m=[],g=[];for(s=0;s<i;++s){u=t[s];var b=u.match(/\S*/g);var w=[];for(o=0;o<b.length;++o)if(b[o]!=="")w.push(b[o]);if(w.length===0)continue;for(o=0;o<r.length;++o)if(u.substr(0,r[o].length)===r[o])break;if(o<r.length){n=o;if(o===1){d=w[1]}if(o===6)return{name:d,c:v,A:numeric.transpose(m),b:g,rows:f,vars:h};continue}switch(n){case 0:case 1:y("Unexpected line");case 2:switch(w[0]){case"N":if(a===0)a=w[1];else y("Two or more N rows");break;case"L":f[w[1]]=c;l[c]=1;g[c]=0;++c;break;case"G":f[w[1]]=c;l[c]=-1;g[c]=0;++c;break;case"E":f[w[1]]=c;l[c]=0;g[c]=0;++c;break;default:y("Parse error "+numeric.prettyPrint(w))}break;case 3:if(!h.hasOwnProperty(w[0])){h[w[0]]=p;v[p]=0;m[p]=numeric.rep([c],0);++p}var E=h[w[0]];for(o=1;o<w.length;o+=2){if(w[o]===a){v[E]=parseFloat(w[o+1]);continue}var S=f[w[o]];m[E][S]=(l[S]<0?-1:1)*parseFloat(w[o+1])}break;case 4:for(o=1;o<w.length;o+=2)g[f[w[o]]]=(l[f[w[o]]]<0?-1:1)*parseFloat(w[o+1]);break;case 5:break;case 6:y("Internal error")}}y("Reached end of file without ENDATA")};numeric.seedrandom={pow:Math.pow,random:Math.random};(function(e,t,n,r,i,s,o){function u(e){var t,r,i=this,s=e.length;var o=0,u=i.i=i.j=i.m=0;i.S=[];i.c=[];if(!s){e=[s++]}while(o<n){i.S[o]=o++}for(o=0;o<n;o++){t=i.S[o];u=l(u+t+e[o%s]);r=i.S[u];i.S[o]=r;i.S[u]=t}i.g=function(t){var r=i.S;var s=l(i.i+1);var o=r[s];var u=l(i.j+o);var a=r[u];r[s]=a;r[u]=o;var f=r[l(o+a)];while(--t){s=l(s+1);o=r[s];u=l(u+o);a=r[u];r[s]=a;r[u]=o;f=f*n+r[l(o+a)]}i.i=s;i.j=u;return f};i.g(n)}function a(e,t,n,r,i){n=[];i=typeof e;if(t&&i=="object"){for(r in e){if(r.indexOf("S")<5){try{n.push(a(e[r],t-1))}catch(s){}}}}return n.length?n:e+(i!="string"?"\0":"")}function f(e,t,n,r){e+="";n=0;for(r=0;r<e.length;r++){t[l(r)]=l((n^=t[l(r)]*19)+e.charCodeAt(r))}e="";for(r in t){e+=String.fromCharCode(t[r])}return e}function l(e){return e&n-1}t["seedrandom"]=function(c,h){var p=[];var d;c=f(a(h?[c,e]:arguments.length?c:[(new Date).getTime(),e,window],3),p);d=new u(p);f(d.S,e);t["random"]=function(){var t=d.g(r);var u=o;var a=0;while(t<i){t=(t+a)*n;u*=n;a=d.g(1)}while(t>=s){t/=2;u/=2;a>>>=1}return(t+a)/u};return c};o=t.pow(n,r);i=t.pow(2,i);s=i*2;f(t.random(),e)})([],numeric.seedrandom,256,6,52);(function(e){function t(e){if(typeof e!=="object"){return e}var n=[],r,i=e.length;for(r=0;r<i;r++)n[r+1]=t(e[r]);return n}function n(e){if(typeof e!=="object"){return e}var t=[],r,i=e.length;for(r=1;r<i;r++)t[r-1]=n(e[r]);return t}function r(e,t,n){var r,i,s,o,u;for(s=1;s<=n;s=s+1){e[s][s]=1/e[s][s];u=-e[s][s];for(r=1;r<s;r=r+1){e[r][s]=u*e[r][s]}o=s+1;if(n<o){break}for(i=o;i<=n;i=i+1){u=e[s][i];e[s][i]=0;for(r=1;r<=s;r=r+1){e[r][i]=e[r][i]+u*e[r][s]}}}}function i(e,t,n,r){var i,s,o,u;for(s=1;s<=n;s=s+1){u=0;for(i=1;i<s;i=i+1){u=u+e[i][s]*r[i]}r[s]=(r[s]-u)/e[s][s]}for(o=1;o<=n;o=o+1){s=n+1-o;r[s]=r[s]/e[s][s];u=-r[s];for(i=1;i<s;i=i+1){r[i]=r[i]+u*e[i][s]}}}function s(e,t,n,r){var i,s,o,u,a,f;for(s=1;s<=n;s=s+1){r[1]=s;f=0;o=s-1;if(o<1){f=e[s][s]-f;if(f<=0){break}e[s][s]=Math.sqrt(f)}else{for(u=1;u<=o;u=u+1){a=e[u][s];for(i=1;i<u;i=i+1){a=a-e[i][s]*e[i][u]}a=a/e[u][u];e[u][s]=a;f=f+a*a}f=e[s][s]-f;if(f<=0){break}e[s][s]=Math.sqrt(f)}r[1]=0}}function o(e,t,n,o,u,a,f,l,c,h,p,d,v,m,g,y){function V(){m[1]=m[1]+1;E=L;for(b=1;b<=h;b=b+1){E=E+1;P=-l[b];for(w=1;w<=o;w=w+1){P=P+f[w][b]*u[w]}if(Math.abs(P)<U){P=0}if(b>p){g[E]=P}else{g[E]=-Math.abs(P);if(P>0){for(w=1;w<=o;w=w+1){f[w][b]=-f[w][b]}l[b]=-l[b]}}}for(b=1;b<=v;b=b+1){g[L+d[b]]=0}O=0;D=0;for(b=1;b<=h;b=b+1){if(g[L+b]<D*g[_+b]){O=b;D=g[L+b]/g[_+b]}}if(O===0){return 999}return 0}function $(){for(b=1;b<=o;b=b+1){P=0;for(w=1;w<=o;w=w+1){P=P+e[w][b]*f[w][O]}g[b]=P}S=N;for(b=1;b<=o;b=b+1){g[S+b]=0}for(w=v+1;w<=o;w=w+1){for(b=1;b<=o;b=b+1){g[S+b]=g[S+b]+e[b][w]*g[w]}}q=true;for(b=v;b>=1;b=b-1){P=g[b];E=k+b*(b+3)/2;S=E-b;for(w=b+1;w<=v;w=w+1){P=P-g[E]*g[C+w];E=E+w}P=P/g[S];g[C+b]=P;if(d[b]<p){break}if(P<0){break}q=false;T=b}if(!q){H=g[A+T]/g[C+T];for(b=1;b<=v;b=b+1){if(d[b]<p){break}if(g[C+b]<0){break}D=g[A+b]/g[C+b];if(D<H){H=D;T=b}}}P=0;for(b=N+1;b<=N+o;b=b+1){P=P+g[b]*g[b]}if(Math.abs(P)<=U){if(q){y[1]=1;return 999}else{for(b=1;b<=v;b=b+1){g[A+b]=g[A+b]-H*g[C+b]}g[A+v+1]=g[A+v+1]+H;return 700}}else{P=0;for(b=1;b<=o;b=b+1){P=P+g[N+b]*f[b][O]}B=-g[L+O]/P;R=true;if(!q){if(H<B){B=H;R=false}}for(b=1;b<=o;b=b+1){u[b]=u[b]+B*g[N+b];if(Math.abs(u[b])<U){u[b]=0}}a[1]=a[1]+B*P*(B/2+g[A+v+1]);for(b=1;b<=v;b=b+1){g[A+b]=g[A+b]-B*g[C+b]}g[A+v+1]=g[A+v+1]+B;if(R){v=v+1;d[v]=O;E=k+(v-1)*v/2+1;for(b=1;b<=v-1;b=b+1){g[E]=g[b];E=E+1}if(v===o){g[E]=g[o]}else{for(b=o;b>=v+1;b=b-1){if(g[b]===0){break}j=Math.max(Math.abs(g[b-1]),Math.abs(g[b]));F=Math.min(Math.abs(g[b-1]),Math.abs(g[b]));if(g[b-1]>=0){D=Math.abs(j*Math.sqrt(1+F*F/(j*j)))}else{D=-Math.abs(j*Math.sqrt(1+F*F/(j*j)))}j=g[b-1]/D;F=g[b]/D;if(j===1){break}if(j===0){g[b-1]=F*D;for(w=1;w<=o;w=w+1){D=e[w][b-1];e[w][b-1]=e[w][b];e[w][b]=D}}else{g[b-1]=D;I=F/(1+j);for(w=1;w<=o;w=w+1){D=j*e[w][b-1]+F*e[w][b];e[w][b]=I*(e[w][b-1]+D)-e[w][b];e[w][b-1]=D}}}g[E]=g[v]}}else{P=-l[O];for(w=1;w<=o;w=w+1){P=P+u[w]*f[w][O]}if(O>p){g[L+O]=P}else{g[L+O]=-Math.abs(P);if(P>0){for(w=1;w<=o;w=w+1){f[w][O]=-f[w][O]}l[O]=-l[O]}}return 700}}return 0}function J(){E=k+T*(T+1)/2+1;S=E+T;if(g[S]===0){return 798}j=Math.max(Math.abs(g[S-1]),Math.abs(g[S]));F=Math.min(Math.abs(g[S-1]),Math.abs(g[S]));if(g[S-1]>=0){D=Math.abs(j*Math.sqrt(1+F*F/(j*j)))}else{D=-Math.abs(j*Math.sqrt(1+F*F/(j*j)))}j=g[S-1]/D;F=g[S]/D;if(j===1){return 798}if(j===0){for(b=T+1;b<=v;b=b+1){D=g[S-1];g[S-1]=g[S];g[S]=D;S=S+b}for(b=1;b<=o;b=b+1){D=e[b][T];e[b][T]=e[b][T+1];e[b][T+1]=D}}else{I=F/(1+j);for(b=T+1;b<=v;b=b+1){D=j*g[S-1]+F*g[S];g[S]=I*(g[S-1]+D)-g[S];g[S-1]=D;S=S+b}for(b=1;b<=o;b=b+1){D=j*e[b][T]+F*e[b][T+1];e[b][T+1]=I*(e[b][T]+D)-e[b][T+1];e[b][T]=D}}return 0}function K(){S=E-T;for(b=1;b<=T;b=b+1){g[S]=g[E];E=E+1;S=S+1}g[A+T]=g[A+T+1];d[T]=d[T+1];T=T+1;if(T<v){return 797}return 0}function Q(){g[A+v]=g[A+v+1];g[A+v+1]=0;d[v]=0;v=v-1;m[2]=m[2]+1;return 0}var b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X;M=Math.min(o,h);E=2*o+M*(M+5)/2+2*h+1;U=1e-60;do{U=U+U;z=1+.1*U;W=1+.2*U}while(z<=1||W<=1);for(b=1;b<=o;b=b+1){g[b]=t[b]}for(b=o+1;b<=E;b=b+1){g[b]=0}for(b=1;b<=h;b=b+1){d[b]=0}x=[];if(y[1]===0){s(e,n,o,x);if(x[1]!==0){y[1]=2;return}i(e,n,o,t);r(e,n,o)}else{for(w=1;w<=o;w=w+1){u[w]=0;for(b=1;b<=w;b=b+1){u[w]=u[w]+e[b][w]*t[b]}}for(w=1;w<=o;w=w+1){t[w]=0;for(b=w;b<=o;b=b+1){t[w]=t[w]+e[w][b]*u[b]}}}a[1]=0;for(w=1;w<=o;w=w+1){u[w]=t[w];a[1]=a[1]+g[w]*u[w];g[w]=0;for(b=w+1;b<=o;b=b+1){e[b][w]=0}}a[1]=-a[1]/2;y[1]=0;N=o;C=N+o;A=C+M;k=A+M+1;L=k+M*(M+1)/2;_=L+h;for(b=1;b<=h;b=b+1){P=0;for(w=1;w<=o;w=w+1){P=P+f[w][b]*f[w][b]}g[_+b]=Math.sqrt(P)}v=0;m[1]=0;m[2]=0;X=0;while(true){X=V();if(X===999){return}while(true){X=$();if(X===0){break}if(X===999){return}if(X===700){if(T===v){Q()}else{while(true){J();X=K();if(X!==797){break}}Q()}}}}}function u(e,r,i,s,u,a){e=t(e);r=t(r);i=t(i);var f,l,c,h,p,d=[],v=[],m=[],g=[],y=[],b;u=u||0;a=a?t(a):[undefined,0];s=s?t(s):[];l=e.length-1;c=i[1].length-1;if(!s){for(f=1;f<=c;f=f+1){s[f]=0}}for(f=1;f<=c;f=f+1){v[f]=0}h=0;p=Math.min(l,c);for(f=1;f<=l;f=f+1){m[f]=0}d[1]=0;for(f=1;f<=2*l+p*(p+5)/2+2*c+1;f=f+1){g[f]=0}for(f=1;f<=2;f=f+1){y[f]=0}o(e,r,l,l,m,d,i,s,l,c,u,v,h,y,g,a);b="";if(a[1]===1){b="constraints are inconsistent, no solution!"}if(a[1]===2){b="matrix D in quadratic function is not positive definite!"}return{solution:n(m),value:n(d),unconstrained_solution:n(r),iterations:n(y),iact:n(v),message:b}}e.solveQP=u})(numeric);numeric.svd=function(t){function g(e,t){e=Math.abs(e);t=Math.abs(t);if(e>t)return e*Math.sqrt(1+t*t/e/e);else if(t==0)return e;return t*Math.sqrt(1+e*e/t/t)}var n;var r=numeric.epsilon;var i=1e-64/r;var s=50;var o=0;var u=0;var a=0;var f=0;var l=0;var c=numeric.clone(t);var h=c.length;var p=c[0].length;if(h<p)throw"Need more rows than columns";var d=new Array(p);var v=new Array(p);for(u=0;u<p;u++)d[u]=v[u]=0;var m=numeric.rep([p,p],0);var y=0;var b=0;var w=0;var E=0;var S=0;var x=0;var T=0;for(u=0;u<p;u++){d[u]=b;T=0;l=u+1;for(a=u;a<h;a++)T+=c[a][u]*c[a][u];if(T<=i)b=0;else{y=c[u][u];b=Math.sqrt(T);if(y>=0)b=-b;w=y*b-T;c[u][u]=y-b;for(a=l;a<p;a++){T=0;for(f=u;f<h;f++)T+=c[f][u]*c[f][a];y=T/w;for(f=u;f<h;f++)c[f][a]+=y*c[f][u]}}v[u]=b;T=0;for(a=l;a<p;a++)T=T+c[u][a]*c[u][a];if(T<=i)b=0;else{y=c[u][u+1];b=Math.sqrt(T);if(y>=0)b=-b;w=y*b-T;c[u][u+1]=y-b;for(a=l;a<p;a++)d[a]=c[u][a]/w;for(a=l;a<h;a++){T=0;for(f=l;f<p;f++)T+=c[a][f]*c[u][f];for(f=l;f<p;f++)c[a][f]+=T*d[f]}}S=Math.abs(v[u])+Math.abs(d[u]);if(S>E)E=S}for(u=p-1;u!=-1;u+=-1){if(b!=0){w=b*c[u][u+1];for(a=l;a<p;a++)m[a][u]=c[u][a]/w;for(a=l;a<p;a++){T=0;for(f=l;f<p;f++)T+=c[u][f]*m[f][a];for(f=l;f<p;f++)m[f][a]+=T*m[f][u]}}for(a=l;a<p;a++){m[u][a]=0;m[a][u]=0}m[u][u]=1;b=d[u];l=u}for(u=p-1;u!=-1;u+=-1){l=u+1;b=v[u];for(a=l;a<p;a++)c[u][a]=0;if(b!=0){w=c[u][u]*b;for(a=l;a<p;a++){T=0;for(f=l;f<h;f++)T+=c[f][u]*c[f][a];y=T/w;for(f=u;f<h;f++)c[f][a]+=y*c[f][u]}for(a=u;a<h;a++)c[a][u]=c[a][u]/b}else for(a=u;a<h;a++)c[a][u]=0;c[u][u]+=1}r=r*E;for(f=p-1;f!=-1;f+=-1){for(var N=0;N<s;N++){var C=false;for(l=f;l!=-1;l+=-1){if(Math.abs(d[l])<=r){C=true;break}if(Math.abs(v[l-1])<=r)break}if(!C){o=0;T=1;var k=l-1;for(u=l;u<f+1;u++){y=T*d[u];d[u]=o*d[u];if(Math.abs(y)<=r)break;b=v[u];w=g(y,b);v[u]=w;o=b/w;T=-y/w;for(a=0;a<h;a++){S=c[a][k];x=c[a][u];c[a][k]=S*o+x*T;c[a][u]=-S*T+x*o}}}x=v[f];if(l==f){if(x<0){v[f]=-x;for(a=0;a<p;a++)m[a][f]=-m[a][f]}break}if(N>=s-1)throw"Error: no convergence.";E=v[l];S=v[f-1];b=d[f-1];w=d[f];y=((S-x)*(S+x)+(b-w)*(b+w))/(2*w*S);b=g(y,1);if(y<0)y=((E-x)*(E+x)+w*(S/(y-b)-w))/E;else y=((E-x)*(E+x)+w*(S/(y+b)-w))/E;o=1;T=1;for(u=l+1;u<f+1;u++){b=d[u];S=v[u];w=T*b;b=o*b;x=g(y,w);d[u-1]=x;o=y/x;T=w/x;y=E*o+b*T;b=-E*T+b*o;w=S*T;S=S*o;for(a=0;a<p;a++){E=m[a][u-1];x=m[a][u];m[a][u-1]=E*o+x*T;m[a][u]=-E*T+x*o}x=g(y,w);v[u-1]=x;o=y/x;T=w/x;y=o*b+T*S;E=-T*b+o*S;for(a=0;a<h;a++){S=c[a][u-1];x=c[a][u];c[a][u-1]=S*o+x*T;c[a][u]=-S*T+x*o}}d[l]=0;d[f]=y;v[f]=E}}for(u=0;u<v.length;u++)if(v[u]<r)v[u]=0;for(u=0;u<p;u++){for(a=u-1;a>=0;a--){if(v[a]<v[u]){o=v[a];v[a]=v[u];v[u]=o;for(f=0;f<c.length;f++){n=c[f][u];c[f][u]=c[f][a];c[f][a]=n}for(f=0;f<m.length;f++){n=m[f][u];m[f][u]=m[f][a];m[f][a]=n}u=a}}}return{U:c,S:v,V:m}}}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],8:[function(e,t,n){!function(e,r){"use strict";function c(e,t){var n,r,i=e.toLowerCase();t=[].concat(t);for(n=0;n<t.length;n+=1){r=t[n];if(!r)continue;if(r.test&&r.test(e))return true;if(r.toLowerCase()===i)return true}}var i=r.prototype.trim;var s=r.prototype.trimRight;var o=r.prototype.trimLeft;var u=function(e){return e*1||0};var a=function(e,t){if(t<1)return"";var n="";while(t>0){if(t&1)n+=e;t>>=1,e+=e}return n};var f=[].slice;var l=function(e){if(e==null)return"\\s";else if(e.source)return e.source;else return"["+m.escapeRegExp(e)+"]"};var h={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};var p={};for(var d in h)p[h[d]]=d;p["'"]="#39";var v=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var t=a;var n=function(){if(!n.cache.hasOwnProperty(arguments[0])){n.cache[arguments[0]]=n.parse(arguments[0])}return n.format.call(null,n.cache[arguments[0]],arguments)};n.format=function(n,i){var s=1,o=n.length,u="",a,f=[],l,c,h,p,d,m;for(l=0;l<o;l++){u=e(n[l]);if(u==="string"){f.push(n[l])}else if(u==="array"){h=n[l];if(h[2]){a=i[s];for(c=0;c<h[2].length;c++){if(!a.hasOwnProperty(h[2][c])){throw new Error(v('[_.sprintf] property "%s" does not exist',h[2][c]))}a=a[h[2][c]]}}else if(h[1]){a=i[h[1]]}else{a=i[s++]}if(/[^s]/.test(h[8])&&e(a)!="number"){throw new Error(v("[_.sprintf] expecting number but found %s",e(a)))}switch(h[8]){case"b":a=a.toString(2);break;case"c":a=r.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=h[7]?a.toExponential(h[7]):a.toExponential();break;case"f":a=h[7]?parseFloat(a).toFixed(h[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=r(a))&&h[7]?a.substring(0,h[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase();break}a=/[def]/.test(h[8])&&h[3]&&a>=0?"+"+a:a;d=h[4]?h[4]=="0"?"0":h[4].charAt(1):" ";m=h[6]-r(a).length;p=h[6]?t(d,m):"";f.push(h[5]?a+p:p+a)}}return f.join("")};n.cache={};n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null){r.push(n[0])}else if((n=/^\x25{2}/.exec(t))!==null){r.push("%")}else if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))!==null){if(n[2]){i|=1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))!==null){s.push(u[1]);while((o=o.substring(u[0].length))!==""){if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null){s.push(u[1])}else if((u=/^\[(\d+)\]/.exec(o))!==null){s.push(u[1])}else{throw new Error("[_.sprintf] huh?")}}}else{throw new Error("[_.sprintf] huh?")}n[2]=s}else{i|=2}if(i===3){throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported")}r.push(n)}else{throw new Error("[_.sprintf] huh?")}t=t.substring(n[0].length)}return r};return n}();var m={VERSION:"2.3.0",isBlank:function(e){if(e==null)e="";return/^\s*$/.test(e)},stripTags:function(e){if(e==null)return"";return r(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){e=e==null?"":r(e);return e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,t){if(e==null)return[];e=r(e);t=~~t;return t>0?e.match(new RegExp(".{1,"+t+"}","g")):[e]},clean:function(e){return m.strip(e).replace(/\s+/g," ")},count:function(e,t){if(e==null||t==null)return 0;e=r(e);t=r(t);var n=0,i=0,s=t.length;while(true){i=e.indexOf(t,i);if(i===-1)break;n++;i+=s}return n},chars:function(e){if(e==null)return[];return r(e).split("")},swapCase:function(e){if(e==null)return"";return r(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){if(e==null)return"";return r(e).replace(/[&<>"']/g,function(e){return"&"+p[e]+";"})},unescapeHTML:function(e){if(e==null)return"";return r(e).replace(/\&([^;]+);/g,function(e,t){var n;if(t in h){return h[t]}else if(n=t.match(/^#x([\da-fA-F]+)$/)){return r.fromCharCode(parseInt(n[1],16))}else if(n=t.match(/^#(\d+)$/)){return r.fromCharCode(~~n[1])}else{return e}})},escapeRegExp:function(e){if(e==null)return"";return r(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,t,n,r){var i=m.chars(e);i.splice(~~t,~~n,r);return i.join("")},insert:function(e,t,n){return m.splice(e,t,0,n)},include:function(e,t){if(t==="")return true;if(e==null)return false;return r(e).indexOf(t)!==-1},join:function(){var e=f.call(arguments),t=e.shift();if(t==null)t="";return e.join(t)},lines:function(e){if(e==null)return[];return r(e).split("\n")},reverse:function(e){return m.chars(e).reverse().join("")},startsWith:function(e,t){if(t==="")return true;if(e==null||t==null)return false;e=r(e);t=r(t);return e.length>=t.length&&e.slice(0,t.length)===t},endsWith:function(e,t){if(t==="")return true;if(e==null||t==null)return false;e=r(e);t=r(t);return e.length>=t.length&&e.slice(e.length-t.length)===t},succ:function(e){if(e==null)return"";e=r(e);return e.slice(0,-1)+r.fromCharCode(e.charCodeAt(e.length-1)+1)},titleize:function(e){if(e==null)return"";e=r(e).toLowerCase();return e.replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})},camelize:function(e){return m.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})},underscored:function(e){return m.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(e){return m.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return m.titleize(r(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(e){return m.capitalize(m.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,t){if(e==null)return"";if(!t&&i)return i.call(e);t=l(t);return r(e).replace(new RegExp("^"+t+"+|"+t+"+$","g"),"")},ltrim:function(e,t){if(e==null)return"";if(!t&&o)return o.call(e);t=l(t);return r(e).replace(new RegExp("^"+t+"+"),"")},rtrim:function(e,t){if(e==null)return"";if(!t&&s)return s.call(e);t=l(t);return r(e).replace(new RegExp(t+"+$"),"")},truncate:function(e,t,n){if(e==null)return"";e=r(e);n=n||"...";t=~~t;return e.length>t?e.slice(0,t)+n:e},prune:function(e,t,n){if(e==null)return"";e=r(e);t=~~t;n=n!=null?r(n):"...";if(e.length<=t)return e;var i=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},s=e.slice(0,t+1).replace(/.(?=\W*\w*$)/g,i);if(s.slice(s.length-2).match(/\w\w/))s=s.replace(/\s*\S+$/,"");else s=m.rtrim(s.slice(0,s.length-1));return(s+n).length>e.length?e:e.slice(0,s.length)+n},words:function(e,t){if(m.isBlank(e))return[];return m.trim(e,t).split(t||/\s+/)},pad:function(e,t,n,i){e=e==null?"":r(e);t=~~t;var s=0;if(!n)n=" ";else if(n.length>1)n=n.charAt(0);switch(i){case"right":s=t-e.length;return e+a(n,s);case"both":s=t-e.length;return a(n,Math.ceil(s/2))+e+a(n,Math.floor(s/2));default:s=t-e.length;return a(n,s)+e}},lpad:function(e,t,n){return m.pad(e,t,n)},rpad:function(e,t,n){return m.pad(e,t,n,"right")},lrpad:function(e,t,n){return m.pad(e,t,n,"both")},sprintf:v,vsprintf:function(e,t){t.unshift(e);return v.apply(null,t)},toNumber:function(e,t){if(!e)return 0;e=m.trim(e);if(!e.match(/^-?\d+(?:\.\d+)?$/))return NaN;return u(u(e).toFixed(~~t))},numberFormat:function(e,t,n,r){if(isNaN(e)||e==null)return"";e=e.toFixed(~~t);r=typeof r=="string"?r:",";var i=e.split("."),s=i[0],o=i[1]?(n||".")+i[1]:"";return s.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+o},strRight:function(e,t){if(e==null)return"";e=r(e);t=t!=null?r(t):t;var n=!t?-1:e.indexOf(t);return~n?e.slice(n+t.length,e.length):e},strRightBack:function(e,t){if(e==null)return"";e=r(e);t=t!=null?r(t):t;var n=!t?-1:e.lastIndexOf(t);return~n?e.slice(n+t.length,e.length):e},strLeft:function(e,t){if(e==null)return"";e=r(e);t=t!=null?r(t):t;var n=!t?-1:e.indexOf(t);return~n?e.slice(0,n):e},strLeftBack:function(e,t){if(e==null)return"";e+="";t=t!=null?""+t:t;var n=e.lastIndexOf(t);return~n?e.slice(0,n):e},toSentence:function(e,t,n,r){t=t||", ";n=n||" and ";var i=e.slice(),s=i.pop();if(e.length>2&&r)n=m.rtrim(t)+n;return i.length?i.join(t)+n+s:s},toSentenceSerial:function(){var e=f.call(arguments);e[3]=true;return m.toSentence.apply(m,e)},slugify:function(e){if(e==null)return"";var t="?àáäâãåæ???èéëêìíïî??òóöôõø???ùúüûñç??",n="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",i=new RegExp(l(t),"g");e=r(e).toLowerCase().replace(i,function(e){var r=t.indexOf(e);return n.charAt(r)||"-"});return m.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,t){return[t,e,t].join("")},quote:function(e,t){return m.surround(e,t||'"')},unquote:function(e,t){t=t||'"';if(e[0]===t&&e[e.length-1]===t)return e.slice(1,e.length-1);else return e},exports:function(){var e={};for(var t in this){if(!this.hasOwnProperty(t)||t.match(/^(?:include|contains|reverse)$/))continue;e[t]=this[t]}return e},repeat:function(e,t,n){if(e==null)return"";t=~~t;if(n==null)return a(r(e),t);for(var i=[];t>0;i[--t]=e){}return i.join(n)},naturalCmp:function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;var n=/(\.\d+)|(\d+)|(\D+)/g,i=r(e).toLowerCase().match(n),s=r(t).toLowerCase().match(n),o=Math.min(i.length,s.length);for(var u=0;u<o;u++){var a=i[u],f=s[u];if(a!==f){var l=parseInt(a,10);if(!isNaN(l)){var c=parseInt(f,10);if(!isNaN(c)&&l-c)return l-c}return a<f?-1:1}}if(i.length===s.length)return i.length-s.length;return e<t?-1:1},levenshtein:function(e,t){if(e==null&&t==null)return 0;if(e==null)return r(t).length;if(t==null)return r(e).length;e=r(e);t=r(t);var n=[],i,s;for(var o=0;o<=t.length;o++)for(var u=0;u<=e.length;u++){if(o&&u)if(e.charAt(u-1)===t.charAt(o-1))s=i;else s=Math.min(n[u],n[u-1],i)+1;else s=o+u;i=n[u];n[u]=s}return n.pop()},toBoolean:function(e,t,n){if(typeof e==="number")e=""+e;if(typeof e!=="string")return!!e;e=m.trim(e);if(c(e,t||["true","1"]))return true;if(c(e,n||["false","0"]))return false}};m.strip=m.trim;m.lstrip=m.ltrim;m.rstrip=m.rtrim;m.center=m.lrpad;m.rjust=m.lpad;m.ljust=m.rpad;m.contains=m.include;m.q=m.quote;m.toBool=m.toBoolean;if(typeof n!=="undefined"){if(typeof t!=="undefined"&&t.exports)t.exports=m;n._s=m}if(typeof define==="function"&&define.amd)define("underscore.string",[],function(){return m});e._=e._||{};e._.string=e._.str=m}(this,String)},{}],9:[function(e,t,n){formulajs=e("./lib/formula.js");console.log("loaded.")},{"./lib/formula.js":1}]},{},[9])